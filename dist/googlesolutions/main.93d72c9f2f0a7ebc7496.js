(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n("30Go"),r=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:o,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var r=Object(i.h)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=Object(i.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(u.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),s=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("7o/Q"),r=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.a}),i.a.registerVersion("firebase","8.2.5","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("EY2u"),r=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends r.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZWlK:function(t,e,n){(function(t){var i,r=this.createjs=this.createjs||{};this.createjs=this.createjs||{},r.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},r.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var r in n[(e+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r]);return t},r.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},r.Event=t}(),function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i,r=(i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&this.removeEventListener(t,e,n),(r=i[t])?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,s){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},s)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var s=0,o=r.length;s<o;s++)if(r[s]==e){1==o?delete i[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new r.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(u){}if(t.bubbles&&this.parent){for(var s=this,o=[s];s.parent;)o.push(s=s.parent);var a,c=o.length;for(a=c-1;a>=0&&!t.propagationStopped;a--)o[a]._dispatchEvent(t,1+(0==a));for(a=1;a<c&&!t.propagationStopped;a++)o[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(a){}try{t.eventPhase=e}catch(a){}t.removed=!1,r=r.slice();for(var s=0;s<n&&!t.immediatePropagationStopped;s++){var o=r[s];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},r.EventDispatcher=t}(),function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,r.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(n){console.log(n)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var n=0,i=t._tickTimes;if(!i||i.length<1)return-1;e=Math.min(i.length,e||0|t.getFPS());for(var r=0;r<e;r++)n+=i[r];return n/e},t.getMeasuredFPS=function(e){var n=t._times;return!n||n.length<2?-1:(e=Math.min(n.length-1,e||0|t.getFPS()),1e3/((n[0]-n[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return t._timerId=n(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),i=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=i),t.hasEventListener("tick")){var s=new r.Event("tick"),o=t.maxDelta;s.delta=o&&i>o?o:i,s.paused=e,s.time=n,s.runTime=n-t._pausedTime,t.dispatchEvent(s)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var e=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(e&&e.call(performance)||(new Date).getTime())-t._startTime},r.Ticker=t}(),function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},r.UID=t}(),function(){"use strict";function t(t,e,n,i,r,s,o,a,c,u,l){this.Event_constructor(t,e,n),this.stageX=i,this.stageY=r,this.rawX=null==c?i:c,this.rawY=null==u?r:u,this.nativeEvent=s,this.pointerID=o,this.primary=!!a,this.relatedTarget=l}var e=r.extend(t,r.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(n){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},r.MouseEvent=r.promote(t,"Event")}(),function(){"use strict";function t(t,e,n,i,r,s){this.setValues(t,e,n,i,r,s)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,n,i,r,s){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=r||0,this.ty=s||0,this},e.append=function(t,e,n,i,r,s){var o=this.a,a=this.b,c=this.c,u=this.d;return 1==t&&0==e&&0==n&&1==i||(this.a=o*t+c*e,this.b=a*t+u*e,this.c=o*n+c*i,this.d=a*n+u*i),this.tx=o*r+c*s+this.tx,this.ty=a*r+u*s+this.ty,this},e.prepend=function(t,e,n,i,r,s){var o=this.a,a=this.c,c=this.tx;return this.a=t*o+n*this.b,this.b=e*o+i*this.b,this.c=t*a+n*this.d,this.d=e*a+i*this.d,this.tx=t*c+n*this.ty+r,this.ty=e*c+i*this.ty+s,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,n,i,r,s,o,a,c,u){if(s%360)var l=s*t.DEG_TO_RAD,h=Math.cos(l),d=Math.sin(l);else h=1,d=0;return o||a?(o*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,n),this.append(h*i,d*i,-d*r,h*r,0,0)):this.append(h*i,d*i,-d*r,h*r,e,n),(c||u)&&(this.tx-=c*this.a+u*this.c,this.ty-=c*this.b+u*this.d),this},e.prependTransform=function(e,n,i,r,s,o,a,c,u){if(s%360)var l=s*t.DEG_TO_RAD,h=Math.cos(l),d=Math.sin(l);else h=1,d=0;return(c||u)&&(this.tx-=c,this.ty-=u),o||a?(o*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.prepend(h*i,d*i,-d*r,h*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,n)):this.prepend(h*i,d*i,-d*r,h*r,e,n),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),i=Math.sin(e),r=this.a,s=this.b;return this.a=r*n+this.c*i,this.b=s*n+this.d*i,this.c=-r*i+this.c*n,this.d=-s*i+this.d*n,this},e.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,s=t*i-e*n;return this.a=i/s,this.b=-e/s,this.c=-n/s,this.d=t/s,this.tx=(n*this.ty-i*r)/s,this.ty=-(t*this.ty-e*r)/s,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,n){return(n=n||{}).x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return Math.abs(1-n/i)<1e-5?(e.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=i/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,r.Matrix2D=t}(),function(){"use strict";function t(t,e,n,i,r){this.setValues(t,e,n,i,r)}var e=t.prototype;e.setValues=function(t,e,n,i,s){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=n,this.compositeOperation=i,this.matrix=s||this.matrix&&this.matrix.identity()||new r.Matrix2D,this},e.append=function(t,e,n,i,r){return this.alpha*=e,this.shadow=n||this.shadow,this.compositeOperation=i||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this},e.prepend=function(t,e,n,i,r){return this.alpha*=e,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||i,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},r.DisplayProps=t}(),function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},r.Point=t}(),function(){"use strict";function t(t,e,n,i){this.setValues(t,e,n,i)}var e=t.prototype;e.setValues=function(t,e,n,i){return this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this},e.extend=function(t,e,n,i){return i=i||0,t+(n=n||0)>this.x+this.width&&(this.width=t+n-this.x),e+i>this.y+this.height&&(this.height=e+i-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,n,i){return this.x-=e,this.y-=t,this.width+=e+i,this.height+=t+n,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,n,i){return n=n||0,i=i||0,t>=this.x&&t+n<=this.x+this.width&&e>=this.y&&e+i<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var n=e.x,i=e.y,r=n+e.width,s=i+e.height;return this.x>n&&(n=this.x),this.y>i&&(i=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<s&&(s=this.y+this.height),r<=n||s<=i?null:new t(n,i,r-n,s-i)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},r.Rectangle=t}(),function(){"use strict";function t(t,e,n,i,r,s,o){t.addEventListener&&(this.target=t,this.overLabel=null==n?"over":n,this.outLabel=null==e?"out":e,this.downLabel=null==i?"down":i,this.play=r,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),s&&(o&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(o)),t.hitArea=s))}var e=t.prototype;e.setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.getEnabled=function(){return this._enabled};try{Object.defineProperties(e,{enabled:{get:e.getEnabled,set:e.setEnabled}})}catch(n){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,n=this.target,i=t.type;"mousedown"==i?(this._isPressed=!0,e=this.downLabel):"pressup"==i?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==i?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(e):n.gotoAndStop&&n.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},r.ButtonHelper=t}(),function(){"use strict";function t(t,e,n,i){this.color=t||"black",this.offsetX=e||0,this.offsetY=n||0,this.blur=i||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},r.Shadow=t}(),function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=r.extend(t,r.EventDispatcher);e.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(e,{animations:{get:e.getAnimations}})}catch(n){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var n=this.getFrame(t);return n?(e||new r.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,n,i,s;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(n=t.images.length)>0)for(s=this._images=[],e=0;e<n;e++){var o=t.images[e];if("string"==typeof o){var a=o;(o=document.createElement("img")).src=a}s.push(o),o.getContext||o.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){o.onload=function(){t._handleImageLoad(e)}}(this,a),function(t,e){o.onerror=function(){t._handleImageError(e)}}(this,a))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],e=0,n=(s=t.frames).length;e<n;e++){var c=s[e];this._frames.push({image:this._images[c[4]?c[4]:0],rect:new r.Rectangle(c[0],c[1],c[2],c[3]),regX:c[5]||0,regY:c[6]||0})}else this._frameWidth=(i=t.frames).width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();var u;if(this._animations=[],null!=(i=t.animations))for(u in this._data={},i){var l={name:u},h=i[u];if("number"==typeof h)s=l.frames=[h];else if(Array.isArray(h))if(1==h.length)l.frames=[h[0]];else for(l.speed=h[3],l.next=h[2],s=l.frames=[],e=h[0];e<=h[1];e++)s.push(e);else{l.speed=h.speed,l.next=h.next;var d=h.frames;s=l.frames="number"==typeof d?[d]:d.slice(0)}!0!==l.next&&void 0!==l.next||(l.next=u),(!1===l.next||s.length<2&&l.next==u)&&(l.next=null),l.speed||(l.speed=1),this._animations.push(u),this._data[u]=l}}},e._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new r.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,i=this._frameHeight,s=this._spacing,o=this._margin;t:for(var a=0,c=this._images;a<c.length;a++)for(var u=c[a],l=u.width,h=u.height,d=o;d<=h-o-i;){for(var f=o;f<=l-o-n;){if(e>=t)break t;e++,this._frames.push({image:u,rect:new r.Rectangle(f,d,n,i),regX:this._regX,regY:this._regY}),f+=n+s}d+=i+s}this._numFrames=e}},r.SpriteSheet=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,n=t;t.getRGB=function(t,e,n,i){return null!=t&&null==n&&(i=e,n=255&t,e=t>>8&255,t=t>>16&255),null==i?"rgb("+t+","+e+","+n+")":"rgba("+t+","+e+","+n+","+i+")"},t.getHSL=function(t,e,n,i){return null==i?"hsl("+t%360+","+e+"%,"+n+"%)":"hsla("+t%360+","+e+"%,"+n+"%,"+i+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var i=r.createCanvas?r.createCanvas():document.createElement("canvas");i.getContext&&(t._ctx=i.getContext("2d"),i.width=i.height=1),e.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(e,{instructions:{get:e.getInstructions}})}catch(s){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var n=this._instructions,i=this._storeIndex,r=n.length;i<r;i++)n[i].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,n=this._instructions,i=this._storeIndex,r=n.length;i<r;i++)!1!==(e=n[i]).path&&e.exec(t)},e.moveTo=function(t,e){return this.append(new n.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new n.LineTo(t,e))},e.arcTo=function(t,e,i,r,s){return this.append(new n.ArcTo(t,e,i,r,s))},e.arc=function(t,e,i,r,s,o){return this.append(new n.Arc(t,e,i,r,s,o))},e.quadraticCurveTo=function(t,e,i,r){return this.append(new n.QuadraticCurveTo(t,e,i,r))},e.bezierCurveTo=function(t,e,i,r,s,o){return this.append(new n.BezierCurveTo(t,e,i,r,s,o))},e.rect=function(t,e,i,r){return this.append(new n.Rect(t,e,i,r))},e.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new n.Fill(t):null)},e.beginLinearGradientFill=function(t,e,i,r,s,o){return this._setFill((new n.Fill).linearGradient(t,e,i,r,s,o))},e.beginRadialGradientFill=function(t,e,i,r,s,o,a,c){return this._setFill((new n.Fill).radialGradient(t,e,i,r,s,o,a,c))},e.beginBitmapFill=function(t,e,i){return this._setFill(new n.Fill(null,i).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,i,r,s){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(t,e,i,r,s),this._stroke&&(this._stroke.ignoreScale=s),this._strokeIgnoreScale=s,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new n.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,i,r,s,o){return this._setStroke((new n.Stroke).linearGradient(t,e,i,r,s,o))},e.beginRadialGradientStroke=function(t,e,i,r,s,o,a,c){return this._setStroke((new n.Stroke).radialGradient(t,e,i,r,s,o,a,c))},e.beginBitmapStroke=function(t,e){return this._setStroke((new n.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,n,i,r){return this.drawRoundRectComplex(t,e,n,i,r,r,r,r)},e.drawRoundRectComplex=function(t,e,i,r,s,o,a,c){return this.append(new n.RoundRect(t,e,i,r,s,o,a,c))},e.drawCircle=function(t,e,i){return this.append(new n.Circle(t,e,i))},e.drawEllipse=function(t,e,i,r){return this.append(new n.Ellipse(t,e,i,r))},e.drawPolyStar=function(t,e,i,r,s,o){return this.append(new n.PolyStar(t,e,i,r,s,o))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],r=0,s=e.length,o=[],a=0,c=0,u=t.BASE_64;r<s;){var l=e.charAt(r),h=u[l],d=h>>3,f=n[d];if(!f||3&h)throw"bad path data (@"+r+"): "+l;var p=i[d];d||(a=c=0),o.length=0,r++;for(var m=2+(h>>2&1),g=0;g<p;g++){var b=u[e.charAt(r)],_=b>>5?-1:1;b=(31&b)<<6|u[e.charAt(r+1)],3==m&&(b=b<<6|u[e.charAt(r+2)]),b=_*b/10,g%2?a=b+=a:c=b+=c,o[g]=b,r+=m}f.apply(this,o)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var n=this._instructions,i=this._activeInstructions;if(this._dirty&&i.length){n.length=this._commitIndex,n.push(t.beginCmd);var r=i.length,s=n.length;n.length=s+r;for(var o=0;o<r;o++)n[o+s]=i[o];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,n.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,n.push(this._strokeStyle)),n.push(this._stroke)),this._dirty=!1}e&&(i.length=0,this._commitIndex=n.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(n.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(n.ArcTo=function(t,e,n,i,r){this.x1=t,this.y1=e,this.x2=n,this.y2=i,this.radius=r}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(t,e,n,i,r,s){this.x=t,this.y=e,this.radius=n,this.startAngle=i,this.endAngle=r,this.anticlockwise=!!s}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(t,e,n,i){this.cpx=t,this.cpy=e,this.x=n,this.y=i}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(t,e,n,i,r,s){this.cp1x=t,this.cp1y=e,this.cp2x=n,this.cp2y=i,this.x=r,this.y=s}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(n.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},(e=(n.Fill=function(t,e){this.style=t,this.matrix=e}).prototype).exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,n,i,r,s,o){for(var a=this.style=t._ctx.createLinearGradient(i,r,s,o),c=0,u=e.length;c<u;c++)a.addColorStop(n[c],e[c]);return a.props={colors:e,ratios:n,x0:i,y0:r,x1:s,y1:o,type:"linear"},this},e.radialGradient=function(e,n,i,r,s,o,a,c){for(var u=this.style=t._ctx.createRadialGradient(i,r,s,o,a,c),l=0,h=e.length;l<h;l++)u.addColorStop(n[l],e[l]);return u.props={colors:e,ratios:n,x0:i,y0:r,r0:s,x1:o,y1:a,r1:c,type:"radial"},this},e.bitmap=function(e,n){return(e.naturalWidth||e.getContext||e.readyState>=2)&&((this.style=t._ctx.createPattern(e,n||"")).props={image:e,repetition:n,type:"bitmap"}),this},e.path=!1,(e=(n.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype).exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=n.Fill.prototype.linearGradient,e.radialGradient=n.Fill.prototype.radialGradient,e.bitmap=n.Fill.prototype.bitmap,e.path=!1,(e=(n.StrokeStyle=function(t,e,n,i,r){this.width=t,this.caps=e,this.joints=n,this.miterLimit=i,this.ignoreScale=r}).prototype).exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(n.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(t,e,n,i,r,s,o,a){this.x=t,this.y=e,this.w=n,this.h=i,this.radiusTL=r,this.radiusTR=s,this.radiusBR=o,this.radiusBL=a}).prototype.exec=function(t){var e=(c<u?c:u)/2,n=0,i=0,r=0,s=0,o=this.x,a=this.y,c=this.w,u=this.h,l=this.radiusTL,h=this.radiusTR,d=this.radiusBR,f=this.radiusBL;l<0&&(l*=n=-1),l>e&&(l=e),h<0&&(h*=i=-1),h>e&&(h=e),d<0&&(d*=r=-1),d>e&&(d=e),f<0&&(f*=s=-1),f>e&&(f=e),t.moveTo(o+c-h,a),t.arcTo(o+c+h*i,a-h*i,o+c,a+h,h),t.lineTo(o+c,a+u-d),t.arcTo(o+c+d*r,a+u+d*r,o+c-d,a+u,d),t.lineTo(o+f,a+u),t.arcTo(o-f*s,a+u+f*s,o,a+u-f,f),t.lineTo(o,a+l),t.arcTo(o-l*n,a-l*n,o+l,a,l),t.closePath()},(n.Circle=function(t,e,n){this.x=t,this.y=e,this.radius=n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.w,r=this.h,s=.5522848,o=i/2*s,a=r/2*s,c=e+i,u=n+r,l=e+i/2,h=n+r/2;t.moveTo(e,h),t.bezierCurveTo(e,h-a,l-o,n,l,n),t.bezierCurveTo(l+o,n,c,h-a,c,h),t.bezierCurveTo(c,h+a,l+o,u,l,u),t.bezierCurveTo(l-o,u,e,h+a,e,h)},(n.PolyStar=function(t,e,n,i,r,s){this.x=t,this.y=e,this.radius=n,this.sides=i,this.pointSize=r,this.angle=s}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.radius,r=(this.angle||0)/180*Math.PI,s=this.sides,o=1-(this.pointSize||0),a=Math.PI/s;t.moveTo(e+Math.cos(r)*i,n+Math.sin(r)*i);for(var c=0;c<s;c++)r+=a,1!=o&&t.lineTo(e+Math.cos(r)*i*o,n+Math.sin(r)*i*o),r+=a,t.lineTo(e+Math.cos(r)*i,n+Math.sin(r)*i);t.closePath()},t.beginCmd=new n.BeginPath,r.Graphics=t}(),function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=r.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new r.DisplayProps,this._rectangle=new r.Rectangle,this._bounds=null}var e=r.extend(t,r.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1;var n=r.createCanvas?r.createCanvas():document.createElement("canvas");n.getContext&&(t._hitTestCanvas=n,t._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._nextCacheID=1,e.getStage=function(){for(var t=this,e=r.Stage;t.parent;)t=t.parent;return t instanceof e?t:null};try{Object.defineProperties(e,{stage:{get:e.getStage}})}catch(i){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var n=this.cacheCanvas;if(e||!n)return!1;var i=this._cacheScale;return t.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/i,n.height/i),!0},e.updateContext=function(e){var n=this,i=n.mask,r=n._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(r),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.graphics.drawAsPath(e),e.clip(),r.invert(),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var s=r.tx,o=r.ty;t._snapToPixelEnabled&&n.snapToPixel&&(s=s+(s<0?-.5:.5)|0,o=o+(o<0?-.5:.5)|0),e.transform(r.a,r.b,r.c,r.d,s,o),e.globalAlpha*=n.alpha,n.compositeOperation&&(e.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(e,n.shadow)},e.cache=function(t,e,n,i,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=r.createCanvas?r.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=i,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=s,this.updateCache()},e.updateCache=function(e){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var i=this._cacheScale,r=this._cacheOffsetX*i,s=this._cacheOffsetY*i,o=this._cacheWidth,a=this._cacheHeight,c=n.getContext("2d"),u=this._getFilterBounds();r+=this._filterOffsetX=u.x,s+=this._filterOffsetY=u.y,o=Math.ceil(o*i)+u.width,a=Math.ceil(a*i)+u.height,o!=n.width||a!=n.height?(n.width=o,n.height=a):e||c.clearRect(0,0,o+1,a+1),c.save(),c.globalCompositeOperation=e,c.setTransform(i,0,0,i,-r,-s),this.draw(c,!0),this._applyFilters(),c.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.localToGlobal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n||new r.Point)},e.globalToLocal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n||new r.Point)},e.localToLocal=function(t,e,n,i){return i=this.localToGlobal(t,e,i),n.globalToLocal(i.x,i.y,i)},e.setTransform=function(t,e,n,i,r,s,o,a,c){return this.x=t||0,this.y=e||0,this.scaleX=null==n?1:n,this.scaleY=null==i?1:i,this.rotation=r||0,this.skewX=s||0,this.skewY=o||0,this.regX=a||0,this.regY=c||0,this},e.getMatrix=function(t){var e=this,n=t&&t.identity()||new r.Matrix2D;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,n=this.getMatrix(t);e=e.parent;)n.prependMatrix(e.getMatrix(e._props.matrix));return n},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new r.DisplayProps;var e=this,n=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t},e.hitTest=function(e,n){var i=t._hitTestContext;i.setTransform(1,0,0,1,-e,-n),this.draw(i);var r=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),r},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,n,i){null==t&&(this._bounds=t),this._bounds=(this._bounds||new r.Rectangle).setValues(t,e,n,i)},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var n=e.getImageData(0,0,1,1).data[3]>1}catch(i){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,i=this.cacheCanvas.height,r=0;r<t;r++)this.filters[r].applyFilter(e,0,0,n,i)},e._getFilterBounds=function(t){var e,n=this.filters,i=this._rectangle.setValues(0,0,0,0);if(!n||!(e=n.length))return i;for(var r=0;r<e;r++){var s=this.filters[r];s.getBounds&&s.getBounds(i)}return i},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,n){if(!t)return t;var i=t.x,r=t.y,s=t.width,o=t.height,a=this._props.matrix;a=n?a.identity():this.getMatrix(a),(i||r)&&a.appendTransform(0,0,1,1,0,0,0,-i,-r),e&&a.prependMatrix(e);var c=s*a.a,u=s*a.b,l=o*a.c,h=o*a.d,d=a.tx,f=a.ty,p=d,m=d,g=f,b=f;return(i=c+d)<p?p=i:i>m&&(m=i),(i=c+l+d)<p?p=i:i>m&&(m=i),(i=l+d)<p?p=i:i>m&&(m=i),(r=u+f)<g?g=r:r>b&&(b=r),(r=u+h+f)<g?g=r:r>b&&(b=r),(r=h+f)<g?g=r:r>b&&(b=r),t.setValues(p,g,m-p,b-g)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,n=0,i=e.length;n<i;n++)if(this.hasEventListener(e[n]))return!0;return!!this.cursor},r.DisplayObject=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=r.extend(t,r.DisplayObject);e.getNumChildren=function(){return this.children.length};try{Object.defineProperties(e,{numChildren:{get:e.getNumChildren}})}catch(n){}e.initialize=t,e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&(this.cacheCanvas||this.children.length))},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var n=this.children.slice(),i=0,r=n.length;i<r;i++){var s=n[i];s.isVisible()&&(t.save(),s.updateContext(t),s.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var n=0;n<e;n++)this.addChild(arguments[n]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var n=arguments.length,i=arguments[n-1];if(i<0||i>this.children.length)return arguments[n-2];if(n>2){for(var r=0;r<n-1;r++)this.addChildAt(arguments[r],i+r);return arguments[n-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var n=!0,i=0;i<e;i++)n=n&&this.removeChild(arguments[i]);return n}return this.removeChildAt(r.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var n=[],i=0;i<e;i++)n[i]=arguments[i];n.sort(function(t,e){return e-t});var r=!0;for(i=0;i<e;i++)r=r&&this.removeChildAt(n[i]);return r}if(t<0||t>this.children.length-1)return!1;var s=this.children[t];return s&&(s.parent=null),this.children.splice(t,1),s.dispatchEvent("removed"),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)this.removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,n=0,i=e.length;n<i;n++)if(e[n].name==t)return e[n];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return r.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var n=this.children,i=n[t],r=n[e];i&&r&&(n[t]=r,n[e]=i)},e.swapChildren=function(t,e){for(var n,i,r=this.children,s=0,o=r.length;s<o&&(r[s]==t&&(n=s),r[s]==e&&(i=s),null==n||null==i);s++);s!=o&&(r[n]=e,r[i]=t)},e.setChildIndex=function(t,e){var n=this.children,i=n.length;if(!(t.parent!=this||e<0||e>=i)){for(var r=0;r<i&&n[r]!=t;r++);r!=i&&r!=e&&(n.splice(r,1),n.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,n){var i=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,i,n>0,1==n),i},e.getObjectUnderPoint=function(t,e,n){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y,null,n>0,1==n)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var n=this._cloneProps(new t);return e&&this._cloneChildren(n),n},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var n=this.children[e];n.tickEnabled&&n._tick&&n._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,n=0,i=this.children.length;n<i;n++){var r=this.children[n].clone(!0);r.parent=t,e.push(r)}},e._getObjectsUnderPoint=function(e,n,i,s,o,a){if(!(a=a||0)&&!this._testMask(this,e,n))return null;var c,u=r.DisplayObject._hitTestContext;o=o||s&&this._hasMouseEventListener();for(var l=this.children,h=l.length-1;h>=0;h--){var d=l[h],f=d.hitArea;if(d.visible&&(f||d.isVisible())&&(!s||d.mouseEnabled)&&(f||this._testMask(d,e,n)))if(!f&&d instanceof t){var p=d._getObjectsUnderPoint(e,n,i,s,o,a+1);if(!i&&p)return s&&!this.mouseChildren?this:p}else{if(s&&!o&&!d._hasMouseEventListener())continue;var m=d.getConcatenatedDisplayProps(d._props);if(c=m.matrix,f&&(c.appendMatrix(f.getMatrix(f._props.matrix)),m.alpha=f.alpha),u.globalAlpha=m.alpha,u.setTransform(c.a,c.b,c.c,c.d,c.tx-e,c.ty-n),(f||d).draw(u),!this._testHit(u))continue;if(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!i)return s&&!this.mouseChildren?this:d;i.push(d)}}return null},e._testMask=function(t,e,n){var i=t.mask;if(!i||!i.graphics||i.graphics.isEmpty())return!0;var s=this._props.matrix,o=t.parent;s=o?o.getConcatenatedMatrix(s):s.identity(),s=i.getMatrix(i._props.matrix).prependMatrix(s);var a=r.DisplayObject._hitTestContext;return a.setTransform(s.a,s.b,s.c,s.d,s.tx-e,s.ty-n),i.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},e._getBounds=function(t,e){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,t,e);var i=this._props.matrix;i=e?i.identity():this.getMatrix(i),t&&i.prependMatrix(t);for(var r=this.children.length,s=null,o=0;o<r;o++){var a=this.children[o];a.visible&&(n=a._getBounds(i))&&(s?s.extend(n.x,n.y,n.width,n.height):s=n.clone())}return s},r.Container=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=r.extend(t,r.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(n){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){r.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new r.Event("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var n,i=this.canvas.getContext("2d"),r=this.canvas.width,s=this.canvas.height;if(t){n=i.getImageData(0,0,r,s);var o=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=t,i.fillRect(0,0,r,s)}var a=this.canvas.toDataURL(e||"image/png");return t&&(i.putImageData(n,0,0),i.globalCompositeOperation=o),a},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(t<=0)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,n,i=this._eventListeners;if(!t&&i){for(e in i)(n=i[e]).t.removeEventListener(e,n.f,!1);this._eventListeners=null}else if(t&&!i&&this.canvas){var r=window.addEventListener?window:document,s=this;for(e in(i=this._eventListeners={}).mouseup={t:r,f:function(t){s._handleMouseUp(t)}},i.mousemove={t:r,f:function(t){s._handleMouseMove(t)}},i.dblclick={t:this.canvas,f:function(t){s._handleDoubleClick(t)}},i.mousedown={t:this.canvas,f:function(t){s._handleMouseDown(t)}},i)(n=i[e]).t.addEventListener(e,n.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(u){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,s=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),a=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),c=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:e.left+n+s,right:e.right+n-a,top:e.top+i+o,bottom:e.bottom+i-c}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,n,i,r){if((!this._prevStage||void 0!==r)&&this.canvas){var s=this._nextStage,o=this._getPointerData(t),a=o.inBounds;this._updatePointerPosition(t,e,n,i),(a||o.inBounds||this.mouseMoveOutside)&&(-1===t&&o.inBounds==!a&&this._dispatchMouseEvent(this,a?"mouseleave":"mouseenter",!1,t,o,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,o,e),this._dispatchMouseEvent(o.target,"pressmove",!0,t,o,e)),s&&s._handlePointerMove(t,e,n,i,null)}},e._updatePointerPosition=function(t,e,n,i){var r=this._getElementRect(this.canvas);n-=r.left,i-=r.top;var s=this.canvas.width,o=this.canvas.height;n/=(r.right-r.left)/s,i/=(r.bottom-r.top)/o;var a=this._getPointerData(t);(a.inBounds=n>=0&&i>=0&&n<=s-1&&i<=o-1)?(a.x=n,a.y=i):this.mouseMoveOutside&&(a.x=n<0?0:n>s-1?s-1:n,a.y=i<0?0:i>o-1?o-1:i),a.posEvtObj=e,a.rawX=n,a.rawY=i,t!==this._primaryPointerID&&-1!==t||(this.mouseX=a.x,this.mouseY=a.y,this.mouseInBounds=a.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,n,i){var r=this._nextStage,s=this._getPointerData(t);if(!this._prevStage||void 0!==i){var o=null,a=s.target;i||!a&&!r||(o=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,s,e,o),s.down=!1),o==a&&this._dispatchMouseEvent(a,"click",!0,t,s,e),this._dispatchMouseEvent(a,"pressup",!0,t,s,e),n?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):s.target=null,r&&r._handlePointerUp(t,e,n,i||o&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,n,i,r){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=i&&this._updatePointerPosition(t,e,n,i);var s=null,o=this._nextStage,a=this._getPointerData(t);r||(s=a.target=this._getObjectsUnderPoint(a.x,a.y,null,!0)),a.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,a,e,s),a.down=!0),this._dispatchMouseEvent(s,"mousedown",!0,t,a,e),o&&o._handlePointerDown(t,e,n,i,r||s&&this)},e._testMouseOver=function(t,e,n){if(!this._prevStage||void 0!==e){var i=this._nextStage;if(this._mouseOverIntervalID){var r=this._getPointerData(-1);if(r&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var s,o,a,c=r.posEvtObj,u=n||c&&c.target==this.canvas,l=null,h=-1,d="";!e&&(t||this.mouseInBounds&&u)&&(l=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var f=this._mouseOverTarget||[],p=f[f.length-1],m=this._mouseOverTarget=[];for(s=l;s;)m.unshift(s),d||(d=s.cursor),s=s.parent;for(this.canvas.style.cursor=d,!e&&n&&(n.canvas.style.cursor=d),o=0,a=m.length;o<a&&m[o]==f[o];o++)h=o;for(p!=l&&this._dispatchMouseEvent(p,"mouseout",!0,-1,r,c,l),o=f.length-1;o>h;o--)this._dispatchMouseEvent(f[o],"rollout",!1,-1,r,c,l);for(o=m.length-1;o>h;o--)this._dispatchMouseEvent(m[o],"rollover",!1,-1,r,c,p);p!=l&&this._dispatchMouseEvent(l,"mouseover",!0,-1,r,c,p),i&&i._testMouseOver(t,e||l&&this,n||u&&this)}}else i&&i._testMouseOver(t,e,n)}},e._handleDoubleClick=function(t,e){var n=null,i=this._nextStage,r=this._getPointerData(-1);e||(n=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,r,t)),i&&i._handleDoubleClick(t,e||n&&this)},e._dispatchMouseEvent=function(t,e,n,i,s,o,a){if(t&&(n||t.hasEventListener(e))){var c=new r.MouseEvent(e,n,!1,s.x,s.y,o,i,i===this._primaryPointerID||-1===i,s.rawX,s.rawY,a);t.dispatchEvent(c)}},r.Stage=r.promote(t,"Container")}(),function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null}var e=r.extend(t,r.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&(this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2)))},e.draw=function(t,e){if(this.DisplayObject_draw(t,e)||!this.image)return!0;var n=this.image,i=this.sourceRect;if(i){var r=i.x,s=i.y,o=r+i.width,a=s+i.height,c=0,u=0,l=n.width,h=n.height;r<0&&(c-=r,r=0),o>l&&(o=l),s<0&&(u-=s,s=0),a>h&&(a=h),t.drawImage(n,r,s,o-r,a-s,c,u,o-r,a-s)}else t.drawImage(n,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,n=this.sourceRect||e;return e&&(e.naturalWidth||e.getContext||e.readyState>=2)?this._rectangle.setValues(0,0,n.width,n.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this._cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},r.Bitmap=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=e&&this.gotoAndPlay(e)}var e=r.extend(t,r.DisplayObject);e.initialize=t,e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&(this.cacheCanvas||this.spriteSheet.complete))},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var i=n.rect;return i.width&&i.height&&t.drawImage(n.image,i.x,i.y,i.width,i.height,-n.regX,-n.regY,i.width,i.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate;this._normalizeFrame(e&&null!=t?t/(1e3/e):1)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,n=this._animation,i=this.paused,r=this._currentFrame;if(n){var s=n.speed||1,o=this.currentAnimationFrame;if(o+t*s>=(e=n.frames.length)){var a=n.next;if(this._dispatchAnimationEnd(n,r,i,a,e-1))return;if(a)return this._goto(a,t-(e-o)/s);this.paused=!0,o=n.frames.length-1}else o+=t*s;this.currentAnimationFrame=o,this._currentFrame=n.frames[0|o]}else if((r=this._currentFrame+=t)>=(e=this.spriteSheet.getNumFrames())&&e>0&&!this._dispatchAnimationEnd(n,r,i,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();this.currentFrame!=(r=0|this._currentFrame)&&(this.currentFrame=r,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,n,i,s){var o=t?t.name:null;if(this.hasEventListener("animationend")){var a=new r.Event("animationend");a.name=o,a.next=i,this.dispatchEvent(a)}var c=this._animation!=t||this._currentFrame!=e;return c||n||!this.paused||(this.currentAnimationFrame=s,c=!0),c},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var n=this.spriteSheet.getAnimation(t);n&&(this._animation=n,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},r.Sprite=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t||new r.Graphics}var e=r.extend(t,r.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return this.DisplayObject_draw(t,e)||this.graphics.draw(t,this),!0},e.clone=function(e){var n=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(n))},e.toString=function(){return"[Shape (name="+this.name+")]"},r.Shape=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e,n){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=r.extend(t,r.DisplayObject),n=r.createCanvas?r.createCanvas():document.createElement("canvas");n.getContext&&(t._workingContext=n.getContext("2d"),n.width=n.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&(this.cacheCanvas||null!=this.text&&""!==this.text))},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var n=this.color||"#000";return this.outline?(t.strokeStyle=n,t.lineWidth=1*this.outline):t.fillStyle=n,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,r=i*t.H_OFFSETS[this.textAlign||"left"],s=this.lineHeight||this.getMeasuredLineHeight();return this._rectangle.setValues(r,s*t.V_OFFSETS[this.textBaseline||"top"],i,n.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,n,i){var r=!!e;r||((e=t._workingContext).save(),this._prepContext(e));for(var s=this.lineHeight||this.getMeasuredLineHeight(),o=0,a=0,c=String(this.text).split(/(?:\r\n|\r|\n)/),u=0,l=c.length;u<l;u++){var h=c[u],d=null;if(null!=this.lineWidth&&(d=e.measureText(h).width)>this.lineWidth){var f=h.split(/(\s)/);d=e.measureText(h=f[0]).width;for(var p=1,m=f.length;p<m;p+=2){var g=e.measureText(f[p]+f[p+1]).width;d+g>this.lineWidth?(r&&this._drawTextLine(e,h,a*s),i&&i.push(h),d>o&&(o=d),d=e.measureText(h=f[p+1]).width,a++):(h+=f[p]+f[p+1],d+=g)}}r&&this._drawTextLine(e,h,a*s),i&&i.push(h),n&&null==d&&(d=e.measureText(h).width),d>o&&(o=d),a++}return n&&(n.width=o,n.height=a*s),r||e.restore(),n},e._drawTextLine=function(t,e,n){this.outline?t.strokeText(e,0,n,this.maxWidth||65535):t.fillText(e,0,n,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var n=t._workingContext;n.save();var i=this._prepContext(n).measureText(e).width;return n.restore(),i},r.Text=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var e=r.extend(t,r.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateText(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&(this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text))},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var n,i=e.getAnimation(t);return i||(t!=(n=t.toUpperCase())||t!=(n=t.toLowerCase())||(n=null),n&&(i=e.getAnimation(n))),i&&i.frames[0]},e._getFrame=function(t,e){var n=this._getFrameIndex(t,e);return null==n?n:e.getFrame(n)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,n=0,i=0,s=this._oldProps,o=!1,a=this.spaceWidth,c=this.lineHeight,u=this.spriteSheet,l=t._spritePool,h=this.children,d=0,f=h.length;for(var p in s)s[p]!=this[p]&&(s[p]=this[p],o=!0);if(o){var m=!!this._getFrame(" ",u);m||a||(a=this._getSpaceWidth(u)),c||(c=this._getLineHeight(u));for(var g=0,b=this.text.length;g<b;g++){var _=this.text.charAt(g);if(" "!=_||m)if("\n"!=_&&"\r"!=_){var y=this._getFrameIndex(_,u);null!=y&&(d<f?e=h[d]:(h.push(e=l.length?l.pop():new r.Sprite),e.parent=this,f++),e.spriteSheet=u,e.gotoAndStop(y),e.x=n,e.y=i,d++,n+=e.getBounds().width+this.letterSpacing)}else"\r"==_&&"\n"==this.text.charAt(g+1)&&g++,n=0,i+=c;else n+=a}for(;f>d;)l.push(e=h.pop()),e.parent=null,f--;l.length>t.maxPoolSize&&(l.length=t.maxPoolSize)}},r.BitmapText=r.promote(t,"Container")}(),function(){"use strict";function t(e,n,i,s){this.Container_constructor(),!t.inited&&t.init(),this.mode=e||t.INDEPENDENT,this.startPosition=n||0,this.loop=i,this.currentFrame=0,this.timeline=new r.Timeline(null,s,{paused:!0,position:n,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}var e=r.extend(t,r.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(n.install(),t.inited=!0)},e.getLabels=function(){return this.timeline.getLabels()},e.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},e.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(e,{labels:{get:e.getLabels},currentLabel:{get:e.getCurrentLabel},totalFrames:{get:e.getDuration},duration:{get:e.getDuration}})}catch(i){}function n(){throw"MovieClipPlugin cannot be instantiated."}e.initialize=t,e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){return this.DisplayObject_draw(t,e)||(this._updateTimeline(),this.Container_draw(t,e)),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(e){var n=t.INDEPENDENT;if(this.mode==n){for(var i=this,r=i.framerate;(i=i.parent)&&null==r;)i.mode==n&&(r=i._framerate);this._framerate=r;var s=null!=r&&-1!=r&&null!=e?e/(1e3/r)+this._t:1,o=0|s;for(this._t=s-o;!this.paused&&o--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},e.clone=function(){throw"MovieClip cannot be cloned."},e.toString=function(){return"[MovieClip (name="+this.name+")]"},e._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},e._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=e,this._t=0,this._updateTimeline())},e._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},e._updateTimeline=function(){var e=this.timeline,n=this.mode!=t.INDEPENDENT;e.loop=null==this.loop||this.loop;var i=n?this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,s=n||!this.actionsEnabled?r.Tween.NONE:null;if(this.currentFrame=e._calcPosition(i),e.setPosition(i,s),this._prevPosition=e._prevPosition,this._prevPos!=e._prevPos){for(var o in this.currentFrame=this._prevPos=e._prevPos,this._managed)this._managed[o]=1;for(var a=e._tweens,c=0,u=a.length;c<u;c++){var l=a[c],h=l._target;if(h!=this&&!l.passive){var d=l._stepPosition;h instanceof r.DisplayObject?this._addManagedChild(h,d):this._setState(h.state,d)}}var f=this.children;for(c=f.length-1;c>=0;c--){var p=f[c].id;1==this._managed[p]&&(this.removeChildAt(c),delete this._managed[p])}}},e._setState=function(t,e){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n],r=i.t,s=i.p;for(var o in s)r[o]=s[o];this._addManagedChild(r,e)}},e._addManagedChild=function(e,n){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=n,e.mode==t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},e._getBounds=function(t,e){var n=this.DisplayObject_getBounds();return n||(this._updateTimeline(),this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame]))),n?this._transformBounds(n,t,e):this.Container__getBounds(t,e)},r.MovieClip=r.promote(t,"Container"),n.priority=100,n.install=function(){r.Tween.installPlugin(n,["startPosition"])},n.init=function(t,e,n){return n},n.step=function(){},n.tween=function(e,n,i,r,s,o,a,c){return e.target instanceof t?1==o?s[n]:r[n]:i}}(),function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=r.createCanvas?r.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,n,i,r){if(n||i||r){var s=0;n&&t._flip(e,++s,!0,!1),i&&t._flip(e,++s,!1,!0),r&&t._flip(e,++s,!0,!0)}},t.extractFrame=function(e,n){isNaN(n)&&(n=e.getAnimation(n).frames[0]);var i=e.getFrame(n);if(!i)return null;var r=i.rect,s=t._workingCanvas;s.width=r.width,s.height=r.height,t._workingContext.drawImage(i.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var o=document.createElement("img");return o.src=s.toDataURL("image/png"),o},t.mergeAlpha=function(t,e,n){n||(n=r.createCanvas?r.createCanvas():document.createElement("canvas")),n.width=Math.max(e.width,t.width),n.height=Math.max(e.height,t.height);var i=n.getContext("2d");return i.save(),i.drawImage(t,0,0),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),i.restore(),n},t._flip=function(e,n,i,r){for(var s=e._images,o=t._workingCanvas,a=t._workingContext,c=s.length/n,u=0;u<c;u++){var l=s[u];l.__tmp=u,a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,o.width+1,o.height+1),o.width=l.width,o.height=l.height,a.setTransform(i?-1:1,0,0,r?-1:1,i?l.width:0,r?l.height:0),a.drawImage(l,0,0);var h=document.createElement("img");h.src=o.toDataURL("image/png"),h.width=l.width,h.height=l.height,s.push(h)}var d=e._frames,f=d.length/n;for(u=0;u<f;u++){var p=(l=d[u]).rect.clone(),m={image:h=s[l.image.__tmp+c*n],rect:p,regX:l.regX,regY:l.regY};i&&(p.x=h.width-p.x-p.width,m.regX=p.width-l.regX),r&&(p.y=h.height-p.y-p.height,m.regY=p.height-l.regY),d.push(m)}var g="_"+(i?"h":"")+(r?"v":""),b=e._animations,_=e._data,y=b.length/n;for(u=0;u<y;u++){var v=b[u],w={name:v+g,speed:(l=_[v]).speed,next:l.next,frames:[]};l.next&&(w.next+=g);for(var T=0,S=(d=l.frames).length;T<S;T++)w.frames.push(d[T]+f*n);_[w.name]=w,b.push(w.name)}},r.SpriteSheetUtils=t}(),function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=r.extend(t,r.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,n,i,r,s){if(this._data)throw t.ERR_RUNNING;var o=n||e.bounds||e.nominalBounds;return!o&&e.getBounds&&(o=e.getBounds()),o?this._frames.push({source:e,sourceRect:o,scale:i=i||1,funct:r,data:s,index:this._frames.length,height:o.height*i})-1:null},e.addAnimation=function(e,n,i,r){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:n,next:i,speed:r}},e.addMovieClip=function(e,n,i,r,s,o){if(this._data)throw t.ERR_RUNNING;var a=e.frameBounds,c=n||e.bounds||e.nominalBounds;if(!c&&e.getBounds&&(c=e.getBounds()),c||a){var u,l,h=this._frames.length,d=e.timeline.duration;for(u=0;u<d;u++)this.addFrame(e,a&&a[u]?a[u]:c,i,this._setupMovieClipFrame,{i:u,f:r,d:s});var f=e.timeline._labels,p=[];for(var m in f)p.push({index:f[m],label:m});if(p.length)for(p.sort(function(t,e){return t.index-e.index}),u=0,l=p.length;u<l;u++){for(var g=p[u].label,b=h+p[u].index,_=h+(u==l-1?d:p[u+1].index),y=[],v=b;v<_;v++)y.push(v);o&&!(g=o(g,e,b,_))||this.addAnimation(g,y,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(t,e){return t.height<=e.height?-1:1}),i[i.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var s=0,o=0,a=0;i.length;){var c=this._fillRow(i,s,a,n,e);if(c.w>o&&(o=c.w),s+=c.h,!c.h||!i.length){var u=r.createCanvas?r.createCanvas():document.createElement("canvas");u.width=this._getSize(o,this.maxWidth),u.height=this._getSize(s,this.maxHeight),this._data.images[a]=u,c.h||(o=s=0,a++)}}},e._setupMovieClipFrame=function(t,e){var n=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=n,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var n=4;Math.pow(2,++n)<t;);return Math.min(e,Math.pow(2,n))},e._fillRow=function(e,n,i,s,o){for(var a=this.maxWidth,c=this.maxHeight-(n+=o),u=o,l=0,h=e.length-1;h>=0;h--){var d=e[h],f=this._scale*d.scale,p=d.sourceRect,m=d.source,g=Math.floor(f*p.x-o),b=Math.floor(f*p.y-o),_=Math.ceil(f*p.height+2*o),y=Math.ceil(f*p.width+2*o);if(y>a)throw t.ERR_DIMENSIONS;_>c||u+y>a||(d.img=i,d.rect=new r.Rectangle(u,n,y,_),l=l||_,e.splice(h,1),s[d.index]=[u,n,y,_,i,Math.round(f*m.regX-g-o),Math.round(f*m.regY-b-o)],u+=y)}return{w:u,h:l}},e._endBuild=function(){this.spriteSheet=new r.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,n=!1;e>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var i=this;this._timerID=setTimeout(function(){i._run()},50-t)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var o=new r.Event("progress");o.progress=s,this.dispatchEvent(o)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,n=t.rect,i=t.sourceRect,r=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),r.save(),r.beginPath(),r.rect(n.x,n.y,n.width,n.height),r.clip(),r.translate(Math.ceil(n.x-i.x*e),Math.ceil(n.y-i.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),++this._index<this._frames.length},r.SpriteSheetBuilder=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null}var e=r.extend(t,r.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(t,e){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.getStage();e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(t){var e=this.htmlElement;if(e){var n=e.style,i=this.getConcatenatedDisplayProps(this._props),s=i.matrix,o=i.visible?"visible":"hidden";if(o!=n.visibility&&(n.visibility=o),i.visible){var a=this._oldProps,c=a&&a.matrix,u=1e4;if(!c||!c.equals(s)){var l="matrix("+(s.a*u|0)/u+","+(s.b*u|0)/u+","+(s.c*u|0)/u+","+(s.d*u|0)/u+","+(s.tx+.5|0);n.transform=n.WebkitTransform=n.OTransform=n.msTransform=l+","+(s.ty+.5|0)+")",n.MozTransform=l+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new r.DisplayProps(!0,NaN)),a.matrix.copy(s)}a.alpha!=i.alpha&&(n.opacity=""+(i.alpha*u|0)/u,a.alpha=i.alpha)}}},r.DOMElement=r.promote(t,"DisplayObject")}(),function(){"use strict";function t(){}var e=t.prototype;e.getBounds=function(t){return t},e.applyFilter=function(t,e,n,i,r,s,o,a){s=s||t,null==o&&(o=e),null==a&&(a=n);try{var c=t.getImageData(e,n,i,r)}catch(u){return!1}return!!this._applyFilter(c)&&(s.putImageData(c,o,a),!0)},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(t){return!0},r.Filter=t}(),function(){"use strict";function t(t,e,n){(isNaN(t)||t<0)&&(t=0),(isNaN(e)||e<0)&&(e=0),(isNaN(n)||n<1)&&(n=1),this.blurX=0|t,this.blurY=0|e,this.quality=0|n}var e=r.extend(t,r.Filter);t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,n=0|this.blurY;if(e<=0&&n<=0)return t;var i=Math.pow(this.quality,.2);return(t||new r.Rectangle).pad(e*i+1,n*i+1,e*i+1,n*i+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var n=this.blurX>>1;if(isNaN(n)||n<0)return!1;var i=this.blurY>>1;if(isNaN(i)||i<0)return!1;if(0==n&&0==i)return!1;var r=this.quality;(isNaN(r)||r<1)&&(r=1),(r|=0)>3&&(r=3),r<1&&(r=1);var s=e.data,o=0,a=0,c=0,u=0,l=0,h=0,d=0,f=0,p=0,m=0,g=0,b=0,_=0,y=0,v=0,w=n+n+1|0,T=i+i+1|0,S=0|e.width,x=0|e.height,C=S-1|0,E=x-1|0,k=n+1|0,O=i+1|0,I={r:0,b:0,g:0,a:0},A=I;for(c=1;c<w;c++)A=A.n={r:0,b:0,g:0,a:0};A.n=I;var P={r:0,b:0,g:0,a:0},D=P;for(c=1;c<T;c++)D=D.n={r:0,b:0,g:0,a:0};D.n=P;for(var R=null,U=0|t.MUL_TABLE[n],L=0|t.SHG_TABLE[n],N=0|t.MUL_TABLE[i],M=0|t.SHG_TABLE[i];r-- >0;){d=h=0;var j=U,F=L;for(a=x;--a>-1;){for(f=k*(b=s[0|h]),p=k*(_=s[h+1|0]),m=k*(y=s[h+2|0]),g=k*(v=s[h+3|0]),A=I,c=k;--c>-1;)A.r=b,A.g=_,A.b=y,A.a=v,A=A.n;for(c=1;c<k;c++)f+=A.r=s[u=h+((C<c?C:c)<<2)|0],p+=A.g=s[u+1],m+=A.b=s[u+2],g+=A.a=s[u+3],A=A.n;for(R=I,o=0;o<S;o++)s[h++]=f*j>>>F,s[h++]=p*j>>>F,s[h++]=m*j>>>F,s[h++]=g*j>>>F,u=d+((u=o+n+1)<C?u:C)<<2,f-=R.r-(R.r=s[u]),p-=R.g-(R.g=s[u+1]),m-=R.b-(R.b=s[u+2]),g-=R.a-(R.a=s[u+3]),R=R.n;d+=S}for(j=N,F=M,o=0;o<S;o++){for(f=O*(b=s[h=o<<2|0])|0,p=O*(_=s[h+1|0])|0,m=O*(y=s[h+2|0])|0,g=O*(v=s[h+3|0])|0,D=P,c=0;c<O;c++)D.r=b,D.g=_,D.b=y,D.a=v,D=D.n;for(l=S,c=1;c<=i;c++)f+=D.r=s[h=l+o<<2],p+=D.g=s[h+1],m+=D.b=s[h+2],g+=D.a=s[h+3],D=D.n,c<E&&(l+=S);if(h=o,R=P,r>0)for(a=0;a<x;a++)s[3+(u=h<<2)]=v=g*j>>>F,v>0?(s[u]=f*j>>>F,s[u+1]=p*j>>>F,s[u+2]=m*j>>>F):s[u]=s[u+1]=s[u+2]=0,u=o+((u=a+O)<E?u:E)*S<<2,f-=R.r-(R.r=s[u]),p-=R.g-(R.g=s[u+1]),m-=R.b-(R.b=s[u+2]),g-=R.a-(R.a=s[u+3]),R=R.n,h+=S;else for(a=0;a<x;a++)s[3+(u=h<<2)]=v=g*j>>>F,v>0?(s[u]=(f*j>>>F)*(v=255/v),s[u+1]=(p*j>>>F)*v,s[u+2]=(m*j>>>F)*v):s[u]=s[u+1]=s[u+2]=0,u=o+((u=a+O)<E?u:E)*S<<2,f-=R.r-(R.r=s[u]),p-=R.g-(R.g=s[u+1]),m-=R.b-(R.b=s[u+2]),g-=R.a-(R.a=s[u+3]),R=R.n,h+=S}}return!0},r.BlurFilter=r.promote(t,"Filter")}(),function(){"use strict";function t(t){this.alphaMap=t,this._alphaMap=null,this._mapData=null}var e=r.extend(t,r.Filter);e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,n=this._mapData,i=0,r=e.length;i<r;i+=4)e[i+3]=n[i]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,n=e;e instanceof HTMLCanvasElement?t=n.getContext("2d"):((n=r.createCanvas?r.createCanvas():document.createElement("canvas")).width=e.width,n.height=e.height,(t=n.getContext("2d")).drawImage(e,0,0));try{var i=t.getImageData(0,0,e.width,e.height)}catch(s){return!1}return this._mapData=i.data,!0},r.AlphaMapFilter=r.promote(t,"Filter")}(),function(){"use strict";function t(t){this.mask=t}var e=r.extend(t,r.Filter);e.applyFilter=function(t,e,n,i,r,s,o,a){return!this.mask||(null==o&&(o=e),null==a&&(a=n),(s=s||t).save(),t==s&&(s.globalCompositeOperation="destination-in",s.drawImage(this.mask,o,a),s.restore(),!0))},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},r.AlphaMaskFilter=r.promote(t,"Filter")}(),function(){"use strict";function t(t,e,n,i,r,s,o,a){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=i?i:1,this.redOffset=r||0,this.greenOffset=s||0,this.blueOffset=o||0,this.alphaOffset=a||0}var e=r.extend(t,r.Filter);e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,n=e.length,i=0;i<n;i+=4)e[i]=e[i]*this.redMultiplier+this.redOffset,e[i+1]=e[i+1]*this.greenMultiplier+this.greenOffset,e[i+2]=e[i+2]*this.blueMultiplier+this.blueOffset,e[i+3]=e[i+3]*this.alphaMultiplier+this.alphaOffset;return!0},r.ColorFilter=r.promote(t,"Filter")}(),function(){"use strict";function t(t,e,n,i){this.setColor(t,e,n,i)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.LENGTH=(t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]).length,e.setColor=function(t,e,n,i){return this.reset().adjustColor(t,e,n,i)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,n,i){return this.adjustHue(i),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(n)},e.adjustBrightness=function(t){return 0==t||isNaN(t)||(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])),this},e.adjustContrast=function(e){return 0==e||isNaN(e)||(n=(e=this._cleanValue(e,100))<0?127+e/100*127:127*(n=0==(n=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-n)+t.DELTA_INDEX[1+(e<<0)]*n)+127,this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])),this;var n},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100),n=.3086,i=.6094,r=.082;return this._multiplyMatrix([n*(1-e)+e,i*(1-e),r*(1-e),0,0,n*(1-e),i*(1-e)+e,r*(1-e),0,0,n*(1-e),i*(1-e),r*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),i=.213,r=.715,s=.072;return this._multiplyMatrix([i+.787*e+n*-i,r+e*-r+n*-r,s+e*-s+.928*n,0,0,i+e*-i+.143*n,r+e*(1-r)+.14*n,s+e*-s+-.283*n,0,0,i+e*-i+-.787*n,r+e*-r+n*r,s+.928*e+n*s,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH||this._multiplyMatrix(e),this},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],n=0,i=t.LENGTH;n<i;n++)e[n]=this[n];return e},e.copy=function(e){for(var n=t.LENGTH,i=0;i<n;i++)this[i]=e[i];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,n,i,r=[];for(e=0;e<5;e++){for(n=0;n<5;n++)r[n]=this[n+5*e];for(n=0;n<5;n++){var s=0;for(i=0;i<5;i++)s+=t[n+5*i]*r[i];this[n+5*e]=s}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},r.ColorMatrix=t}(),function(){"use strict";function t(t){this.matrix=t}var e=r.extend(t,r.Filter);e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,n,i,r,s=t.data,o=s.length,a=this.matrix,c=a[0],u=a[1],l=a[2],h=a[3],d=a[4],f=a[5],p=a[6],m=a[7],g=a[8],b=a[9],_=a[10],y=a[11],v=a[12],w=a[13],T=a[14],S=a[15],x=a[16],C=a[17],E=a[18],k=a[19],O=0;O<o;O+=4)s[O]=(e=s[O])*c+(n=s[O+1])*u+(i=s[O+2])*l+(r=s[O+3])*h+d,s[O+1]=e*f+n*p+i*m+r*g+b,s[O+2]=e*_+n*y+i*v+r*w+T,s[O+3]=e*S+n*x+i*C+r*E+k;return!0},r.ColorMatrixFilter=r.promote(t,"Filter")}(),function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,n,i){return!!(e&&e.canvas&&t.isSupported())&&(e.__touch||(e.__touch={pointers:{},multitouch:!n,preventDefault:!i,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e)),!0)},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IOS_handleEvent(e,n)};n.addEventListener("touchstart",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchcancel",i,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var n=t.__touch.f;e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",n,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var n=e.changedTouches,i=e.type,r=0,s=n.length;r<s;r++){var o=n[r],a=o.identifier;o.target==t.canvas&&("touchstart"==i?this._handleStart(t,a,e,o.pageX,o.pageY):"touchmove"==i?this._handleMove(t,a,e,o.pageX,o.pageY):"touchend"!=i&&"touchcancel"!=i||this._handleEnd(t,a,e))}}},t._IE_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IE_handleEvent(e,n)};void 0===window.navigator.pointerEnabled?(n.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),e.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),e.__touch.preventDefault&&(n.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.type,i=e.pointerId,r=t.__touch.activeIDs;if("MSPointerDown"==n||"pointerdown"==n){if(e.srcElement!=t.canvas)return;r[i]=!0,this._handleStart(t,i,e,e.pageX,e.pageY)}else r[i]&&("MSPointerMove"==n||"pointermove"==n?this._handleMove(t,i,e,e.pageX,e.pageY):"MSPointerUp"!=n&&"MSPointerCancel"!=n&&"pointerup"!=n&&"pointercancel"!=n||(delete r[i],this._handleEnd(t,i,e)))}},t._handleStart=function(t,e,n,i,r){var s=t.__touch;if(s.multitouch||!s.count){var o=s.pointers;o[e]||(o[e]=!0,s.count++,t._handlePointerDown(e,n,i,r))}},t._handleMove=function(t,e,n,i,r){t.__touch.pointers[e]&&t._handlePointerMove(e,n,i,r)},t._handleEnd=function(t,e,n){var i=t.__touch,r=i.pointers;r[e]&&(i.count--,t._handlePointerUp(e,n,!0),delete r[e])},r.Touch=t}(),function(){"use strict";var t=r.EaselJS=r.EaselJS||{};t.version="0.8.2",t.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),function(){"use strict";var t=r.PreloadJS=r.PreloadJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),function(){"use strict";r.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),function(){"use strict";function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}r.extend(t,r.Event).clone=function(){return new r.ErrorEvent(this.title,this.message,this.data)},r.ErrorEvent=r.promote(t,"Event")}(),function(t){"use strict";function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}r.extend(e,r.Event).clone=function(){return new r.ProgressEvent(this.loaded,this.total)},r.ProgressEvent=r.promote(e,"Event")}(window),(function(){var r=n("PDX0"),s={function:!0,object:!0},o=s[typeof e]&&e&&!e.nodeType&&e,a=s[typeof window]&&window||this,c=o&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof global&&global;function u(t,e){t||(t=a.Object()),e||(e=a.Object());var n=t.Number||a.Number,i=t.String||a.String,r=t.Object||a.Object,o=t.Date||a.Date,c=t.SyntaxError||a.SyntaxError,l=t.TypeError||a.TypeError,h=t.Math||a.Math,d=t.JSON||a.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var f,p,m,g=r.prototype,b=g.toString,_=new o(-0xc782b5b800cec);try{_=-109252==_.getUTCFullYear()&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(B){}function y(t){if(y[t]!==m)return y[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=y("json-stringify")&&y("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&_;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new i)&&c(b)===m&&c(m)===m&&c()===m&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([m])&&"null"==c(null)&&"[null,null,null]"==c([m,b,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(B){u=!1}}r=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){var h=5==(s=l(a)).a.length&&1===s.a[0];if(h){try{h=!l('"\t"')}catch(B){}if(h)try{h=1!==l("01")}catch(B){}if(h)try{h=1!==l("1.")}catch(B){}}}}catch(B){h=!1}r=h}}return y[t]=!!r}if(!y("json")){var v="[object Function]",w="[object Number]",T="[object String]",S="[object Array]",x=y("bug-string-char-index");if(!_)var C=h.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(t,e){return E[e]+365*(t-1970)+C((t-1969+(e=+(e>1)))/4)-C((t-1901+e)/100)+C((t-1601+e)/400)};if((f=g.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),p=function(t,e){var n,i,r,o=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)f.call(i,r)&&o++;return n=i=null,o?p=2==o?function(t,e){var n,i={},r=b.call(t)==v;for(n in t)r&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,i,r=b.call(t)==v;for(n in t)r&&"prototype"==n||!f.call(t,n)||(i="constructor"===n)||e(n);(i||f.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(t,e){var n,r,o=b.call(t)==v,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(r=i.length;n=i[--r];a.call(t,n)&&e(n));}),p(t,e)},!y("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(t,e){return("000000"+(e||0)).slice(-t)},A=function(t){for(var e='"',n=0,i=t.length,r=!x||i>10,s=r&&(x?t.split(""):t);n<i;n++){var o=t.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=O[o];break;default:if(o<32){e+="\\u00"+I(2,o.toString(16));break}e+=r?s[n]:t.charAt(n)}}return e+'"'},P=function(t,e,n,i,r,s,o){var a,c,u,h,d,g,_,y,v,x,E,O,D,R,U,L;try{a=e[t]}catch(B){}if("object"==typeof a&&a)if("[object Date]"!=(c=b.call(a))||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=w&&c!=T&&c!=S||f.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(k){for(d=C(a/864e5),u=C(d/365.2425)+1970-1;k(u+1,0)<=d;u++);for(h=C((d-k(u,0))/30.42);k(u,h+1)<=d;h++);d=1+d-k(u,h),_=C((g=(a%864e5+864e5)%864e5)/36e5)%24,y=C(g/6e4)%60,v=C(g/1e3)%60,x=g%1e3}else u=a.getUTCFullYear(),h=a.getUTCMonth(),d=a.getUTCDate(),_=a.getUTCHours(),y=a.getUTCMinutes(),v=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+I(6,u<0?-u:u):I(4,u))+"-"+I(2,h+1)+"-"+I(2,d)+"T"+I(2,_)+":"+I(2,y)+":"+I(2,v)+"."+I(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=b.call(a)))return""+a;if(c==w)return a>-1/0&&a<1/0?""+a:"null";if(c==T)return A(""+a);if("object"==typeof a){for(R=o.length;R--;)if(o[R]===a)throw l();if(o.push(a),E=[],U=s,s+=r,c==S){for(D=0,R=a.length;D<R;D++)O=P(D,a,n,i,r,s,o),E.push(O===m?"null":O);L=E.length?r?"[\n"+s+E.join(",\n"+s)+"\n"+U+"]":"["+E.join(",")+"]":"[]"}else p(i||a,function(t){var e=P(t,a,n,i,r,s,o);e!==m&&E.push(A(t)+":"+(r?" ":"")+e)}),L=E.length?r?"{\n"+s+E.join(",\n"+s)+"\n"+U+"}":"{"+E.join(",")+"}":"{}";return o.pop(),L}};e.stringify=function(t,e,n){var i,r,o,a;if(s[typeof e]&&e)if((a=b.call(e))==v)r=e;else if(a==S){o={};for(var c,u=0,l=e.length;u<l;c=e[u++],((a=b.call(c))==T||a==w)&&(o[c]=1));}if(n)if((a=b.call(n))==w){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else a==T&&(i=n.length<=10?n:n.slice(0,10));return P("",((c={})[""]=t,c),r,o,i,"",[])}}if(!y("json-parse")){var D,R,U=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw D=R=null,c()},M=function(){for(var t,e,n,i,r,s=R,o=s.length;D<o;)switch(r=s.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=x?s.charAt(D):s[D],D++,t;case 34:for(t="@",D++;D<o;)if((r=s.charCodeAt(D))<32)N();else if(92==r)switch(r=s.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[r],D++;break;case 117:for(e=++D,n=D+4;D<n;D++)(r=s.charCodeAt(D))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||N();t+=U("0x"+s.slice(e,D));break;default:N()}else{if(34==r)break;for(r=s.charCodeAt(D),e=D;r>=32&&92!=r&&34!=r;)r=s.charCodeAt(++D);t+=s.slice(e,D)}if(34==s.charCodeAt(D))return D++,t;N();default:if(e=D,45==r&&(i=!0,r=s.charCodeAt(++D)),r>=48&&r<=57){for(48==r&&(r=s.charCodeAt(D+1))>=48&&r<=57&&N(),i=!1;D<o&&(r=s.charCodeAt(D))>=48&&r<=57;D++);if(46==s.charCodeAt(D)){for(n=++D;n<o&&(r=s.charCodeAt(n))>=48&&r<=57;n++);n==D&&N(),D=n}if(101==(r=s.charCodeAt(D))||69==r){for(43!=(r=s.charCodeAt(++D))&&45!=r||D++,n=D;n<o&&(r=s.charCodeAt(n))>=48&&r<=57;n++);n==D&&N(),D=n}return+s.slice(e,D)}if(i&&N(),"true"==s.slice(D,D+4))return D+=4,!0;if("false"==s.slice(D,D+5))return D+=5,!1;if("null"==s.slice(D,D+4))return D+=4,null;N()}return"$"},j=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(x?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());n||(n=!0))n&&(","==t?"]"==(t=M())&&N():N()),","==t&&N(),e.push(j(t));return e}if("{"==t){for(e={};"}"!=(t=M());n||(n=!0))n&&(","==t?"}"==(t=M())&&N():N()),","!=t&&"string"==typeof t&&"@"==(x?t.charAt(0):t[0])&&":"==M()||N(),e[t.slice(1)]=j(M());return e}N()}return t},F=function(t,e,n){var i=V(t,e,n);i===m?delete t[e]:t[e]=i},V=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(b.call(r)==S)for(i=r.length;i--;)F(r,i,n);else p(r,function(t){F(r,t,n)});return n.call(t,e,r)};e.parse=function(t,e){var n,i;return D=0,R=""+t,n=j(M()),"$"!=M()&&N(),D=R=null,e&&b.call(e)==v?V(((i={})[""]=n,i),"",e):n}}}return e.runInContext=u,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c),o&&!r)u(a,o);else{var l=a.JSON,h=a.JSON3,d=!1,f=u(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=l,a.JSON3=h,l=h=null),f}});a.JSON={parse:f.parse,stringify:f.stringify}}r&&(void 0===(i=(function(){return f}).call(e,n,e,t))||(t.exports=i))}).call(this),function(){var t={appendToHead:function(e){t.getHead().appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};r.DomUtils=t}(),r.DataUtils={parseXML:function(t,e){var n=null;try{window.DOMParser&&(n=(new DOMParser).parseFromString(t,e))}catch(i){}if(!n)try{(n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(t)}catch(i){n=null}return n},parseJSON:function(t){if(null==t)return null;try{return JSON.parse(t)}catch(e){throw e}}},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=r.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},r.LoadItem=n}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var n={absolute:!1,relative:!1};if(null==e)return n;var i,r=e.indexOf("?");return r>-1&&(e=e.substr(0,r)),t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(i=e.match(t.EXTENSION_PATT))&&(n.extension=i[1].toLowerCase()),n},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},buildPath:function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var r=t.slice(i+1);n=n.concat(r.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},isCrossDomain:function(t){var e=document.createElement("a");e.href=t.src;var n=document.createElement("a");return n.href=location.href,""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname)},isLocal:function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},isBinary:function(t){switch(t){case r.AbstractLoader.IMAGE:case r.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},isText:function(t){switch(t){case r.AbstractLoader.TEXT:case r.AbstractLoader.JSON:case r.AbstractLoader.MANIFEST:case r.AbstractLoader.XML:case r.AbstractLoader.CSS:case r.AbstractLoader.SVG:case r.AbstractLoader.JAVASCRIPT:case r.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return r.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return r.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return r.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return r.AbstractLoader.VIDEO;case"json":return r.AbstractLoader.JSON;case"xml":return r.AbstractLoader.XML;case"css":return r.AbstractLoader.CSS;case"js":return r.AbstractLoader.JAVASCRIPT;case"svg":return r.AbstractLoader.SVG;default:return r.AbstractLoader.TEXT}}};r.RequestUtils=t}(),function(){"use strict";function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?r.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=r.extend(t,r.EventDispatcher),n=t;n.POST="POST",n.GET="GET",n.BINARY="binary",n.CSS="css",n.IMAGE="image",n.JAVASCRIPT="javascript",n.JSON="json",n.JSONP="jsonp",n.MANIFEST="manifest",n.SOUND="sound",n.VIDEO="video",n.SPRITESHEET="spritesheet",n.SVG="svg",n.TEXT="text",n.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new r.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new r.XHRRequest(this._item):new r.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new r.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new r.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new r.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,r.proxy(this._resultFormatSuccess,this),r.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new r.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return r.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},r.AbstractLoader=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=r.extend(t,r.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new r.XHRRequest(this._item):new r.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},r.AbstractMediaLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";var t=function(t){this._item=t},e=r.extend(t,r.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},r.AbstractRequest=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=r.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=r.extend(t,r.AbstractRequest);e.load=function(){this._tag.onload=r.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=r.proxy(this._handleReadyStateChange,this),this._tag.onerror=r.proxy(this._handleError,this);var t=new r.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(r.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new r.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},r.TagRequest=r.promote(t,"AbstractRequest")}(),function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=r.proxy(this._handleTagComplete,this)}var e=r.extend(t,r.TagRequest);e.load=function(){var t=r.proxy(this._handleStalled,this);this._stalledCallback=t;var e=r.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new r.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},r.MediaTagRequest=r.promote(t,"TagRequest")}(),function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=r.proxy(this._handleLoadStart,this),this._handleProgressProxy=r.proxy(this._handleProgress,this),this._handleAbortProxy=r.proxy(this._handleAbort,this),this._handleErrorProxy=r.proxy(this._handleError,this),this._handleTimeoutProxy=r.proxy(this._handleTimeout,this),this._handleLoadProxy=r.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=r.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=r.extend(t,r.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(r.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=r.AbstractLoader.GET?this._item.method==r.AbstractLoader.POST&&this._request.send(r.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new r.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new r.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new r.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new r.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new r.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new r.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e,n=r.RequestUtils.isCrossDomain(t),i={},o=null;if(window.XMLHttpRequest)o=new XMLHttpRequest,n&&void 0===o.withCredentials&&window.XDomainRequest&&(o=new XDomainRequest);else{for(var a=0,c=s.ACTIVEX_VERSIONS.length;a<c;a++){var u=s.ACTIVEX_VERSIONS[a];try{o=new ActiveXObject(u);break}catch(h){}}if(null==o)return!1}if(null==t.mimeType&&r.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof o.responseType?2:1,e=t.method==r.AbstractLoader.GET?r.RequestUtils.buildPath(t.src,t.values):t.src,o.open(t.method||r.AbstractLoader.GET,e,!0),n&&o instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==r.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),n||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)i[l]=t.headers[l];for(l in i)o.setRequestHeader(l,i[l]);return o instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(o.withCredentials=t.withCredentials),this._request=o,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},r.XHRRequest=r.promote(t,"AbstractRequest")}(),function(){"use strict";function t(t,e,n){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[r.ImageLoader,r.JavaScriptLoader,r.CSSLoader,r.JSONLoader,r.JSONPLoader,r.SoundLoader,r.ManifestLoader,r.SpriteSheetLoader,r.XMLLoader,r.SVGLoader,r.BinaryLoader,r.VideoLoader,r.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,n)}var e=r.extend(t,r.AbstractLoader),n=t;e.init=function(t,e,n){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=n,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},n.loadTimeout=8e3,n.LOAD_TIMEOUT=0,n.BINARY=r.AbstractLoader.BINARY,n.CSS=r.AbstractLoader.CSS,n.IMAGE=r.AbstractLoader.IMAGE,n.JAVASCRIPT=r.AbstractLoader.JAVASCRIPT,n.JSON=r.AbstractLoader.JSON,n.JSONP=r.AbstractLoader.JSONP,n.MANIFEST=r.AbstractLoader.MANIFEST,n.SOUND=r.AbstractLoader.SOUND,n.VIDEO=r.AbstractLoader.VIDEO,n.SVG=r.AbstractLoader.SVG,n.TEXT=r.AbstractLoader.TEXT,n.XML=r.AbstractLoader.XML,n.POST=r.AbstractLoader.POST,n.GET=r.AbstractLoader.GET,e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(t))throw new Error("loader already exists.");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setUseXHR=function(t){return this.setPreferXHR(t)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(t&&!Array.isArray(t))e=[t];else if(t)e=t;else if(arguments.length>0)return;var n=!1;if(e){for(;e.length;){var i=e.pop(),r=this.getResult(i);for(s=this._loadQueue.length-1;s>=0;s--)if((o=this._loadQueue[s].getItem()).id==i||o.src==i){this._loadQueue.splice(s,1)[0].cancel();break}for(s=this._loadQueueBackup.length-1;s>=0;s--)if((o=this._loadQueueBackup[s].getItem()).id==i||o.src==i){this._loadQueueBackup.splice(s,1)[0].cancel();break}if(r)this._disposeItem(this.getItem(i));else for(var s=this._currentLoads.length-1;s>=0;s--){var o=this._currentLoads[s].getItem();if(o.id==i||o.src==i){this._currentLoads.splice(s,1)[0].cancel(),n=!0;break}}}n&&this._loadNext()}else{for(var a in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[a]);this.init(this.preferXHR,this._basePath)}},e.reset=function(){for(var t in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],n=0,i=this._loadQueueBackup.length;n<i;n++)e.push(this._loadQueueBackup[n].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var n=0,i=e.types.length;n<i;n++)this._typeCallbacks[e.types[n]]=e;if(null!=e.extensions)for(n=0,i=e.extensions.length;n<i;n++)this._extensionCallbacks[e.extensions[n]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,n){if(null!=t)this._addItem(t,null,n),this.setPaused(!1===e);else{var i=new r.ErrorEvent("PRELOAD_NO_FILE");this._sendError(i)}},e.loadManifest=function(t,e,i){var s=null,o=null;if(Array.isArray(t)){if(0==t.length){var a=new r.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}s=t}else if("string"==typeof t)s=[{src:t,type:n.MANIFEST}];else{if("object"!=typeof t)return a=new r.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(a);void 0!==t.src?(null==t.type?t.type=n.MANIFEST:t.type!=n.MANIFEST&&(a=new r.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(a)),s=[t]):void 0!==t.manifest&&(s=t.manifest,o=t.path)}for(var c=0,u=s.length;c<u;c++)this._addItem(s[c],o,i);this.setPaused(!1===e)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var n=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==n)return null;var i=n.id;return e&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i]},e.getItems=function(t){var e=[];for(var n in this._loadItemsById){var i=this._loadItemsById[n],r=this.getResult(n);!0===t&&null==r||e.push({item:i,result:r,rawResult:this.getResult(n,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},e._addItem=function(t,e,n){var i=this._createLoadItem(t,e,n);if(null!=i){var s=this._createLoader(i);null!=s&&("plugins"in s&&(s.plugins=this._plugins),i._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&i.type==r.LoadQueue.JAVASCRIPT||!0===i.maintainOrder)&&(this._scriptOrder.push(i),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,n){var i=r.LoadItem.create(t);if(null==i)return null;var s="",o=n||this._basePath;if(i.src instanceof Object){if(!i.type)return null;if(e){s=e;var a=r.RequestUtils.parseURI(e);null==o||a.absolute||a.relative||(s=o+s)}else null!=o&&(s=o)}else{var c=r.RequestUtils.parseURI(i.src);c.extension&&(i.ext=c.extension),null==i.type&&(i.type=r.RequestUtils.getTypeByExtension(i.ext));var u=i.src;c.absolute||c.relative||(e?(s=e,a=r.RequestUtils.parseURI(e),u=e+u,null==o||a.absolute||a.relative||(s=o+s)):null!=o&&(s=o)),i.src=s+i.src}i.path=s,null!=i.id&&""!==i.id||(i.id=u);var l=this._typeCallbacks[i.type]||this._extensionCallbacks[i.ext];if(l){var h=l.callback.call(l.scope,i,this);if(!1===h)return null;!0===h||null!=h&&(i._loader=h),null!=(c=r.RequestUtils.parseURI(i.src)).extension&&(i.ext=c.extension)}return this._loadItemsById[i.id]=i,this._loadItemsBySrc[i.src]=i,null==i.crossOrigin&&(i.crossOrigin=this._crossOrigin),i},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,n=0;n<this._availableLoaders.length;n++){var i=this._availableLoaders[n];if(i&&i.canLoadItem(t))return new i(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new r.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var n=new r.ErrorEvent("FILE_LOAD_ERROR",null,e.getItem());this._sendError(n),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,n=e.getItem(),i=e.getResult();this._loadedResults[n.id]=i;var r=e.getResult(!0);null!=r&&r!==i&&(this._loadedRawResults[n.id]=r),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(n,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var n=0;n<e.length;n++){var i=e[n].item;this._loadItemsBySrc[i.src]=i,this._loadItemsById[i.id]=i,this._loadedResults[i.id]=e[n].result,this._loadedRawResults[i.id]=e[n].rawResult}},e._finishOrderedItem=function(t,e){var n=t.getItem();if(this.maintainScriptOrder&&n.type==r.LoadQueue.JAVASCRIPT||n.maintainOrder){t instanceof r.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var i=r.indexOf(this._scriptOrder,n);return-1!=i&&(this._loadedScripts[i]=!0===e||n,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;e<t;e++){var n=this._loadedScripts[e];if(null===n)break;!0!==n&&(n.type==r.LoadQueue.JAVASCRIPT&&r.DomUtils.appendToHead(this._loadedResults[n.id]),this._processFinishedLoad(n,n._loader),this._loadedScripts[e]=!0)}},e._processFinishedLoad=function(t,e){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==r.LoadQueue.JAVASCRIPT){var n=e.getTag();r.DomUtils.appendToHead(n)}this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=r.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var n=this._scriptOrder.indexOf(e),i=0;i<n;){if(null==this._loadedScripts[i])return!1;i++}return this._currentlyLoadingScript=!0,!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,n=0;n<e;n++)if(this._currentLoads[n]==t){this._currentLoads.splice(n,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var n=0,i=0,r=this._currentLoads.length;i<r;i++)n+=this._currentLoads[i].progress;t+=n/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var n=new r.Event("fileprogress");n.progress=e,n.loaded=e,n.total=1,n.item=t,this.dispatchEvent(n)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()&&!this._paused){var n=new r.Event("fileload");n.loader=e,n.item=t,n.result=this._loadedResults[t.id],n.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(n),this.hasEventListener("fileload")&&this.dispatchEvent(n)}},e._sendFileStart=function(t){var e=new r.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},r.LoadQueue=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,r.AbstractLoader.TEXT)}r.extend(t,r.AbstractLoader),t.canLoadItem=function(t){return t.type==r.AbstractLoader.TEXT},r.TextLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,r.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.BINARY},e._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},r.BinaryLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,r.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=e?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.CSS},e._formatResult=function(t){if(this._preferXHR){var e=t.getTag();if(e.styleSheet)e.styleSheet.cssText=t.getResult(!0);else{var n=document.createTextNode(t.getResult(!0));e.appendChild(n)}}else e=this._tag;return r.DomUtils.appendToHead(e),e},r.CSSLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,r.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",r.RequestUtils.isImageTag(t)?this._tag=t:r.RequestUtils.isImageTag(t.src)?this._tag=t.src:r.RequestUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.IMAGE},e.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var t=this._item.crossOrigin;1==t&&(t="Anonymous"),null==t||r.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=t),this.AbstractLoader_load()}},e._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){return this._formatImage},e._formatImage=function(t,e){var n=this._tag,i=window.URL||window.webkitURL;if(this._preferXHR)if(i){var s=i.createObjectURL(this.getResult(!0));n.src=s,n.addEventListener("load",this._cleanUpURL,!1),n.addEventListener("error",this._cleanUpURL,!1)}else n.src=this._item.src;n.complete?t(n):(n.onload=r.proxy(function(){t(this._tag)},this),n.onerror=r.proxy(function(){e(_this._tag)},this))},e._cleanUpURL=function(t){(window.URL||window.webkitURL).revokeObjectURL(t.target.src)},r.ImageLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,r.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},r.JavaScriptLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,r.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.JSON},e._formatResult=function(t){var e=null;try{e=r.DataUtils.parseJSON(t.getResult(!0))}catch(i){var n=new r.ErrorEvent("JSON_FORMAT",null,i);return this._sendError(n),i}return e},r.JSONLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,r.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=r.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(r.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new r.ErrorEvent("timeout"))},e._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},r.JSONPLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,null,r.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=r.extend(t,r.AbstractLoader),n=t;n.MANIFEST_PROGRESS=.25,n.canLoadItem=function(t){return t.type==r.AbstractLoader.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){this._request=null!=this._item.callback?new r.JSONPLoader(this._item):new r.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(n.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=n.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new r.LoadQueue;e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("complete",this._handleManifestComplete,this,!0),e.on("error",this._handleManifestError,this,!0);for(var n=0,i=this.plugins.length;n<i;n++)e.installPlugin(this.plugins[n]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(t){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-n.MANIFEST_PROGRESS)+n.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new r.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},r.ManifestLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,r.AbstractLoader.SOUND),r.RequestUtils.isAudioTag(t)||r.RequestUtils.isAudioTag(t.src)?this._tag=t:r.RequestUtils.isAudioTag(t.tag)&&(this._tag=r.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=r.extend(t,r.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},r.SoundLoader=r.promote(t,"AbstractMediaLoader")}(),function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,r.AbstractLoader.VIDEO),r.RequestUtils.isVideoTag(t)||r.RequestUtils.isVideoTag(t.src)?(this.setTag(r.RequestUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=t;r.extend(t,r.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},e.canLoadItem=function(t){return t.type==r.AbstractLoader.VIDEO},r.VideoLoader=r.promote(t,"AbstractMediaLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,r.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var e=r.extend(t,r.AbstractLoader),n=t;n.SPRITESHEET_PROGRESS=.25,n.canLoadItem=function(t){return t.type==r.AbstractLoader.SPRITESHEET},e.destroy=function(){this._manifestQueue.close()},e._createRequest=function(){this._request=null!=this._item.callback?new r.JSONPLoader(this._item):new r.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(n.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=n.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){if(t&&t.images){var e=this._manifestQueue=new r.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),e.loadManifest(t.images)}},e._handleManifestFileLoad=function(t){var e=t.result;if(null!=e){var n=this.getResult().images,i=n.indexOf(t.item.src);n[i]=e}},e._handleManifestComplete=function(t){this._result=new r.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-n.SPRITESHEET_PROGRESS)+n.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new r.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},r.SpriteSheetLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,r.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",e?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.SVG},e._formatResult=function(t){var e=r.DataUtils.parseXML(t.getResult(!0),"text/xml"),n=t.getTag();return!this._preferXHR&&document.body.contains(n)&&document.body.removeChild(n),null!=e.documentElement?(n.appendChild(e.documentElement),n.style.visibility="visible",n):e},r.SVGLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,r.AbstractLoader.XML),this.resultFormatter=this._formatResult}var e=r.extend(t,r.AbstractLoader);t.canLoadItem=function(t){return t.type==r.AbstractLoader.XML},e._formatResult=function(t){return r.DataUtils.parseXML(t.getResult(!0),"text/xml")},r.XMLLoader=r.promote(t,"AbstractLoader")}(),function(){var t=r.SoundJS=r.SoundJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),r.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},function(){"use strict";r.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,r.BrowserDetect=t}(),function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},n=t;n.create=function(t){if(t instanceof n||t instanceof Object){var e=new r.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},r.PlayPropsConfig=n}(),function(){"use strict";function t(){throw"Sound cannot be instantiated"}var e=t;function n(t,e){this.init(t,e)}e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.alternateExtensions=[],e.activePlugin=null,e._masterVolume=1,Object.defineProperty(e,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var n=this._instances,i=0,r=n.length;i<r;i++)n[i].setMasterVolume(t)}}),e._masterMute=!1,Object.defineProperty(e,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,n=0,i=e.length;n<i;n++)e[n].setMasterMute(t);return!0}}),Object.defineProperty(e,"capabilities",{get:function(){return null==e.activePlugin?null:e.activePlugin._capabilities},set:function(t){return!1}}),e._pluginsRegistered=!1,e._lastID=0,e._instances=[],e._idHash={},e._preloadHash={},e._defaultPlayPropsHash={},e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,r.EventDispatcher.initialize(e),e.getPreloadHandlers=function(){return{callback:r.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e._handleLoadComplete=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];e._preloadHash[n][i]=!0,e.hasEventListener("fileload")&&((t=new r.Event("fileload")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,e.dispatchEvent(t))}},e._handleLoadError=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];e._preloadHash[n][i]=!1,e.hasEventListener("fileerror")&&((t=new r.Event("fileerror")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,e.dispatchEvent(t))}},e._registerPlugin=function(t){return!!t.isSupported()&&(e.activePlugin=new t,!0)},e.registerPlugins=function(t){e._pluginsRegistered=!0;for(var n=0,i=t.length;n<i;n++)if(e._registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin||!e._pluginsRegistered&&!!e.registerPlugins([r.WebAudioPlugin,r.HTMLAudioPlugin])},e.isReady=function(){return null!=e.activePlugin},e.getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin._capabilities},e.getCapability=function(t){return null==e.activePlugin?null:e.activePlugin._capabilities[t]},e.initLoad=function(t){return e._registerSound(t)},e._registerSound=function(t){if(!e.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=e._parseSrc(t.src)).src=t.path+i.src:i=e._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var s=t.data,o=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(o=parseInt(s)):o=parseInt(s.channels),s.audioSprite))for(var a,c=s.audioSprite.length;c--;)e._idHash[(a=s.audioSprite[c]).id]={src:t.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(e._defaultPlayPropsHash[a.id]=r.PlayPropsConfig.create(a.defaultPlayProps));null!=t.id&&(e._idHash[t.id]={src:t.src});var u=e.activePlugin.register(t);return n.create(t.src,o),null!=s&&isNaN(s)?t.data.channels=o||n.maxPerChannel():t.data=o||n.maxPerChannel(),u.type&&(t.type=u.type),t.defaultPlayProps&&(e._defaultPlayPropsHash[t.src]=r.PlayPropsConfig.create(t.defaultPlayProps)),u},e.registerSound=function(t,n,i,s,o){var a={src:t,id:n,data:i,defaultPlayProps:o};t instanceof Object&&t.src&&(s=n,a=t),(a=r.LoadItem.create(a)).path=s,null==s||a.src instanceof Object||(a.src=s+t);var c=e._registerSound(a);if(!c)return!1;if(e._preloadHash[a.src]||(e._preloadHash[a.src]=[]),e._preloadHash[a.src].push(a),1==e._preloadHash[a.src].length)c.on("complete",r.proxy(this._handleLoadComplete,this)),c.on("error",r.proxy(this._handleLoadError,this)),e.activePlugin.preload(c);else if(1==e._preloadHash[a.src][0])return!0;return a},e.registerSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=r.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return n},e.removeSound=function(t,i){if(null==e.activePlugin)return!1;var r;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?r=e._parseSrc(t):(t=e._getSrcById(t).src,r=e._parsePath(t)),null==r)return!1;for(var s in t=r.src,null!=i&&(t=i+t),e._idHash)e._idHash[s].src==t&&delete e._idHash[s];return n.removeSrc(t),delete e._preloadHash[t],e.activePlugin.removeSound(t),!0},e.removeSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=r.Sound.removeSound(t[i].src,e);return n},e.removeAllSounds=function(){e._idHash={},e._preloadHash={},n.removeAll(),e.activePlugin&&e.activePlugin.removeAllSounds()},e.loadComplete=function(t){if(!e.isReady())return!1;var n=e._parsePath(t);return t=n?e._getSrcById(n.src).src:e._getSrcById(t).src,null!=e._preloadHash[t]&&1==e._preloadHash[t][0]},e._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var n=t.match(e.FILE_PATTERN);if(null==n)return!1;for(var i=n[4],r=n[5],s=e.capabilities,o=0;!s[r];)if(r=e.alternateExtensions[o++],o>e.alternateExtensions.length)return null;return{name:i,src:t=t.replace("."+n[5],"."+r),extension:r}},e._parseSrc=function(t){var n={name:void 0,src:void 0,extension:void 0},i=e.capabilities;for(var r in t)if(t.hasOwnProperty(r)&&i[r]){n.src=t[r],n.extension=r;break}if(!n.src)return!1;var s=n.src.lastIndexOf("/");return n.name=-1!=s?n.src.slice(s+1):n.src,n},e.play=function(t,n,i,s,o,a,c,u,l){var h;h=r.PlayPropsConfig.create(n instanceof Object||n instanceof r.PlayPropsConfig?n:{interrupt:n,delay:i,offset:s,loop:o,volume:a,pan:c,startTime:u,duration:l});var d=e.createInstance(t,h.startTime,h.duration);return e._playInstance(d,h)||d._playFailed(),d},e.createInstance=function(t,i,s){if(!e.initializeDefaultPlugins())return new r.DefaultSoundInstance(t,i,s);var o=e._defaultPlayPropsHash[t];t=e._getSrcById(t);var a=e._parsePath(t.src),c=null;return null!=a&&null!=a.src?(n.create(a.src),null==i&&(i=t.startTime),c=e.activePlugin.create(a.src,i,s||t.duration),(o=o||e._defaultPlayPropsHash[a.src])&&c.applyPlayProps(o)):c=new r.DefaultSoundInstance(t,i,s),c.uniqueId=e._lastID++,c},e.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},e.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var n=this._instances,i=0,r=n.length;i<r;i++)n[i].setMasterVolume(t)},e.getVolume=function(){return this._masterVolume},e.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,n=0,i=e.length;n<i;n++)e[n].setMasterMute(t);return!0},e.getMute=function(){return this._masterMute},e.setDefaultPlayProps=function(t,n){t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]=r.PlayPropsConfig.create(n)},e.getDefaultPlayProps=function(t){return t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]},e._playInstance=function(t,n){var i=e._defaultPlayPropsHash[t.src]||{};if(null==n.interrupt&&(n.interrupt=i.interrupt||e.defaultInterruptBehavior),null==n.delay&&(n.delay=i.delay||0),null==n.offset&&(n.offset=t.getPosition()),null==n.loop&&(n.loop=t.loop),null==n.volume&&(n.volume=t.volume),null==n.pan&&(n.pan=t.pan),0==n.delay){if(!e._beginPlaying(t,n))return!1}else{var r=setTimeout(function(){e._beginPlaying(t,n)},n.delay);t.delayTimeoutId=r}return this._instances.push(t),!0},e._beginPlaying=function(t,e){if(!n.add(t,e.interrupt))return!1;if(!t._beginPlaying(e)){var i=r.indexOf(this._instances,t);return i>-1&&this._instances.splice(i,1),!1}return!0},e._getSrcById=function(t){return e._idHash[t]||{src:t}},e._playFinished=function(t){n.remove(t);var e=r.indexOf(this._instances,t);e>-1&&this._instances.splice(e,1)},r.Sound=t,n.channels={},n.create=function(t,e){return null==n.get(t)&&(n.channels[t]=new n(t,e),!0)},n.removeSrc=function(t){var e=n.get(t);return null!=e&&(e._removeAll(),delete n.channels[t],!0)},n.removeAll=function(){for(var t in n.channels)n.channels[t]._removeAll();n.channels={}},n.add=function(t,e){var i=n.get(t.src);return null!=i&&i._add(t,e)},n.remove=function(t){var e=n.get(t.src);return null!=e&&(e._remove(t),!0)},n.maxPerChannel=function(){return i.maxDefault},n.get=function(t){return n.channels[t]};var i=n.prototype;i.constructor=n,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},i._remove=function(t){var e=r.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e,n){var i,r;if(e!=t.INTERRUPT_NONE&&null==(r=this._get(0)))return!0;for(var s=0,o=this.max;s<o;s++){if(null==(i=this._get(s)))return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){r=i;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&i.getPosition()<r.getPosition()||e==t.INTERRUPT_LATE&&i.getPosition()>r.getPosition())&&(r=i)}return null!=r&&(r._interrupt(),this._remove(r),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),function(){"use strict";var t=function(t,e,n,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==i&&!0!==i&&this.setPlaybackResource(i),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=r.extend(t,r.EventDispatcher);e.play=function(t,e,n,i,s,o){var a;return a=r.PlayPropsConfig.create(t instanceof Object||t instanceof r.PlayPropsConfig?t:{interrupt:t,delay:e,offset:n,loop:i,volume:s,pan:o}),this.playState==r.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),r.Sound._playInstance(this,a),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=r.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){if(!(!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=r.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e.setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e.getVolume=function(){return this._volume},e.setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=r.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==r.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new r.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,r.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=r.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=r.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=r.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=r.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},r.AbstractSoundInstance=r.promote(t,"EventDispatcher"),r.DefaultSoundInstance=r.AbstractSoundInstance}(),function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;)this._soundInstances[t][e].destroy();delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,n){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,n,this._audioSources[t]);return this._soundInstances[t].push(i),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var n=0,i=this._soundInstances[e].length;n<i;n++)this._soundInstances[e][n].setPlaybackResource(this._audioSources[e])},e._handlePreloadError=function(t){},e._updateVolume=function(){},r.AbstractPlugin=t}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,r.AbstractLoader.SOUND)}var e=r.extend(t,r.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new r.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,r.proxy(this._handleAudioDecoded,this),r.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},r.WebAudioLoader=r.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=r.proxy(this._handleSoundComplete,this)}var e=r.extend(t,r.AbstractSoundInstance),n=t;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==r.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==r.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=n._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(n.destinationNode);var e=.001*this._duration,i=.001*this._position;i>e&&(i=e),this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var r=.001*this._duration;return i.startTime=t+r,i.start(i.startTime,e+.001*this._startTime,r-e),i},e._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==r.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},r.WebAudioSoundInstance=r.promote(t,"AbstractSoundInstance")}(),function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),r.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=r.WebAudioLoader,this._soundInstanceClass=r.WebAudioSoundInstance,this._addPropsToClasses()}var e=r.extend(t,r.AbstractPlugin),n=t;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.isSupported=function(){return!!("file:"!=location.protocol||r.BrowserDetect.isIOS||r.BrowserDetect.isAndroid||r.BrowserDetect.isBlackberry||this._isFileXHRSupported())&&(n._generateCapabilities(),null!=n.context)},n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.context.destination),t.start(0,0,0)}},n._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(n){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(n){t=!1}return t},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==n.context)if(window.AudioContext)n.context=new AudioContext;else{if(!window.webkitAudioContext)return null;n.context=new webkitAudioContext}null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=r.Sound.SUPPORTED_EXTENSIONS,i=r.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var a=e[s],c=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+c)&&""!=t.canPlayType("audio/"+c)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),n._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=n._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=r.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},r.WebAudioPlugin=r.promote(t,"AbstractPlugin")}(),function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}var e=t;function n(t){this._tags=[]}e._tags={},e._tagPool=new n,e._tagUsed={},e.get=function(t){var n=e._tags[t];return null==n?(n=e._tags[t]=e._tagPool.get()).src=t:e._tagUsed[t]?(n=e._tagPool.get()).src=t:e._tagUsed[t]=!0,n},e.set=function(t,n){n==e._tags[t]?e._tagUsed[t]=!1:e._tagPool.set(n)},e.remove=function(t){var n=e._tags[t];return null!=n&&(e._tagPool.set(n),delete e._tags[t],delete e._tagUsed[t],!0)},e.getDuration=function(t){var n=e._tags[t];return null!=n&&n.duration?1e3*n.duration:0},r.HTMLAudioTagPool=t;var i=n.prototype;i.constructor=n,i.get=function(){var t;return null==(t=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(t),t},i.set=function(t){-1==r.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),function(){"use strict";function t(t,e,n,i){this.AbstractSoundInstance_constructor(t,e,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=r.proxy(this._handleSoundComplete,this),this._readyHandler=r.proxy(this._handleTagReady,this),this._stalledHandler=r.proxy(this._playFailed,this),this._audioSpriteEndHandler=r.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=r.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(e+n):this._duration=r.HTMLAudioTagPool.getDuration(this.src)}var e=r.extend(t,r.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(r.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(r.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(r.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(r.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}r.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=r.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(r.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(r.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(r.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(r.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||r.Sound._masterMute?0:this._volume*r.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==r.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(r.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==r.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(r.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(r.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=r.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},r.HTMLAudioSoundInstance=r.promote(t,"AbstractSoundInstance")}(),function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=n._capabilities,this._loaderClass=r.SoundLoader,this._soundInstanceClass=r.HTMLAudioSoundInstance}var e=r.extend(t,r.AbstractPlugin),n=t;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=r.Sound.SUPPORTED_EXTENSIONS,i=r.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var a=e[s],c=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+c)&&""!=t.canPlayType("audio/"+c)}}},e.register=function(t){var e=r.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(e),n},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),r.HTMLAudioTagPool.remove(t)},e.create=function(t,e,n){var i=this.AbstractPlugin_create(t,e,n);return i.setPlaybackResource(null),i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,r.HTMLAudioPlugin=r.promote(t,"AbstractPlugin")}(),function(){"use strict";function t(e,n,i){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=i||{},this.target=e,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=e,this._useTicks=!1,this._inited=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.ignoreGlobalPause=n.ignoreGlobalPause,this.loop=n.loop,n.onChange&&this.addEventListener("change",n.onChange),n.override&&t.removeTweens(e)),n&&n.paused?this._paused=!0:r.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,t.NONE)}var e=r.extend(t,r.EventDispatcher);t.NONE=0,t.LOOP=1,t.REVERSE=2,t.IGNORE={},t._tweens=[],t._plugins={},t.get=function(e,n,i,r){return r&&t.removeTweens(e),new t(e,n,i)},t.tick=function(e,n){for(var i=t._tweens.slice(),r=i.length-1;r>=0;r--){var s=i[r];n&&!s.ignoreGlobalPause||s._paused||s.tick(s._useTicks?1:e)}},t.handleEvent=function(t){"tick"==t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var n=t._tweens,i=n.length-1;i>=0;i--){var r=n[i];r._target==e&&(r._paused=!0,n.splice(i,1))}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweens,n=0,i=e.length;n<i;n++){var r=e[n];r._paused=!0,r.target&&(r.target.tweenjs_count=0)}e.length=0},t.hasActiveTweens=function(e){return e?null!=e.tweenjs_count&&!!e.tweenjs_count:t._tweens&&!!t._tweens.length},t.installPlugin=function(e,n){var i=e.priority;null==i&&(e.priority=i=0);for(var r=0,s=n.length,o=t._plugins;r<s;r++){var a=n[r];if(o[a]){for(var c=o[a],u=0,l=c.length;u<l&&!(i<c[u].priority);u++);o[a].splice(u,0,e)}else o[a]=[e]}},t._register=function(e,n){var i=e._target,s=t._tweens;if(n&&!e._registered)i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),s.push(e),!t._inited&&r.Ticker&&(r.Ticker.addEventListener("tick",t),t._inited=!0);else if(!n&&e._registered){i&&i.tweenjs_count--;for(var o=s.length;o--;)if(s[o]==e){s.splice(o,1);break}}e._registered=n},e.wait=function(t,e){if(null==t||t<=0)return this;var n=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:n,e:this._linearEase,p1:n,v:e})},e.to=function(t,e,n){return(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:n,p1:this._cloneProps(this._appendQueueProps(t))})},e.call=function(t,e,n){return this._addAction({f:t,p:e||[this],o:n||this._target})},e.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e||this._target]})},e.play=function(t){return t||(t=this),this.call(t.setPaused,[!1],t)},e.pause=function(t){return t||(t=this),this.call(t.setPaused,[!0],t)},e.setPosition=function(t,e){t<0&&(t=0),null==e&&(e=1);var n=t,i=!1;if(n>=this.duration&&(this.loop?n%=this.duration:(n=this.duration,i=!0)),n==this._prevPos)return i;var r=this._prevPos;if(this.position=this._prevPos=n,this._prevPosition=t,this._target)if(i)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var s=0,o=this._steps.length;s<o&&!(this._steps[s].t>n);s++);var a=this._steps[s-1];this._updateTargetProps(a,(this._stepPosition=n-a.t)/a.d)}return 0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(n,n):1==e&&n<r?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,n,!0)):this._runActions(r,n)),i&&this.setPaused(!0),this.dispatchEvent("change"),i},e.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},e.setPaused=function(e){return this._paused===!!e||(this._paused=!!e,t._register(this,!e)),this},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._updateTargetProps=function(e,n){var i,r,s,o,a,c;if(e||1!=n){if(this.passive=!!e.v,this.passive)return;e.e&&(n=e.e(n,0,1,1)),i=e.p0,r=e.p1}else this.passive=!1,i=r=this._curQueueProps;for(var u in this._initQueueProps){null==(o=i[u])&&(i[u]=o=this._initQueueProps[u]),null==(a=r[u])&&(r[u]=a=o),s=o==a||0==n||1==n||"number"!=typeof o?1==n?a:o:o+(a-o)*n;var l=!1;if(c=t._plugins[u])for(var h=0,d=c.length;h<d;h++){var f=c[h].tween(this,u,s,i,r,n,!!e&&i==r,!e);f==t.IGNORE?l=!0:s=f}l||(this._target[u]=s)}},e._runActions=function(t,e,n){var i=t,r=e,s=-1,o=this._actions.length,a=1;for(t>e&&(i=e,r=t,s=o,o=a=-1);(s+=a)!=o;){var c=this._actions[s],u=c.t;(u==r||u>i&&u<r||n&&u==t)&&c.f.apply(c.o,c.p)}},e._appendQueueProps=function(e){var n,i,r,s,o;for(var a in e)if(void 0===this._initQueueProps[a]){if(i=this._target[a],n=t._plugins[a])for(r=0,s=n.length;r<s;r++)i=n[r].init(this,a,i);this._initQueueProps[a]=this._curQueueProps[a]=void 0===i?null:i}else i=this._curQueueProps[a];for(var a in e){if(i=this._curQueueProps[a],n=t._plugins[a])for(o=o||{},r=0,s=n.length;r<s;r++)n[r].step&&n[r].step(this,a,i,e[a],o);this._curQueueProps[a]=e[a]}return o&&this._appendQueueProps(o),this._curQueueProps},e._cloneProps=function(t){var e={};for(var n in t)e[n]=t[n];return e},e._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e._set=function(t,e){for(var n in t)e[n]=t[n]},r.Tween=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t,e,n){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.loop=n.loop,this.ignoreGlobalPause=n.ignoreGlobalPause,n.onChange&&this.addEventListener("change",n.onChange)),t&&this.addTween.apply(this,t),this.setLabels(e),n&&n.paused?this._paused=!0:r.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,r.Tween.NONE)}var e=r.extend(t,r.EventDispatcher);e.addTween=function(t){var e=arguments.length;if(e>1){for(var n=0;n<e;n++)this.addTween(arguments[n]);return arguments[0]}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),this._prevPos>=0&&t.setPosition(this._prevPos,r.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var n=!0,i=0;i<e;i++)n=n&&this.removeTween(arguments[i]);return n}if(0==e)return!1;var r=this._tweens;for(i=r.length;i--;)if(r[i]==t)return r.splice(i,1),t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.addLabel=function(t,e){this._labels[t]=e;var n=this._labelList;if(n){for(var i=0,r=n.length;i<r&&!(e<n[i].position);i++);n.splice(i,0,{label:t,position:e})}},e.setLabels=function(t){this._labels=t||{}},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var n in e)t.push({label:n,position:e[n]});t.sort(function(t,e){return t.position-e.position})}return t},e.getCurrentLabel=function(){var t=this.getLabels(),e=this.position,n=t.length;if(n){for(var i=0;i<n&&!(e<t[i].position);i++);return 0==i?null:t[i-1].label}return null},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){var n=this._calcPosition(t),i=!this.loop&&t>=this.duration;if(n==this._prevPos)return i;this._prevPosition=t,this.position=this._prevPos=n;for(var r=0,s=this._tweens.length;r<s;r++)if(this._tweens[r].setPosition(n,e),n!=this._prevPos)return!1;return i&&this.setPaused(!0),this.dispatchEvent("change"),i},e.setPaused=function(t){this._paused=!!t,r.Tween._register(this,!t)},e.updateDuration=function(){this.duration=0;for(var t=0,e=this._tweens.length;t<e;t++){var n=this._tweens[t];n.duration>this.duration&&(this.duration=n.duration)}},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels[t]),e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e)},e._calcPosition=function(t){return t<0?0:t<this.duration?t:this.loop?t%this.duration:this.duration},r.Timeline=r.promote(t,"EventDispatcher")}(),function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.none=t.linear=function(t){return t},t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=e/n*Math.asin(1/t);return-t*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=e/n*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-r)*n/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var n=2*Math.PI;return function(i){var r=e/n*Math.asin(1/t);return(i*=2)<1?t*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/e)*-.5:t*Math.pow(2,-10*(i-=1))*Math.sin((i-r)*n/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),r.Ease=t}(),function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}t.priority=0,t.install=function(){return r.Tween.installPlugin(t,["guide","x","y","rotation"]),r.Tween.IGNORE},t.init=function(t,e,n){var i=t.target;return i.hasOwnProperty("x")||(i.x=0),i.hasOwnProperty("y")||(i.y=0),i.hasOwnProperty("rotation")||(i.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:n},t.step=function(e,n,i,r,s){if("rotation"==n&&(e.__rotGlobalS=i,e.__rotGlobalE=r,t.testRotData(e,s)),"guide"!=n)return r;var o,a=r;a.hasOwnProperty("path")||(a.path=[]);var c=a.path;if(a.hasOwnProperty("end")||(a.end=1),a.hasOwnProperty("start")||(a.start=i&&i.hasOwnProperty("end")&&i.path===c?i.end:0),a.hasOwnProperty("_segments")&&a._length)return r;var u=c.length;if(!(u>=6&&(u-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";a._segments=[],a._length=0;for(var l=2;l<u;l+=4){for(var h,d,f=c[l-2],p=c[l-1],m=c[l+0],g=c[l+1],b=c[l+2],_=c[l+3],y=f,v=p,w=0,T=[],S=1;S<=10;S++){var x=S/10,C=1-x;h=C*C*f+2*C*x*m+x*x*b,d=C*C*p+2*C*x*g+x*x*_,w+=T[T.push(Math.sqrt((o=h-y)*o+(o=d-v)*o))-1],y=h,v=d}a._segments.push(w),a._segments.push(T),a._length+=w}o=a.orient,a.orient=!0;var E={};return t.calc(a,a.start,E),e.__rotPathS=Number(E.rotation.toFixed(5)),t.calc(a,a.end,E),e.__rotPathE=Number(E.rotation.toFixed(5)),a.orient=!1,t.calc(a,a.end,s),a.orient=o,a.orient?(e.__guideData=a,t.testRotData(e,s),r):r},t.testRotData=function(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;t.__rotGlobalS=t.__rotGlobalE=void 0!==t._curQueueProps.rotation?t._curQueueProps.rotation:e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var n=t.__guideData,i=t.__rotGlobalE-t.__rotGlobalS,r=t.__rotPathE-t.__rotPathS,s=i-r;if("auto"==n.orient)s>180?s-=360:s<-180&&(s+=360);else if("cw"==n.orient){for(;s<0;)s+=360;0==s&&i>0&&180!=i&&(s+=360)}else if("ccw"==n.orient){for(s=i-(r>180?360-r:r);s>0;)s-=360;0==s&&i<0&&-180!=i&&(s-=360)}n.rotDelta=s,n.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}},t.tween=function(e,n,i,r,s,o,a,c){var u=s.guide;if(null==u||u===r.guide)return i;if(u.lastRatio!=o){switch(t.calc(u,(u.end-u.start)*(a?u.end:o)+u.start,e.target),u.orient){case"cw":case"ccw":case"auto":e.target.rotation+=u.rotOffS+u.rotDelta*o;break;case"fixed":default:e.target.rotation+=u.rotOffS}u.lastRatio=o}return"rotation"!=n||u.orient&&"false"!=u.orient?e.target[n]:i},t.calc=function(t,e,n){if(null==t._segments)throw"Missing critical pre-calculated information, please file a bug";null==n&&(n={x:0,y:0,rotation:0});for(var i=t._segments,r=t.path,s=t._length*e,o=i.length-2,a=0;s>i[a]&&a<o;)s-=i[a],a+=2;var c=i[a+1],u=0;for(o=c.length-1;s>c[u]&&u<o;)s-=c[u],u++;var l=u/++o+s/(o*c[u]),h=1-l;return n.x=h*h*r[(a=2*a+2)-2]+2*h*l*r[a+0]+l*l*r[a+2],n.y=h*h*r[a-1]+2*h*l*r[a+1]+l*l*r[a+3],t.orient&&(n.rotation=57.2957795*Math.atan2((r[a+1]-r[a-1])*h+(r[a+3]-r[a+1])*l,(r[a+0]-r[a-2])*h+(r[a+2]-r[a+0])*l)),n},r.MotionGuidePlugin=t}(),function(){"use strict";var t=r.TweenJS=r.TweenJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),void 0!==t.exports&&(t.exports=this.createjs)}).call(this,n("YuTi")(t))},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Mc}),n.d(e,"c",function(){return Dc}),n.d(e,"d",function(){return Ac}),n.d(e,"e",function(){return Pc}),n.d(e,"f",function(){return Du}),n.d(e,"g",function(){return vu}),n.d(e,"h",function(){return Ua}),n.d(e,"i",function(){return Kc}),n.d(e,"j",function(){return ra}),n.d(e,"k",function(){return Vc}),n.d(e,"l",function(){return ca}),n.d(e,"m",function(){return Ou}),n.d(e,"n",function(){return vi}),n.d(e,"o",function(){return lc}),n.d(e,"p",function(){return cs}),n.d(e,"q",function(){return kn}),n.d(e,"r",function(){return C}),n.d(e,"s",function(){return sn}),n.d(e,"t",function(){return xs}),n.d(e,"u",function(){return ka}),n.d(e,"v",function(){return Ia}),n.d(e,"w",function(){return Fc}),n.d(e,"x",function(){return Ga}),n.d(e,"y",function(){return Tu}),n.d(e,"z",function(){return za}),n.d(e,"A",function(){return mu}),n.d(e,"B",function(){return Jc}),n.d(e,"C",function(){return On}),n.d(e,"D",function(){return Nc}),n.d(e,"E",function(){return Lc}),n.d(e,"F",function(){return dc}),n.d(e,"G",function(){return ha}),n.d(e,"H",function(){return la}),n.d(e,"I",function(){return xi}),n.d(e,"J",function(){return fa}),n.d(e,"K",function(){return mi}),n.d(e,"L",function(){return In}),n.d(e,"M",function(){return Cu}),n.d(e,"N",function(){return Va}),n.d(e,"O",function(){return ru}),n.d(e,"P",function(){return an}),n.d(e,"Q",function(){return ma}),n.d(e,"R",function(){return pa}),n.d(e,"S",function(){return Wa}),n.d(e,"T",function(){return P}),n.d(e,"U",function(){return gu}),n.d(e,"V",function(){return fu}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return xn}),n.d(e,"Y",function(){return du}),n.d(e,"Z",function(){return Au}),n.d(e,"ab",function(){return au}),n.d(e,"bb",function(){return jc}),n.d(e,"cb",function(){return ls}),n.d(e,"db",function(){return zo}),n.d(e,"eb",function(){return fi}),n.d(e,"fb",function(){return Xn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return Gn}),n.d(e,"jb",function(){return qn}),n.d(e,"kb",function(){return Hn}),n.d(e,"lb",function(){return zn}),n.d(e,"mb",function(){return Vo}),n.d(e,"nb",function(){return Iu}),n.d(e,"ob",function(){return Bo}),n.d(e,"pb",function(){return Ho}),n.d(e,"qb",function(){return Vn}),n.d(e,"rb",function(){return N}),n.d(e,"sb",function(){return Rs}),n.d(e,"tb",function(){return Zs}),n.d(e,"ub",function(){return Js}),n.d(e,"vb",function(){return Qs}),n.d(e,"wb",function(){return Fo}),n.d(e,"xb",function(){return Ct}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return jn}),n.d(e,"Ab",function(){return Es}),n.d(e,"Bb",function(){return _t}),n.d(e,"Cb",function(){return ea}),n.d(e,"Db",function(){return hr}),n.d(e,"Eb",function(){return Ms}),n.d(e,"Fb",function(){return Ro}),n.d(e,"Gb",function(){return _o}),n.d(e,"Hb",function(){return xc}),n.d(e,"Ib",function(){return W}),n.d(e,"Jb",function(){return tt}),n.d(e,"Kb",function(){return g}),n.d(e,"Lb",function(){return b}),n.d(e,"Mb",function(){return J}),n.d(e,"Nb",function(){return et}),n.d(e,"Ob",function(){return Bs}),n.d(e,"Pb",function(){return Ys}),n.d(e,"Qb",function(){return $s}),n.d(e,"Rb",function(){return Ks}),n.d(e,"Sb",function(){return Ws}),n.d(e,"Tb",function(){return Gs}),n.d(e,"Ub",function(){return zs}),n.d(e,"Vb",function(){return Xs}),n.d(e,"Wb",function(){return tn}),n.d(e,"Xb",function(){return Uo}),n.d(e,"Yb",function(){return Sn}),n.d(e,"Zb",function(){return en}),n.d(e,"ac",function(){return Ic}),n.d(e,"bc",function(){return to}),n.d(e,"cc",function(){return Cc}),n.d(e,"dc",function(){return be}),n.d(e,"ec",function(){return ge}),n.d(e,"fc",function(){return so}),n.d(e,"gc",function(){return co}),n.d(e,"hc",function(){return ao}),n.d(e,"ic",function(){return Hs}),n.d(e,"jc",function(){return cc}),n.d(e,"kc",function(){return uc}),n.d(e,"lc",function(){return Tc}),n.d(e,"mc",function(){return Vs}),n.d(e,"nc",function(){return qt}),n.d(e,"oc",function(){return gi}),n.d(e,"pc",function(){return Q}),n.d(e,"qc",function(){return bo}),n.d(e,"rc",function(){return eo}),n.d(e,"sc",function(){return Lo}),n.d(e,"tc",function(){return Fs}),n.d(e,"uc",function(){return Io}),n.d(e,"vc",function(){return Ao}),n.d(e,"wc",function(){return Po}),n.d(e,"xc",function(){return Do}),n.d(e,"yc",function(){return Sc});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return y(t,w)||y(t,S)}function y(t,e){return t.hasOwnProperty(e)?t[e]:null}function v(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(x))?t[T]:null}const w=c({"\u0275prov":c}),T=c({"\u0275inj":c}),S=c({ngInjectableDef:c}),x=c({ngInjectorDef:c});var C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let E;function k(t){const e=E;return E=t,e}function O(t,e,n){const i=_(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&C.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function I(t){return{toString:t}.toString()}var A=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),P=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const D="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,N=D||L||R||U,M={},j=[],F=c({"\u0275cmp":c}),V=c({"\u0275dir":c}),B=c({"\u0275pipe":c}),H=c({"\u0275mod":c}),q=c({"\u0275loc":c}),z=c({"\u0275fac":c}),G=c({__NG_ELEMENT_ID__:c});let Y=0;function W(t){return I(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||j,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||P.Emulated,id:"c",styles:t.styles||j,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=Y++,n.inputs=Z(t.inputs,e),n.outputs=Z(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(K):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map($):null,n})}function K(t){return nt(t)||function(t){return t[V]||null}(t)}function $(t){return function(t){return t[B]||null}(t)}const X={};function J(t){const e={type:t.type,bootstrap:t.bootstrap||j,declarations:t.declarations||j,imports:t.imports||j,exports:t.exports||j,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&I(()=>{X[t.id]=t.type}),e}function Q(t,e){return I(()=>{const n=it(t,!0);n.declarations=e.declarations||j,n.imports=e.imports||j,n.exports=e.exports||j})}function Z(t,e){if(null==t)return M;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const tt=W;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[F]||null}function it(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const rt=20,st=10;function ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function ut(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(z)?t[z]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?` in ${e}`:"";throw new ft("201",`No provider for ${mt(t)} found${n}`)}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),vt}function vt(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===M)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,i){const r=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:M,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===M),t[i]=e}function Tt(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const St="http://www.w3.org/2000/svg";let xt;function Ct(t){xt=t}function Et(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function It(t,e){return Ot(e[t])}function At(t,e){return Ot(e[t.index])}function Pt(t,e){return t.data[e]}function Dt(t,e){const n=e[t];return ot(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Nt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function jt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Ft={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ft.bindingsEnabled}function Bt(){return Ft.lFrame.lView}function Ht(){return Ft.lFrame.tView}function qt(t){Ft.lFrame.contextLView=t}function zt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Ft.lFrame.currentTNode}function Yt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ft.lFrame.isParent}function Kt(){Ft.lFrame.isParent=!1}function $t(){return Ft.isInCheckNoChangesMode}function Xt(t){Ft.isInCheckNoChangesMode=t}function Jt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qt(){return Ft.lFrame.bindingIndex++}function Zt(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){Ft.lFrame.currentDirectiveIndex=t}function ne(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ie(){return Ft.lFrame.currentQueryIndex}function re(t){Ft.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&C.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&C.Host||(i=se(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Ft.lFrame=ce();return i.currentTNode=e,i.lView=t,!0}function ae(t){const e=ce(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Ft.lFrame.selectedIndex}function pe(t){Ft.lFrame.selectedIndex=t}function me(){const t=Ft.lFrame;return Pt(t.tView,t.selectedIndex)}function ge(){Ft.lFrame.currentNamespace=St}function be(){Ft.lFrame.currentNamespace=null}function _e(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){Te(t,e,3,n)}function ve(t,e,n,i){(3&t[2])===n&&Te(t,e,n,i)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Te(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const xe=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const i=Et(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];Oe(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function ke(t){return 3===t||4===t||6===t}function Oe(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Ae(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Ae(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Pe(t){return t!==xe}function De(t){return 32767&t}function Re(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ue=!0;function Le(t){const e=Ue;return Ue=t,e}let Ne=0;function Me(t,e){const n=Fe(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,je(i.data,t),je(e,null),je(i.blueprint,null));const r=Ve(t,e),s=t.injectorIndex;if(Pe(r)){const t=De(r),n=Re(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return xe;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return xe}function Be(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(i=n[G]),null==i&&(i=n[G]=Ne++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function He(t,e,n){if(n&C.Optional)return t;gt(e,"NodeInjector")}function qe(t,e,n,i){if(n&C.Optional&&void 0===i&&(i=null),0==(n&(C.Self|C.Host))){const r=t[9],s=k(void 0);try{return r?r.get(e,i,n&C.Optional):O(e,i,n&C.Optional)}finally{k(s)}}return He(i,e,n)}function ze(t,e,n,i=C.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:Ye:e}(n);if("function"==typeof s){if(!oe(e,t,i))return i&C.Host?He(r,n,i):qe(e,n,i,r);try{const t=s();if(null!=t||i&C.Optional)return t;gt(n)}finally{he()}}else if("number"==typeof s){let r=null,o=Fe(t,e),a=xe,c=i&C.Host?e[16][6]:null;for((-1===o||i&C.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],a!==xe&&Je(i,!1)?(r=e[1],o=De(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Xe(s,o,t.data)){const t=We(o,e,n,r,i,c);if(t!==Ge)return t}a=e[o+8],a!==xe&&Je(i,e[1].data[o+8]===c)&&Xe(s,o,e)?(r=t,o=De(a),e=Re(a,e)):o=-1}}}return qe(e,n,i,r)}const Ge={};function Ye(){return new Qe(zt(),Bt())}function We(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Ke(a,o,n,null==i?ut(a)&&Ue:i!=o&&0!=(3&a.type),r&C.Host&&s===a);return null!==c?$e(e,o,c,a):Ge}function Ke(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&ht(t)&&t.type===n)return c}return null}function $e(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Ce){const o=r;o.resolving&&function(t,e){throw new ft("200",`Circular dependency in DI detected for ${t}`)}(mt(s[n]));const a=Le(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?k(o.injectImpl):null;oe(t,i,C.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&k(c),Le(a),o.resolving=!1,he()}}return r}function Xe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&C.Self||t&C.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Ze(t){const e=t;if(m(t))return()=>{const t=Ze(p(e));return t?t():null};let n=dt(e);if(null===n){const t=v(e);n=t&&t.factory}return n||null}function tn(t){return I(()=>{const e=t.prototype.constructor,n=e[z]||Ze(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[z]||Ze(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(ke(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(zt(),t)}const nn="__parameters__";function rn(t,e,n){return I(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),cn(i,e)):e!==t&&e.push(i)}return e}function un(t,e){t.forEach(t=>Array.isArray(t)?un(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function fn(t,e,n){let i=mn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function pn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const gn={},bn=/\n/gm,_n="__source",yn=c({provide:String,useValue:c});let vn;function wn(t){const e=vn;return vn=t,e}function Tn(t,e=C.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?O(t,void 0,e):vn.get(t,e&C.Optional?null:void 0,e)}function Sn(t,e=C.Default){return(E||Tn)(p(t),e)}const xn=Sn;function Cn(t){const e=[];for(let n=0;n<t.length;n++){const i=p(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=C.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(Sn(t,n))}else e.push(Sn(i))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const kn=En(rn("Inject",t=>({token:t})),-1),On=En(rn("Optional"),8),In=En(rn("SkipSelf"),4);let An;function Pn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,N.trustedTypes))try{An=N.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rn extends Dn{getTypeName(){return"HTML"}}class Un extends Dn{getTypeName(){return"Style"}}class Ln extends Dn{getTypeName(){return"Script"}}class Nn extends Dn{getTypeName(){return"URL"}}class Mn extends Dn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Dn&&t.getTypeName()||null}function Bn(t){return new Rn(t)}function Hn(t){return new Un(t)}function qn(t){return new Ln(t)}function zn(t){return new Nn(t)}function Gn(t){return new Mn(t)}class Yn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Kn)||t.match($n)?t:"unsafe:"+t}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Jn("area,br,col,hr,img,wbr"),ti=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Jn("rp,rt"),ni=Qn(ei,ti),ii=Qn(Zn,Qn(ti,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(ei,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni),ri=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),si=Jn("srcset"),oi=Qn(ri,si,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=Jn("script,style,template");class ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ii.hasOwnProperty(e))return this.sanitizedSomething=!0,!ai.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!oi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ri[s]&&(o=Xn(o)),si[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ii.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,li=/([^\#-~ |!])/g;function hi(t){return t.replace(/&/g,"&amp;").replace(ui,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(li,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let di;function fi(t,e){let n=null;try{di=di||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Yn(e):e}(t);let i=e?String(e):"";n=di.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=di.getInertBodyElement(i)}while(i!==s);return Pn((new ci).sanitizeChildren(pi(n)||n))}finally{if(n){const t=pi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gi(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(mi.URL,t)||"":Fn(t,"URL")?jn(t):Xn(pt(t))}function bi(t){return t.ngDebugContext}function _i(t){return t.ngOriginalError}function yi(t,...e){t.error(...e)}class vi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||yi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?bi(t)?bi(t):this._findContext(_i(t)):null}_findOriginalError(t){let e=_i(t);for(;e&&_i(e);)e=_i(e);return e}}function wi(t,e){t.__ngContext__=e}const Ti=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N))();function Si(t){return t instanceof Function?t():t}var xi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ci(t,e){return(void 0)(t,e)}function Ei(t){const e=t[3];return at(e)?e[3]:e}function ki(t){return Ii(t[13])}function Oi(t){return Ii(t[4])}function Ii(t){for(;null!==t&&!at(t);)t=t[4];return t}function Ai(t,e,n,i,r){if(null!=i){let s,o=!1;at(i)?s=i:ot(i)&&(o=!0,i=i[0]);const a=Ot(i);0===t&&null!==n?null==r?ji(e,n,a):Mi(e,n,a,r||null,!0):1===t&&null!==n?Mi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Vi(t,e);i&&function(t,e,n,i){Et(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Ot(n)&&Ai(e,t,i,s,r);for(let o=st;o<n.length;o++){const r=n[o];Ki(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Pi(t,e,n){return Et(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Di(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,jt(r,-1)),n.splice(i,1)}function Ri(t,e){if(t.length<=st)return;const n=st+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Di(s,i),e>0&&(t[n-1][4]=i[4]);const o=hn(t,st+e);Ki(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ui(t,e){if(!(256&e[2])){const n=e[11];Et(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ot(e)&&Li(e[1],e),e=e[3];null===e&&(e=t),ot(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Ce)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Ot(e[t]),a=i[r=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Et(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&Di(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ni(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===P.None||e===P.Emulated)return null}return At(i,n)}(t,e.parent,n)}function Mi(t,e,n,i,r){Et(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function ji(t,e,n){Et(t)?t.appendChild(e,n):e.appendChild(n)}function Fi(t,e,n,i,r){null!==i?Mi(t,e,n,i,r):ji(t,e,n)}function Vi(t,e){return Et(t)?t.parentNode(e):e.parentNode}function Bi(t,e,n){return Hi(t,e,n)}let Hi=function(t,e,n){return 40&t.type?At(t,n):null};function qi(t,e,n,i){const r=Ni(t,i,e),s=e[11],o=Bi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fi(s,r,n[a],o,!1);else Fi(s,r,n,o,!1)}function zi(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return Yi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zi(t,n);{const n=t[e.index];return at(n)?Yi(-1,n):Ot(n)}}if(32&n)return Ci(e,t)()||Ot(t[e.index]);{const n=Gi(t,e);return null!==n?Array.isArray(n)?n[0]:zi(Ei(t[16]),n):zi(t,e.next)}}return null}function Gi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Yi(t,e){const n=st+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return zi(t,i)}return e[7]}function Wi(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;if(o&&0===e&&(a&&wi(Ot(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Wi(t,e,n.child,i,r,s,!1),Ai(e,t,r,a,s);else if(32&c){const o=Ci(n,i);let c;for(;c=o();)Ai(e,t,r,c,s);Ai(e,t,r,a,s)}else 16&c?$i(t,e,i,n,r,s):Ai(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Ki(t,e,n,i,r,s){Wi(n,i,t.firstChild,e,r,s,!1)}function $i(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ai(e,t,r,a[c],s);else Wi(t,e,a,o[3],r,s,!0)}function Xi(t,e,n){Et(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ji(t,e,n){Et(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Qi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Zi="ng-template";function tr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Qi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function er(t){return 4===t.type&&t.value!==Zi}function nr(t,e,n){return e===(4!==t.type||n?t.value:Zi)}function ir(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!nr(t,c,n)||""===c&&1===e.length){if(rr(i))return!1;o=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!tr(t.attrs,u,n)){if(rr(i))return!1;o=!0}continue}const l=sr(8&i?"class":c,r,er(t),n);if(-1===l){if(rr(i))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":r[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Qi(e,u,0)||2&i&&u!==t){if(rr(i))return!1;o=!0}}}}else{if(!o&&!rr(i)&&!rr(c))return!1;if(o&&rr(c))continue;o=!1,i=c|1&i}}return rr(i)||o}function rr(t){return 0==(1&t)}function sr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function or(t,e,n=!1){for(let i=0;i<e.length;i++)if(ir(t,e[i],n))return!0;return!1}function ar(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function cr(t,e){return t?":not("+e.trim()+")":e}function ur(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||rr(o)||(e+=cr(s,r),r=""),i=o,s=s||!rr(i);n++}return""!==r&&(e+=cr(s,r)),e}const lr={};function hr(t){dr(Ht(),Bt(),fe()+t,$t())}function dr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&ye(e,i,n)}else{const i=t.preOrderHooks;null!==i&&ve(e,i,0,n)}pe(n)}function fr(t,e){return t<<17|e<<2}function pr(t){return t>>17&32767}function mr(t){return 2|t}function gr(t){return(131068&t)>>2}function br(t,e){return-131069&t|e<<2}function _r(t){return 1|t}function yr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];re(r),n.contentQueries(2,e[s],s)}}}function vr(t,e,n,i,r,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=r,l[2]=140|i,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wr(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Gt(),o=Wt(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function Tr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Sr(t,e,n){ae(e);try{const i=t.viewQuery;null!==i&&Zr(1,i,n);const r=t.template;null!==r&&Er(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yr(t,e),t.staticViewQueries&&Zr(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Kr(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,de()}}function xr(t,e,n,i){const r=e[2];if(256==(256&r))return;ae(e);const s=$t();try{Mt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Er(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),we(e,0)}if(function(t){for(let e=ki(t);null!==e;e=Oi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&jt(i,1),n[2]|=1024}}}(e),function(t){for(let e=ki(t);null!==e;e=Oi(e))for(let t=st;t<e.length;t++){const n=e[t],i=n[1];Lt(n)&&xr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&yr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)pe(~i);else{const r=i,s=n[++t],o=n[++t];te(s,r),o(2,e[r])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Yr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Zr(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,jt(e[3],-1))}finally{de()}}function Cr(t,e,n,i){const r=e[10],s=!$t(),o=Ut(e);try{s&&!o&&r.begin&&r.begin(),o&&Sr(t,e,i),xr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Er(t,e,n,i,r){const s=fe();try{pe(-1),2&i&&e.length>rt&&dr(t,e,rt,$t()),n(i,r)}finally{pe(s)}}function kr(t,e,n){if(ct(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Or(t,e,n){Vt()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),wi(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=ht(i);s&&Hr(e,n,i);const c=$e(e,t,a,n);wi(c,e),null!==o&&qr(0,a-r,c,i,0,o),s&&(Dt(n.index,e)[8]=c)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Ft.lFrame.currentDirectiveIndex;try{pe(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ee(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Mr(i,r)}}finally{pe(-1),ee(o)}}(t,e,n))}function Ir(t,e,n=At){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Ar(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pr(t,e,n,i,r,s,o,a,c,u){const l=rt+i,h=l+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:lr);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Dr(t,e,n,i){const r=es(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&ns(t).push(i,r.length-1))}function Rr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ur(t,e,n,i,r,s,o,a){const c=At(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(ss(t,n,u,i,r),ut(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,Et(s)?s.setProperty(c,i,r):Oe(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Lr(t,e,n,i){let r=!1;if(Vt()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];or(n,o.selectors,!1)&&(r||(r=[]),Be(Me(n,e),t,o.type),ht(o)?(jr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Vr(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=Tr(t,e,s.length,null);for(let r=0;r<s.length;r++){const u=s[r];n.mergedAttrs=Ie(n.mergedAttrs,u.hostAttrs),Br(t,n,e,c,u),Fr(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!i&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,u=null===r||er(e)?null:zr(n,r);s.push(u),o=Rr(n,c,o),a=Rr(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ft("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),r}function Nr(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Mr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function jr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ht(e)&&(n[""]=t)}}function Vr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Br(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=dt(r.type)),o=new Ce(s,ht(r),null);t.blueprint[i]=o,n[i]=o,Nr(t,e,0,i,Tr(t,n,r.hostVars,lr),r)}function Hr(t,e,n){const i=At(e,t),r=Ar(n),s=t[10],o=$r(t,vr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function qr(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function zr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Gr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Yr(t,e){const n=Dt(e,t);if(Lt(n)){const t=n[1];80&n[2]?xr(t,n,t.template,n[8]):n[5]>0&&Wr(n)}}function Wr(t){for(let n=ki(t);null!==n;n=Oi(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];xr(t,e,t.template,e[8])}else e[5]>0&&Wr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Dt(e[n],t);Lt(i)&&i[5]>0&&Wr(i)}}function Kr(t,e){const n=Dt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Sr(i,n,n[8])}function $r(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xr(t){for(;t;){t[2]|=64;const e=Ei(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Jr(t,e,n){const i=e[10];i.begin&&i.begin();try{xr(t,e,t.template,n)}catch(r){throw rs(e,r),r}finally{i.end&&i.end()}}function Qr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Rt(n),r=i[1];Cr(r,i,r.template,n)}}(t[8])}function Zr(t,e,n){re(0),e(t,n)}const ts=(()=>Promise.resolve(null))();function es(t){return t[7]||(t[7]=[])}function ns(t){return t.cleanup||(t.cleanup=[])}function is(t,e,n){return(null===t||ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function rs(t,e){const n=t[9],i=n?n.get(vi,null):null;i&&i.handleError(e)}function ss(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,r,i,a):c[a]=r}}function os(t,e,n){const i=It(e,t);!function(t,e,n){Et(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function as(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const cs=new sn("INJECTOR",-1);class us{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new sn("Set Injector scope."),hs={},ds={},fs=[];let ps;function ms(){return void 0===ps&&(ps=new us),ps}function gs(t,e=null,n=null,i){return new bs(t,n,e||ms(),i)}class bs{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&un(e,n=>this.processProvider(n,t,e)),un([t],t=>this.processInjectorType(t,[],r)),this.records.set(cs,vs(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=C.Default){this.assertNotDestroyed();const i=wn(this);try{if(!(n&C.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof sn)&&_(t);e=n&&this.injectableDefInScope(n)?vs(_s(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&C.Self?ms():this.parent).get(t,e=n&C.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[_n]&&r.unshift(e[_n]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=l(e);if(Array.isArray(e))r=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):l(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(bn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let i=v(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=v(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{un(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];un(i,t=>this.processProvider(t,n,i||fs))}}this.injectorDefTypes.add(s),this.records.set(s,vs(i.factory,hs));const a=i.providers;if(null!=a&&!o){const e=t;un(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=Ts(t=p(t))?t:p(t&&t.provide);const r=function(t,e,n){return ws(t)?vs(void 0,t.useValue):vs(ys(t),hs)}(t);if(Ts(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=vs(void 0,hs,!0),e.factory=()=>Cn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===hs&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function _s(t){const e=_(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const i=v(t);if(null!==i)return i.factory;if(t instanceof sn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ys(t,e,n){let i;if(Ts(t)){const e=p(t);return dt(e)||_s(e)}if(ws(t))i=()=>p(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Sn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||_s(e);i=()=>new e(...Cn(t.deps))}var r;return i}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&yn in t}function Ts(t){return"function"==typeof t}const Ss=function(t,e,n){return function(t,e=null,n=null,i){const r=gs(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let xs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ss(t,e,""):Ss(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new us,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>Sn(cs)}),t.__NG_ELEMENT_ID__=-1,t})();function Cs(t,e){_e(Rt(t)[1],zt())}function Es(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(ht(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=ks(t.inputs),e.declaredInputs=ks(t.declaredInputs),e.outputs=ks(t.outputs);const n=r.hostBindings;n&&As(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Os(t,s),o&&Is(t,o),u(t.inputs,r.inputs),u(t.declaredInputs,r.declaredInputs),u(t.outputs,r.outputs),ht(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Es&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ie(r.hostAttrs,n=Ie(n,r.hostAttrs))}}(i)}function ks(t){return t===M?{}:t===j?[]:t}function Os(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function As(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Ps=null;function Ds(){if(!Ps){const t=N.Symbol;if(t&&t.iterator)Ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ps=n)}}}return Ps}function Rs(t){return!!Us(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Us(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ls(t,e,n){return t[e]=n}function Ns(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,i){const r=Bt();return Ns(r,Qt(),e)&&(Ht(),function(t,e,n,i,r,s){const o=At(t,e);!function(t,e,n,i,r,s,o){if(null==s)Et(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?pt(s):o(s,i||"",r);Et(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(me(),r,t,e,n,i)),Ms}function js(t,e,n,i){return Ns(t,Qt(),n)?e+pt(n)+i:lr}function Fs(t,e,n,i,r,s,o,a){const c=Bt(),u=Ht(),l=t+rt,h=u.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const u=e.consts,l=wr(e,t,4,o||null,Nt(u,a));Lr(e,n,l,Nt(u,c)),_e(e,l);const h=l.tViews=Pr(2,l,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,i,r,s,o):u.data[l];Yt(h,!1);const d=c[11].createComment("");qi(u,c,d,h),wi(d,c),$r(c,c[l]=Gr(d,c,d,h)),lt(h)&&Or(u,c,h),null!=o&&Ir(c,h,a)}function Vs(t){return function(t,e){return t[e]}(Ft.lFrame.contextLView,rt+t)}function Bs(t,e=C.Default){const n=Bt();return null===n?Sn(t,e):ze(zt(),n,p(t),e)}function Hs(t,e,n){const i=Bt();return Ns(i,Qt(),e)&&Ur(Ht(),me(),i,t,e,i[11],n,!1),Hs}function qs(t,e,n,i,r){const s=r?"class":"style";ss(t,n,e.inputs[s],s,i)}function zs(t,e,n,i){const r=Bt(),s=Ht(),o=rt+t,a=r[11],c=r[o]=Pi(a,e,Ft.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=wr(e,t,2,r,Nt(a,s));return Lr(e,n,c,Nt(a,o)),null!==c.attrs&&as(c,c.attrs,!1),null!==c.mergedAttrs&&as(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,n,i):s.data[o];Yt(u,!0);const l=u.mergedAttrs;null!==l&&Ee(a,c,l);const h=u.classes;null!==h&&Ji(a,c,h);const d=u.styles;null!==d&&Xi(a,c,d),64!=(64&u.flags)&&qi(s,r,c,u),0===Ft.lFrame.elementDepthCount&&wi(c,r),Ft.lFrame.elementDepthCount++,lt(u)&&(Or(s,r,u),kr(s,u,r)),null!==i&&Ir(r,u)}function Gs(){let t=zt();Wt()?Kt():(t=t.parent,Yt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(_e(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qs(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qs(n,e,Bt(),e.stylesWithoutHost,!1)}function Ys(t,e,n,i){zs(t,e,n,i),Gs()}function Ws(t,e,n){const i=Bt(),r=Ht(),s=t+rt,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Nt(s,i),a=wr(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Lr(e,n,a,Nt(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Yt(o,!0);const a=i[s]=i[11].createComment("");qi(r,i,a,o),wi(a,i),lt(o)&&(Or(r,i,o),kr(r,o,i)),null!=n&&Ir(i,o)}function Ks(){let t=zt();const e=Ht();Wt()?Kt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(_e(e,t),ct(t)&&e.queries.elementEnd(t))}function $s(t,e,n){Ws(t,e,n),Ks()}function Xs(){return Bt()}function Js(t){return!!t&&"function"==typeof t.then}function Qs(t){return!!t&&"function"==typeof t.subscribe}const Zs=Qs;function to(t,e,n=!1,i){const r=Bt(),s=Ht(),o=zt();return no(s,r,r[11],o,t,e,n,i),to}function eo(t,e,n=!1,i){const r=zt(),s=Bt(),o=Ht();return no(o,s,is(ne(o.data),r,s),r,t,e,n,i),eo}function no(t,e,n,i,r,s,o=!1,a){const c=lt(i),u=t.firstCreatePass&&ns(t),l=es(e);let h=!0;if(3&i.type){const d=At(i,e),f=a?a(d):M,p=f.target||d,m=l.length,g=a?t=>a(Ot(t[i.index])).target:i.index;if(Et(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(i,e,s,!1);const t=n.listen(f.name||p,r,s);l.push(s,t),u&&u.push(r,g,m,m+1)}}else s=ro(i,e,s,!0),p.addEventListener(r,s,o),l.push(s),u&&u.push(r,g,m,o)}else s=ro(i,e,s,!1);const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(r,i.index,o,-(o+1))}}}function io(t,e,n){try{return!1!==e(n)}catch(i){return rs(t,i),!1}}function ro(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&Xr(o);let a=io(e,n,s),c=r.__ngNextListenerFn__;for(;c;)a=io(e,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function oo(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?or(t,s,!0):ar(i,s))return r}else n=r}return n}function ao(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?oo(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function co(t,e=0,n){const i=Bt(),r=Ht(),s=wr(r,rt+t,16,null,n||null);null===s.projection&&(s.projection=e),Kt(),64!=(64&s.flags)&&function(t,e,n){$i(e[11],0,e,n,Ni(t,n,e),Bi(n.parent||e[6],n,e))}(r,i,s)}const uo=[];function lo(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?pr(s):gr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];ho(t[a],e)&&(c=!0,t[a+1]=i?_r(n):mr(n)),a=i?pr(n):gr(n)}c&&(t[n+1]=i?mr(s):_r(s))}function ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function po(t){return t.substring(fo.key,fo.keyEnd)}function mo(t,e){const n=fo.textEnd;return n===e?-1:(e=fo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,fo.key=e,n),go(t,e,n))}function go(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bo(t,e,n){return vo(t,e,n,!1),bo}function _o(t,e){return vo(t,e,null,!0),_o}function yo(t,e){for(let n=function(t){return function(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),mo(t,go(t,0,fo.textEnd))}(e);n>=0;n=mo(e,n))fn(t,po(e),!0)}function vo(t,e,n,i){const r=Bt(),s=Ht(),o=Zt(2);s.firstUpdatePass&&To(s,t,o,i),e!==lr&&Ns(r,o,e)&&Co(s,s.data[fe()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(jn(t)))),t}(e,n),i,o)}function wo(t,e){return e>=t.expandoStartIndex}function To(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[fe()],o=wo(t,n);Oo(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=ne(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=xo(n=So(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=So(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==gr(i))return t[pr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=So(null,t,e,n[1],i),n=xo(n,e.attrs,i),function(t,e,n,i){t[pr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=xo(i,t[s].hostAttrs,n);return xo(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=pr(o),c=gr(o);t[i]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||mn(t,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){const e=pr(t[a+1]);t[i+1]=fr(e,a),0!==e&&(t[e+1]=br(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=fr(a,0),0!==a&&(t[a+1]=br(t[a+1],i)),a=i;else t[i+1]=fr(c,0),0===a?a=i:t[c+1]=br(t[c+1],i),c=i;l&&(t[i+1]=mr(t[i+1])),lo(t,u,i,!0),lo(t,u,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[i+1]=_r(n[i+1]))}(e,u,t,i,s),o=fr(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function So(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=xo(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function xo(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Co(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];ko(1==(1&u)?Eo(c,e,n,r,gr(u),o):void 0)||(ko(s)||2==(2&u)&&(s=Eo(c,null,n,r,a,o)),function(t,e,n,i,r){const s=Et(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:xi.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=xi.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,It(fe(),n),r,s))}function Eo(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[r+1];l===lr&&(l=u?uo:void 0);let h=u?pn(l,i):c===i?l:void 0;if(s&&!ko(h)&&(h=pn(e,i)),ko(h)&&(a=h,o))return a;const d=t[r+1];r=o?pr(d):gr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,i))}return a}function ko(t){return void 0!==t}function Oo(t,e){return 0!=(t.flags&(e?16:32))}function Io(t,e=""){const n=Bt(),i=Ht(),r=t+rt,s=i.firstCreatePass?wr(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return Et(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qi(i,n,o,s),Yt(s,!1)}function Ao(t){return Po("",t,""),Ao}function Po(t,e,n){const i=Bt(),r=js(i,t,e,n);return r!==lr&&os(i,fe(),r),Po}function Do(t,e,n,i,r){const s=Bt(),o=function(t,e,n,i,r,s){const o=function(t,e,n,i){const r=Ns(t,e,n);return Ns(t,e+1,i)||r}(t,Ft.lFrame.bindingIndex,n,r);return Zt(2),o?e+pt(n)+i+pt(r)+s:lr}(s,t,e,n,i,r);return o!==lr&&os(s,fe(),o),Do}function Ro(t,e,n){!function(t,e,n,i){const r=Ht(),s=Zt(2);r.firstUpdatePass&&To(r,null,s,i);const o=Bt();if(n!==lr&&Ns(o,s,n)){const a=r.data[fe()];if(Oo(a,i)&&!wo(r,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),qs(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===lr&&(r=uo);let c=0,u=0,l=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<r.length?r[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let f,p=null;l===h?(c+=2,u+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,f=d),null!==p&&Co(t,e,n,i,p,f,true,a),l=c<r.length?r[c]:null,h=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return uo;const i=[],r=jn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(fn,yo,js(Bt(),t,e,n),!0)}function Uo(t,e,n){const i=Bt();return Ns(i,Qt(),e)&&Ur(Ht(),me(),i,t,e,i[11],n,!0),Uo}function Lo(t,e,n){const i=Bt();if(Ns(i,Qt(),e)){const r=Ht(),s=me();Ur(r,s,i,t,e,is(ne(r.data),s,i),n,!0)}return Lo}const No=void 0;var Mo=["en",[["a","p"],["AM","PM"],No],[["AM","PM"],No,No],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],No,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],No,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",No,"{1} 'at' {0}",No],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let jo={};function Fo(t,e,n){"string"!=typeof e&&(n=e,e=t[zo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),jo[e]=t,n&&(jo[e][zo.ExtraData]=n)}function Vo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=qo(e);if(n)return n;const i=e.split("-")[0];if(n=qo(i),n)return n;if("en"===i)return Mo;throw new Error(`Missing locale data for the locale "${t}".`)}function Bo(t){return Vo(t)[zo.CurrencyCode]||null}function Ho(t){return Vo(t)[zo.PluralCase]}function qo(t){return t in jo||(jo[t]=N.ng&&N.ng.common&&N.ng.common.locales&&N.ng.common.locales[t]),jo[t]}var zo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Go="en-US";let Yo=Go;function Wo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yo=t.toLowerCase().replace(/_/g,"-"))}function Ko(t,e,n,i,r){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ko(t[s],e,n,i,r);else{const s=Ht(),o=Bt();let a=Ts(t)?t:p(t.provide),c=ys(t);const u=zt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Ts(t)||!t.multi){const i=new Ce(c,r,Bs),f=Jo(a,e,r?l:l+d,h);-1===f?(Be(Me(u,o),s,a),$o(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),o.push(i)):(n[f]=i,o[f]=i)}else{const f=Jo(a,e,l+d,h),p=Jo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(r&&!g||!r&&!m){Be(Me(u,o),s,a);const l=function(t,e,n,i,r){const s=new Ce(t,n,Bs);return s.multi=[],s.index=e,s.componentProviders=0,Xo(s,r,i&&!n),s}(r?Zo:Qo,n.length,r,i,c);!r&&g&&(n[p].providerFactory=l),$o(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else $o(s,t,f>-1?f:p,Xo(n[r?p:f],c,!r&&i));!r&&i&&g&&n[p].componentProviders++}}}function $o(t,e,n,i){const r=Ts(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Xo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jo(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Qo(t,e,n,i){return ta(this.multi,[])}function Zo(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),ta(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ta(r,s);return s}function ta(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ea(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ht();if(i.firstCreatePass){const r=ht(t);Ko(n,i.data,i.blueprint,r,!0),Ko(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class na{}class ia{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ra=(()=>{class t{}return t.NULL=new ia,t})();function sa(...t){}function oa(t,e){return new ca(At(t,e))}const aa=function(){return oa(zt(),Bt())};let ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=aa,t})();function ua(t){return t instanceof ca?t.nativeElement:t}class la{}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>da(),t})();const da=function(){const t=Bt(),e=Dt(zt().index,t);return function(t){return t[11]}(ot(e)?e:t)};let fa=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ma=new pa("11.2.1");class ga{constructor(){}supports(t){return Rs(t)}create(t){return new _a(t)}}const ba=(t,e)=>e;class _a{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ba}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ta(n,i,r)?e:n,o=Ta(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new ya(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ya{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class va{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new va,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ta(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Sa{constructor(){}supports(t){return t instanceof Map||Us(t)}create(){return new xa}}class xa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Us(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Ca(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ca{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ea(){return new ka([new ga])}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ea()),deps:[[t,new In,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:Ea}),t})();function Oa(){return new Ia([new Sa])}let Ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Oa()),deps:[[t,new In,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:Oa}),t})();function Aa(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Ot(s)),at(s))for(let t=st;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Aa(e[1],e,n,i)}const o=n.type;if(8&o)Aa(t,e,n.child,i);else if(32&o){const t=Ci(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=Gi(e,n);if(Array.isArray(t))i.push(...t);else{const n=Ei(e[16]);Aa(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class Pa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Aa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ri(t,n),hn(e,n))}this._attachedToViewContainer=!1}Ui(this._lView[1],this._lView)}onDestroy(t){Dr(this._lView[1],this._lView,null,t)}markForCheck(){Xr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{Jr(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Da extends Pa{constructor(t){super(t),this._view=t}detectChanges(){Qr(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Qr(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Ra=La;let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t.__ChangeDetectorRef__=!0,t})();function La(t=!1){return function(t,e,n){if(!n&&ut(t)){const n=Dt(t.index,e);return new Pa(n,n)}return 47&t.type?new Pa(e[16],e):null}(zt(),Bt(),t)}const Na=[new Sa],Ma=new ka([new ga]),ja=new Ia(Na),Fa=function(){return qa(zt(),Bt())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fa,t})();const Ba=Va,Ha=class extends Ba{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Sr(e,n,t),new Pa(n)}};function qa(t,e){return 4&t.type?new Ha(e,t,oa(t,e)):null}class za{}class Ga{}const Ya=function(){return Qa(zt(),Bt())};let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ya,t})();const Ka=Wa,$a=class extends Ka{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Pe(t)){const e=Re(t,this._hostLView),n=De(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(za,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new $a(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=st+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-st?(e[4]=n[r],ln(n,st+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Yi(r,s),a=n[11],c=Vi(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Ki(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(),ln(Ja(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);n&&(hn(Ja(this._lContainer),e),Ui(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);return n&&null!=hn(Ja(this._lContainer),e)?new Pa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Xa(t){return t[8]}function Ja(t){return t[8]||(t[8]=[])}function Qa(t,e){let n;const i=e[t.index];if(at(i))n=i;else{let r;if(8&t.type)r=Ot(i);else{const n=e[11];r=n.createComment("");const i=At(t,e);Mi(n,Vi(n,i),r,function(t,e){return Et(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Gr(i,e,r,t),$r(e,n)}return new $a(n,t,e)}const Za={};class tc extends ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new ic(e,this.ngModule)}}function ec(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const nc=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ti});class ic extends na{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ur).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ec(this.componentDef.inputs)}get outputs(){return ec(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Za,r);return s!==Za||i===Za?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(la,kt),o=r.get(fa,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Et(t))return t.selectRootElement(e,n===P.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Pi(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?St:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ti,clean:ts,playerHandler:null,flags:0},d=Pr(0,null,null,1,0,null,null,null,null,null),f=vr(null,d,h,l,null,null,s,a,o,r);let p,m;ae(f);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=wr(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(as(a,c,!0),null!==t&&(Ee(r,t,c),null!==a.classes&&Ji(r,t,a.classes),null!==a.styles&&Xi(r,t,a.styles)));const u=i.createRenderer(t,e),l=vr(n,Ar(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return o.firstCreatePass&&(Be(Me(a,n),o,e.type),jr(o,a),Vr(a,n.length,1)),$r(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)Ee(a,u,["ng-version",ma.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!rr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,u,t),e&&e.length>0&&Ji(a,u,e.join(" "))}if(m=Pt(d,rt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Br(t,i,e,Tr(t,e,1,null),n));const r=$e(e,t,i.directiveStart,i);wi(r,e);const s=At(i,e);return s&&wi(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Nr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Mr(e,o)),o}(t,this.componentDef,f,h,[Cs]),Sr(d,f,null)}finally{de()}return new rc(this.componentType,p,oa(m,f),f,m)}}class rc extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Da(i),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sc=new Map;class oc extends za{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tc(this);const n=it(t),i=t[q]||null;i&&Wo(i),this._bootstrapComponents=Si(n.bootstrap),this._r3Injector=gs(t,e,[{provide:za,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xs.THROW_IF_NOT_FOUND,n=C.Default){return t===xs||t===za||t===cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ac extends Ga{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const i=it(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(r,sc.get(r),n),sc.set(r,n));const s=Si(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new oc(this.moduleType,t)}}function cc(t,e,n){const i=Jt()+t,r=Bt();return r[i]===lr?Ls(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function uc(t,e,n,i){return function(t,e,n,i,r,s){const o=e+n;return Ns(t,o,r)?Ls(t,o+1,s?i.call(s,r):i(r)):function(t,e){const n=t[e];return n===lr?void 0:n}(t,o+1)}(Bt(),Jt(),t,e,n,i)}const lc=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,s=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return t instanceof r.a&&t.add(a),a}};function hc(){return this._results[Ds()]()}class dc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ds(),n=dc.prototype;n[e]||(n[e]=hc)}get changes(){return this._changes||(this._changes=new lc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class fc{constructor(t){this.queryList=t,this.matches=null}clone(){return new fc(this.queryList)}setDirty(){this.queryList.setDirty()}}class pc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new pc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Oc(t,e).matches&&this.queries[e].setDirty()}}class mc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class gc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new gc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new bc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,_c(e,r)),this.matchTNodeWithReadOption(t,e,Ke(e,t,r,!1,!1))}else n===Va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ca||i===Wa||i===Va&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _c(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function yc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?oa(t,e):4&t.type?qa(t,e):null}(e,t):-2===n?function(t,e,n){return n===ca?oa(e,t):n===Va?qa(e,t):n===Wa?Qa(e,t):void 0}(t,e,i):$e(t,t[1],n,e)}function vc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:yc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function wc(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=vc(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=st;t<o.length;t++){const e=o[t];e[17]===e[3]&&wc(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];wc(n[1],n,r,i)}}}}}return i}function Tc(t){const e=Bt(),n=Ht(),i=ie();re(i+1);const r=Oc(n,i);if(t.dirty&&Ut(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?wc(n,e,i,[]):vc(n,e,r,i);t.reset(s,ua),t.notifyOnChanges()}return!0}return!1}function Sc(t,e,n){const i=Ht();i.firstCreatePass&&(kc(i,new mc(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Ec(i,Bt(),e)}function xc(t,e,n,i){const r=Ht();if(r.firstCreatePass){const s=zt();kc(r,new mc(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Ec(r,Bt(),n)}function Cc(){return t=Bt(),e=ie(),t[19].queries[e].queryList;var t,e}function Ec(t,e,n){const i=new dc(4==(4&n));Dr(t,e,i,i.destroy),null===e[19]&&(e[19]=new pc),e[19].queries.push(new fc(i))}function kc(t,e,n){null===t.queries&&(t.queries=new gc),t.queries.track(new bc(e,n))}function Oc(t,e){return t.queries.getByIndex(e)}function Ic(t=C.Default){const e=La(!0);if(null!=e||t&C.Optional)return e;gt("ChangeDetectorRef")}const Ac=new sn("Application Initializer");let Pc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=sa,this.reject=sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ac,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Dc=new sn("AppId"),Rc={provide:Dc,useFactory:function(){return`${Uc()}${Uc()}${Uc()}`},deps:[]};function Uc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lc=new sn("Platform Initializer"),Nc=new sn("Platform ID"),Mc=new sn("appBootstrapListener");let jc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Fc=new sn("LocaleId"),Vc=new sn("DefaultCurrencyCode");class Bc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Hc=function(t){return new ac(t)},qc=Hc,zc=function(t){return Promise.resolve(Hc(t))},Gc=function(t){const e=Hc(t),n=Si(it(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new ic(n)),t},[]);return new Bc(e,n)},Yc=Gc,Wc=function(t){return Promise.resolve(Gc(t))};let Kc=(()=>{class t{constructor(){this.compileModuleSync=qc,this.compileModuleAsync=zc,this.compileModuleAndAllComponentsSync=Yc,this.compileModuleAndAllComponentsAsync=Wc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const $c=(()=>Promise.resolve(0))();function Xc(t){"undefined"==typeof Zone?$c.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Jc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lc(!1),this.onMicrotaskEmpty=new lc(!1),this.onStable=new lc(!1),this.onError=new lc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=N.requestAnimationFrame,e=N.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(N,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tu(t),Zc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return eu(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nu(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return eu(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),nu(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,tu(t),Zc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Qc,sa,sa);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Qc={};function Zc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function eu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nu(t){t._nesting--,Zc(t)}class iu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lc,this.onMicrotaskEmpty=new lc,this.onStable=new lc,this.onError=new lc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let ru=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jc.assertNotInAngularZone(),Xc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(Jc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),su=(()=>{class t{constructor(){this._applications=new Map,uu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return uu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function au(t){uu=t}let cu,uu=new ou,lu=!0,hu=!1;function du(){return hu=!0,lu}function fu(){if(hu)throw new Error("Cannot enable prod mode after platform setup.");lu=!1}const pu=new sn("AllowMultipleToken");class mu{constructor(t,e){this.name=t,this.token=e}}function gu(t,e,n=[]){const i=`Platform: ${e}`,r=new sn(i);return(e=[])=>{let s=bu();if(!s||s.injector.get(pu,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(cu&&!cu.destroyed&&!cu.injector.get(pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cu=t.get(_u);const e=t.get(Lc,null);e&&e.forEach(t=>t())}(xs.create({providers:t,name:i}))}return function(t){const e=bu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function bu(){return cu&&!cu.destroyed?cu:null}let _u=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new iu:("zone.js"===t?void 0:t)||new Jc({enableLongStackTrace:du(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Jc,useValue:n}];return n.run(()=>{const e=xs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(vi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{wu(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Js(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Pc);return t.runInitializers(),t.donePromise.then(()=>(Wo(r.injector.get(Fc,Go)||Go),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=yu({},e);return function(t,e,n){const i=new ac(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(xs))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function yu(t,e){return Array.isArray(e)?e.reduce(yu,t):Object.assign(Object.assign({},t),e)}let vu=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Jc.assertNotInAngularZone(),Xc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Jc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof na?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(za),r=n.create(xs.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(ru,null),a=o&&r.injector.get(su);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),wu(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),du()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(Jc),Sn(jc),Sn(xs),Sn(vi),Sn(ra),Sn(Pc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function wu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Tu{}class Su{}const xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Eu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Eu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Sn(Kc),Sn(Su,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function Eu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ku extends Ua{}class Ou extends ku{}const Iu=function(t){return null},Au=gu(null,"core",[{provide:Nc,useValue:"unknown"},{provide:_u,deps:[xs]},{provide:su,deps:[]},{provide:jc,deps:[]}]),Pu=[{provide:vu,useClass:vu,deps:[Jc,jc,xs,vi,ra,Pc]},{provide:nc,deps:[Jc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pc,useClass:Pc,deps:[[new On,Ac]]},{provide:Kc,useClass:Kc,deps:[]},Rc,{provide:ka,useFactory:function(){return Ma},deps:[]},{provide:Ia,useFactory:function(){return ja},deps:[]},{provide:Fc,useFactory:function(t){return Wo(t=t||"undefined"!=typeof $localize&&$localize.locale||Go),t},deps:[[new kn(Fc),new On,new In]]},{provide:Vc,useValue:"USD"}];let Du=(()=>{class t{constructor(t){}}return t.\u0275mod=J({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(Sn(vu))},providers:Pu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var i=n("30Go");function r(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,i,r){var s=t.call(this,i)||this;return s.code=n,s.customData=r,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(i.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?_(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",c=new g(r,a,i);return c},t}();function _(t,e){return t.replace(y,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(i.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return E}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return T});var i=n("qgXg"),r=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},_=new c.s("angularfire2.app.options"),y=new c.s("angularfire2.app.nameOrConfig"),v=new c.R("6.1.4");function w(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const T=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,i,r,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[_,c.B,[new c.C,y]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",v.full,t.toString()),u.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:_,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.Yb(c.D))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),s=n("Y7HM");class o extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q");function r(){}var s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("EQ5u"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(r.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.b);return r.source=t,r.subjectFactory=n,r})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var i,r,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var i,r,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return c},"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){i={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=f[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),i[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL");let r=null;function s(){return r}const o=new i.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(i.Yb)(l)}const u=new i.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(i.Yb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(i.Yb)(o).location;return new y(Object(i.Yb)(a),e&&e.origin||"")}const _=new i.s("appBaseHref");let y=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(a),i.Yb(_,8))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(a),i.Yb(_,8))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new i.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(g),i.Yb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(i.Kb)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new w(Object(i.Yb)(g),Object(i.Yb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=i.pb;class E{}let k=(()=>{class t extends E{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.w))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.u),i.Ob(i.v),i.Ob(i.l),i.Ob(i.G))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class I{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new P(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new P(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.N),i.Ob(i.u))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){U("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){U("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.N))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function U(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.yb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let N=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),M=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.N),i.Ob(N,1))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),j=(()=>{class t{constructor(t,e,n){n._addDefault(new L(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.N),i.Ob(N,1))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),F=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[{provide:E,useClass:k}]}),t})();function V(t){return"server"===t}let B=(()=>{class t{}return t.\u0275prov=Object(i.Kb)({token:t,providedIn:"root",factory:()=>new H(Object(i.Yb)(o),window)}),t})();class H{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new z,r||(r=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Y||(Y=document.querySelector("base"),Y)?Y.getAttribute("href"):null;return null==e?null:(n=e,G||(G=document.createElement("a")),G.setAttribute("href",n),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname);var n}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let G,Y=null;const W=new i.s("TRANSITION_ID"),K=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,o,i.t],multi:!0}];class ${static init(){Object(i.ab)(new $)}addToWindow(t){i.rb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.rb.getAllAngularRootElements=()=>t.getAllRootElements(),i.rb.frameworkStabilizers||(i.rb.frameworkStabilizers=[]),i.rb.frameworkStabilizers.push(t=>{const e=i.rb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new i.s("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(X),i.Yb(i.B))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=s().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function it(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?it(t,r,n):(r=r.replace(nt,t),n.push(r))}return n}function rt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.T.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(J),i.Yb(tt),i.Yb(i.c))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=et[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=et[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.I.DashCase|i.I.Important)?t.style.setProperty(e,n,r&i.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rt(n)):this.eventManager.addEventListener(t,e,rt(n))}}class at extends ot{constructor(t,e,n,i){super(t),this.component=n;const r=it(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(nt,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends ot{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=it(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(i=>{i!=n&&(0,ft[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return Object(i.Yb)(gt)},token:t,providedIn:"root"}),t})(),gt=(()=>{class t extends mt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.K.NONE:return e;case i.K.HTML:return Object(i.gb)(e,"HTML")?Object(i.zb)(e):Object(i.eb)(this._doc,String(e)).toString();case i.K.STYLE:return Object(i.gb)(e,"Style")?Object(i.zb)(e):e;case i.K.SCRIPT:if(Object(i.gb)(e,"Script"))return Object(i.zb)(e);throw new Error("unsafe value used in a script context");case i.K.URL:return Object(i.qb)(e),Object(i.gb)(e,"URL")?Object(i.zb)(e):Object(i.fb)(String(e));case i.K.RESOURCE_URL:if(Object(i.gb)(e,"ResourceURL"))return Object(i.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.hb)(t)}bypassSecurityTrustStyle(t){return Object(i.kb)(t)}bypassSecurityTrustScript(t){return Object(i.jb)(t)}bypassSecurityTrustUrl(t){return Object(i.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return t=Object(i.Yb)(i.p),new gt(t.get(o));var t},token:t,providedIn:"root"}),t})();const bt=[{provide:i.D,useValue:"browser"},{provide:i.E,useValue:function(){z.makeCurrent(),$.init()},multi:!0},{provide:o,useFactory:function(){return Object(i.xb)(document),document},deps:[]}],_t=Object(i.U)(i.Z,"browser",bt),yt=[[],{provide:i.cb,useValue:"root"},{provide:i.n,useFactory:function(){return new i.n},deps:[]},{provide:X,useClass:ut,multi:!0,deps:[o,i.B,i.D]},{provide:X,useClass:pt,multi:!0,deps:[o]},[],{provide:st,useClass:st,deps:[J,tt,i.c]},{provide:i.H,useExisting:st},{provide:Z,useExisting:tt},{provide:tt,useClass:tt,deps:[o]},{provide:i.O,useClass:i.O,deps:[i.B]},{provide:J,useClass:J,deps:[X,i.B]},[]];let vt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:W,useExisting:i.c},K]}}}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)(i.Yb(t,12))},providers:yt,imports:[F,i.f]}),t})();"undefined"!=typeof window&&window;var wt=n("Cfvw"),Tt=n("LRne"),St=n("XNiG"),xt=n("9ppp");class Ct extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt.a;return this._value}next(t){super.next(this._value=t)}}var Et=n("z+Ro"),kt=n("DH7j"),Ot=n("7o/Q");class It extends Ot.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class At extends Ot.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Pt=n("SeVD"),Dt=n("HDdC");function Rt(t,e,n,i,r=new At(t,n,i)){if(!r.closed)return e instanceof Dt.a?e.subscribe(r):Object(Pt.a)(e)(r)}var Ut=n("yCtX");const Lt={};function Nt(...t){let e,n;return Object(Et.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(kt.a)(t[0])&&(t=t[0]),Object(Ut.a)(t,n).lift(new Mt(e))}class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jt(t,this.resultSelector))}}class jt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Lt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Rt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===Lt?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ft=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Vt=n("bHdf");function Bt(...t){return Object(Vt.a)(1)(Object(Tt.a)(...t))}var Ht=n("EY2u");function qt(t){return new Dt.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(wt.a)(n):Object(Ht.b)()).subscribe(e)})}var zt=n("EQ5u"),Gt=n("lJxs"),Yt=n("zx2A");function Wt(t,e){return"function"==typeof e?n=>n.pipe(Wt((n,i)=>Object(wt.a)(t(n,i)).pipe(Object(Gt.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new Kt(t))}class Kt{constructor(t){this.project=t}call(t,e){return e.subscribe(new $t(t,this.project))}}class $t extends Yt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Yt.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(Yt.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Xt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Jt(t){return e=>0===t?Object(Ht.b)():e.lift(new Qt(t))}class Qt{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new Zt(t,this.total))}}class Zt extends Ot.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function te(...t){const e=t[t.length-1];return Object(Et.a)(e)?(t.pop(),n=>Bt(t,n,e)):e=>Bt(t,e)}function ee(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ne(t,e,n))}}class ne{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ie(t,this.accumulator,this.seed,this.hasSeed))}}class ie extends Ot.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function re(t,e){return function(n){return n.lift(new se(t,e))}}class se{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oe(t,this.predicate,this.thisArg))}}class oe extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ae(t){return function(e){const n=new ce(t),i=e.lift(n);return n.caught=i}}class ce{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ue(t,this.selector,this.caught))}}class ue extends Yt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new Yt.a(this);this.add(i);const r=Object(Yt.c)(n,i);r!==i&&this.add(r)}}}var le=n("5+tZ");function he(t,e){return Object(le.a)(t,e,1)}function de(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new fe(t))}}class fe{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new pe(t,this.total))}}class pe extends Ot.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function me(t=_e){return e=>e.lift(new ge(t))}class ge{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new be(t,this.errorFactory))}}class be extends Ot.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(OI){t=OI}this.destination.error(t)}}}function _e(){return new Ft}function ye(t=null){return e=>e.lift(new ve(t))}class ve{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new we(t,this.defaultValue))}}class we extends Ot.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Te=n("SpAZ");function Se(t,e){const n=arguments.length>=2;return i=>i.pipe(t?re((e,n)=>t(e,n,i)):Te.a,Jt(1),n?ye(e):me(()=>new Ft))}var xe=n("vkgz"),Ce=n("x+ZX"),Ee=n("quSY");function ke(t){return e=>e.lift(new Oe(t))}class Oe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends Ot.a{constructor(t,e){super(t),this.add(new Ee.a(e))}}class Ae{constructor(t,e){this.id=t,this.url=e}}class Pe extends Ae{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Ae{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends Ae{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ue extends Ae{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends Ae{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Ae{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ae{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Ae{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Ae{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const We="primary";class Ke{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $e(t){return new Ke(t)}function Xe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Je(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Qe(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Ze(t[r],e[r]))return!1;return!0}function Ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function tn(t){return Array.prototype.concat.apply([],t)}function en(t){return t.length>0?t[t.length-1]:null}function nn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rn(t){return Object(i.tb)(t)?t:Object(i.ub)(t)?Object(wt.a)(Promise.resolve(t)):Object(Tt.a)(t)}function sn(t,e,n){return n?function(t,e){return Qe(t,e)}(t.queryParams,e.queryParams)&&on(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ze(t[n],e[n]))}(t.queryParams,e.queryParams)&&an(t.root,e.root)}function on(t,e){if(!dn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n]))return!1}return!0}function an(t,e){return cn(t,e,e.segments)}function cn(t,e,n){if(t.segments.length>n.length)return!!dn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!dn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!an(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!dn(t.segments,i)&&!!t.children.primary&&cn(t.children.primary,e,r)}}class un{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class ln{constructor(t,e){this.segments=t,this.children=e,this.parent=null,nn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class hn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function dn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class fn{}class pn{parse(t){const e=new On(t);return new un(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`/${bn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yn(e)}=${yn(t)}`).join("&"):`${yn(e)}=${yn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const mn=new pn;function gn(t){return t.segments.map(t=>Sn(t)).join("/")}function bn(t,e){if(!t.hasChildren())return gn(t);if(e){const e=t.children.primary?bn(t.children.primary,!1):"",n=[];return nn(t.children,(t,e)=>{e!==We&&n.push(`${e}:${bn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return nn(t.children,(t,i)=>{i===We&&(n=n.concat(e(t,i)))}),nn(t.children,(t,i)=>{i!==We&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===We?[bn(t.children.primary,!1)]:[`${n}:${bn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${gn(t)}/${e[0]}`:`${gn(t)}/(${e.join("//")})`}}function _n(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yn(t){return _n(t).replace(/%3B/gi,";")}function vn(t){return _n(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(t){return decodeURIComponent(t)}function Tn(t){return wn(t.replace(/\+/g,"%20"))}function Sn(t){return`${vn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${vn(t)}=${vn(e[t])}`).join("")}`;var e}const xn=/^[^\/()?;=#]+/;function Cn(t){const e=t.match(xn);return e?e[0]:""}const En=/^[^=?&#]+/,kn=/^[^?&#]+/;class On{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ln(t,e)),n}parseSegment(){const t=Cn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new hn(wn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Cn(this.remaining);t&&(n=t,this.capture(n))}t[wn(e)]=wn(n)}parseQueryParam(t){const e=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(kn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Tn(e),r=Tn(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Cn(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=We);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new ln([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class In{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=An(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=An(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Pn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Pn(t,this._root).map(t=>t.value)}}function An(t,e){if(t===e.value)return e;for(const n of e.children){const e=An(t,n);if(e)return e}return null}function Pn(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Pn(t,n);if(i.length)return i.unshift(e),i}return[]}class Dn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Un extends In{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Ln(t,e){const n=function(t,e){const n=new jn([],{},{},"",{},We,e,null,t.root,-1,{});return new Fn("",new Dn(n,[]))}(t,e),i=new Ct([new hn("",{})]),r=new Ct({}),s=new Ct({}),o=new Ct({}),a=new Ct(""),c=new Nn(i,r,o,a,s,We,e,n.root);return c.snapshot=n.root,new Un(new Dn(c,[]),n)}class Nn{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)(t=>$e(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)(t=>$e(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class jn{constructor(t,e,n,i,r,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends In{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Bn(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Bn(t){const e=t.children.length>0?` { ${t.children.map(Bn).join(", ")} } `:"";return`${t.value}${e}`}function Hn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qe(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qe(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qe(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qe(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qn(t,e){return Qe(t.params,e.params)&&function(t,e){return dn(t,e)&&t.every((t,n)=>Qe(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||qn(t.parent,e.parent))}function zn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return zn(t,e,i);return zn(t,e)})}(t,e,n);return new Dn(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Gn(e,t),t}{const n=new Nn(new Ct((i=e.value).url),new Ct(i.params),new Ct(i.queryParams),new Ct(i.fragment),new Ct(i.data),i.outlet,i.component,i),r=e.children.map(e=>zn(t,e));return new Dn(n,r)}}var i}function Gn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Gn(t.children[n],e.children[n])}function Yn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wn(t){return"object"==typeof t&&null!=t&&t.outlets}function Kn(t,e,n,i,r){let s={};return i&&nn(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new un(n.root===t?e:$n(n.root,t,e),s,r)}function $n(t,e,n){const i={};return nn(t.children,(t,r)=>{i[r]=t===e?n:$n(t,e,n)}),new ln(t.segments,i)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Yn(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Wn);if(i&&i!==en(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qn(t,e,n){if(t||(t=new ln([],{})),0===t.segments.length&&t.hasChildren())return Zn(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(Wn(o))break;const a=`${o}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ii(a,c,e))return s;i+=2}else{if(!ii(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new ln(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new ln(t.segments.slice(i.pathIndex),t.children),Zn(e,0,r)}return i.match&&0===r.length?new ln(t.segments,{}):i.match&&!t.hasChildren()?ti(t,e,n):i.match?Zn(t,0,r):ti(t,e,n)}function Zn(t,e,n){if(0===n.length)return new ln(t.segments,{});{const i=function(t){return Wn(t[0])?t[0].outlets:{[We]:t}}(n),r={};return nn(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Qn(t.children[i],e,n))}),nn(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new ln(t.segments,r)}}function ti(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(Wn(s)){const t=ei(s.outlets);return new ln(i,t)}if(0===r&&Yn(n[0])){i.push(new hn(t.segments[e].path,ni(n[0]))),r++;continue}const o=Wn(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Yn(a)?(i.push(new hn(o,ni(a))),r+=2):(i.push(new hn(o,{})),r++)}return new ln(i,{})}function ei(t){const e={};return nn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ti(new ln([],{}),0,t))}),e}function ni(t){const e={};return nn(t,(t,n)=>e[n]=`${t}`),e}function ii(t,e,n){return t==n.path&&Qe(e,n.parameters)}class ri{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Rn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),nn(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Rn(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=Rn(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Ge(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qe(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Hn(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),si(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function si(t){Hn(t.value),t.children.forEach(si)}class oi{constructor(t,e){this.routes=t,this.module=e}}function ai(t){return"function"==typeof t}function ci(t){return t instanceof un}const ui=Symbol("INITIAL_VALUE");function li(){return Wt(t=>Nt(t.map(t=>t.pipe(Jt(1),te(ui)))).pipe(ee((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==ui)return t;if(i===ui&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||ci(i))return i}return t},t)},ui),re(t=>t!==ui),Object(Gt.a)(t=>ci(t)?t:!0===t),Jt(1)))}let hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Pb(0,"router-outlet")},directives:function(){return[rr]},encapsulation:2}),t})();function di(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];fi(i,pi(e,i))}}function fi(t,e){t.children&&di(t.children,e)}function pi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function mi(t){const e=t.children&&t.children.map(mi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==We&&(n.component=hi),n}function gi(t){return t.outlet||We}function bi(t,e){const n=t.filter(t=>gi(t)===e);return n.push(...t.filter(t=>gi(t)!==e)),n}const _i={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yi(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},_i):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Je)(n,t,e);if(!r)return Object.assign({},_i);const s={};nn(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function vi(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>wi(t,e,n)&&gi(n)!==We)}(t,n,i)){const r=new ln(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&gi(s)!==We){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[gi(s)]=n}return r}(t,e,i,new ln(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wi(t,e,n))}(t,n,i)){const s=new ln(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(wi(t,n,a)&&!r[gi(a)]){const n=new ln([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[gi(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new ln(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function wi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ti(t,e,n,i){return!!(gi(t)===i||i!==We&&wi(e,n,t))&&("**"===t.path||yi(e,t,n).matched)}function Si(t,e,n){return 0===e.length&&!t.children[n]}class xi{constructor(t){this.segmentGroup=t||null}}class Ci{constructor(t){this.urlTree=t}}function Ei(t){return new Dt.a(e=>e.error(new xi(t)))}function ki(t){return new Dt.a(e=>e.error(new Ci(t)))}function Oi(t){return new Dt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ii{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.z)}apply(){const t=vi(this.urlTree.root,[],[],this.config).segmentGroup,e=new ln(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,We).pipe(Object(Gt.a)(t=>this.createUrlTree(Ai(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ae(t=>{if(t instanceof Ci)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,We).pipe(Object(Gt.a)(e=>this.createUrlTree(Ai(e),t.queryParams,t.fragment))).pipe(ae(t=>{if(t instanceof xi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new ln([],{[We]:t}):t;return new un(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)(t=>new ln([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(wt.a)(i).pipe(he(i=>{const r=n.children[i],s=bi(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(Object(Gt.a)(t=>({segment:t,outlet:i})))}),ee((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?re((e,n)=>t(e,n,i)):Te.a,de(1),n?ye(e):me(()=>new Ft))}())}expandSegment(t,e,n,i,r,s){return Object(wt.a)(n).pipe(he(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(ae(t=>{if(t instanceof xi)return Object(Tt.a)(null);throw t}))),Se(t=>!!t),ae((t,n)=>{if(t instanceof Ft||"EmptyError"===t.name){if(Si(e,i,r))return Object(Tt.a)(new ln([],{}));throw new xi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Ti(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Ei(e):Ei(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ki(r):this.lineralizeSegments(n,r).pipe(Object(le.a)(n=>{const r=new ln(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=yi(e,i,r);if(!o)return Ei(e);const l=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?ki(l):this.lineralizeSegments(i,l).pipe(Object(le.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Tt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Gt.a)(t=>(n._loadedConfig=t,new ln(i,{})))):Object(Tt.a)(new ln(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=yi(e,n,i);if(!s)return Ei(e);const c=i.slice(a);return this.getChildConfig(t,n,i).pipe(Object(le.a)(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=vi(e,o,c,s),l=new ln(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(i,s,l).pipe(Object(Gt.a)(t=>new ln(o,t)));if(0===s.length&&0===u.length)return Object(Tt.a)(new ln(o,{}));const h=gi(n)===r;return this.expandSegment(i,l,s,u,h?We:r,!0).pipe(Object(Gt.a)(t=>new ln(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Tt.a)(new oi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(le.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.a(e=>e.error(Xe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Tt.a)(new oi([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(Tt.a)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&ai(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!ai(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return rn(s)});return Object(Tt.a)(r).pipe(li(),Object(xe.a)(t=>{if(!ci(t))return;const e=Xe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(Tt.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Oi(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new un(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return nn(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return nn(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new ln(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ai(t){const e={};for(const n of Object.keys(t.children)){const i=Ai(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ln(t.segments.concat(e.segments),e.children)}return t}(new ln(t.segments,e))}class Pi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Di{constructor(t,e){this.component=t,this.route=e}}function Ri(t,e,n){const i=t._root;return Li(i,e?e._root:null,n,[i.value])}function Ui(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Li(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rn(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!dn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!dn(t.url,e.url)||!Qe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(t,e)||!Qe(t.queryParams,e.queryParams);case"paramsChange":default:return!qn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Pi(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Li(t,e,s.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Di(a.outlet.component,o))}else o&&Ni(e,a,r),r.canActivateChecks.push(new Pi(i)),Li(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),nn(s,(t,e)=>Ni(t,n.getContext(e),r)),r}function Ni(t,e,n){const i=Rn(t),r=t.value;nn(i,(t,i)=>{Ni(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Di(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Mi{}function ji(t){return new Dt.a(e=>e.error(t))}class Fi{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=vi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,We);if(null===e)return null;const n=new jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},We,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Dn(n,e),r=new Fn(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Mn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=bi(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=function(t){const e=[];for(const n of t){if(!Vi(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===We?-1:e.value.outlet===We?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Si(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Ti(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?en(n).parameters:{};r=new jn(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qi(t),gi(t),t.component,t,Bi(e),Hi(e)+n.length,zi(t))}else{const i=yi(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new jn(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qi(t),gi(t),t.component,t,Bi(e),Hi(e)+s.length,zi(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=vi(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Dn(r,t)]}if(0===a.length&&0===u.length)return[new Dn(r,[])];const l=gi(t)===i,h=this.processSegment(a,c,u,l?We:i);return null===h?null:[new Dn(r,h)]}}function Vi(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Bi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qi(t){return t.data||{}}function zi(t){return t.resolve||{}}function Gi(t){return Wt(e=>{const n=t(e);return n?Object(wt.a)(n).pipe(Object(Gt.a)(()=>e)):Object(Tt.a)(e)})}class Yi extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wi=new i.s("ROUTES");class Ki{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new oi(tn(r.injector.get(Wi,void 0,i.r.Self|i.r.Optional)).map(mi),r)}),ae(t=>{throw e._loader$=void 0,t}));return e._loader$=new zt.a(n,()=>new St.a).pipe(Object(Ce.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(wt.a)(this.loader.load(t)):rn(t()).pipe(Object(le.a)(t=>t instanceof i.x?Object(Tt.a)(t):Object(wt.a)(this.compiler.compileModuleAsync(t))))}}class $i{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xi,this.attachRef=null}}class Xi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $i,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ji{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qi(t){throw t}function Zi(t,e,n){return e.parse("/")}function tr(t,e){return Object(Tt.a)(null)}let er=(()=>{class t{constructor(t,e,n,r,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Qi,this.malformedUriErrorHandler=Zi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tr,afterPreactivation:tr},this.urlHandlingStrategy=new Ji,this.routeReuseStrategy=new Yi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.z),this.console=s.get(i.bb);const u=s.get(i.B);this.isNgZoneEnabled=u instanceof i.B&&i.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new un(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ki(o,a,t=>this.triggerEvent(new Ve(t)),t=>this.triggerEvent(new Be(t))),this.routerState=Ln(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(re(t=>0!==t.id),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Wt(t=>{let n=!1,i=!1;return Object(Tt.a)(t).pipe(Object(xe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Tt.a)(t).pipe(Wt(t=>{const n=this.transitions.getValue();return e.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ht.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,Wt(t=>function(t,e,n,i,r){return new Ii(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(Object(Gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(xe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(le.a)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new Fi(t,e,n,i,r,s).recognize();return null===o?ji(new Mi):Object(Tt.a)(o)}catch(OI){return ji(OI)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(Gt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(xe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Pe(n,this.serializeUrl(i),r,s);e.next(a);const c=Ln(i,this.rootComponentType).snapshot;return Object(Tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ht.a}),Gi(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(xe.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{guards:Ri(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(le.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(wt.a)(t).pipe(Object(le.a)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Tt.a)(!0);const o=s.map(s=>{const o=Ui(s,e,r);let a;if(function(t){return t&&ai(t.canDeactivate)}(o))a=rn(o.canDeactivate(t,e,n,i));else{if(!ai(o))throw new Error("Invalid CanDeactivate guard");a=rn(o(t,e,n,i))}return a.pipe(Se())});return Object(Tt.a)(o).pipe(li())}(t.component,t.route,n,e,i)),Se(t=>!0!==t,!0))}(o,i,r,t).pipe(Object(le.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(wt.a)(e).pipe(he(e=>Bt(function(t,e){return null!==t&&e&&e(new He(t)),Object(Tt.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new ze(t)),Object(Tt.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qt(()=>{const r=e.guards.map(r=>{const s=Ui(r,e.node,n);let o;if(function(t){return t&&ai(t.canActivateChild)}(s))o=rn(s.canActivateChild(i,t));else{if(!ai(s))throw new Error("Invalid CanActivateChild guard");o=rn(s(i,t))}return o.pipe(Se())});return Object(Tt.a)(r).pipe(li())}));return Object(Tt.a)(r).pipe(li())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(Tt.a)(!0);const r=i.map(i=>qt(()=>{const r=Ui(i,e,n);let s;if(function(t){return t&&ai(t.canActivate)}(r))s=rn(r.canActivate(e,t));else{if(!ai(r))throw new Error("Invalid CanActivate guard");s=rn(r(e,t))}return s.pipe(Se())}));return Object(Tt.a)(r).pipe(li())}(t,e.route,n))),Se(t=>!0!==t,!0))}(i,s,t,e):Object(Tt.a)(n)),Object(Gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(xe.a)(t=>{if(ci(t.guardsResult)){const e=Xe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),re(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Gi(t=>{if(t.guards.canActivateChecks.length)return Object(Tt.a)(t).pipe(Object(xe.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Wt(t=>{let n=!1;return Object(Tt.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(le.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Tt.a)(t);let s=0;return Object(wt.a)(n).pipe(he(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(Tt.a)({});const s={};return Object(wt.a)(r).pipe(Object(le.a)(r=>function(t,e,n,i){const r=Ui(t,e,i);return rn(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(xe.a)(t=>{s[r]=t}))),de(1),Object(le.a)(()=>Object.keys(s).length===r.length?Object(Tt.a)(s):Ht.a))}(t._resolve,t,e,i).pipe(Object(Gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mn(t,n).resolve),null)))}(t.route,e,i,r)),Object(xe.a)(()=>s++),de(1),Object(le.a)(e=>s===n.length?Object(Tt.a)(t):Ht.a))})),Object(xe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(xe.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Gi(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Gt.a)(t=>{const e=function(t,e,n){const i=zn(t,e._root,n?n._root:void 0);return new Un(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(xe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Gt.a)(t=>(new ri(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Object(xe.a)({next(){n=!0},complete(){n=!0}}),ke(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ae(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=ci(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Re(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Ue(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch($v){t.reject($v)}}var r;return Ht.a}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){di(t),this.config=t.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return Kn(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return nn(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Xn(n,e,i)}(n);if(s.toRoot())return Kn(e.root,new ln([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new Jn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Jn(t,t===e.root,0)}const i=Yn(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Jn(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Zn(o.segmentGroup,o.index,s.commands):Qn(o.segmentGroup,o.index,s.commands);return Kn(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ci(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(OI){e=this.malformedUriErrorHandler(OI,this.urlSerializer,t)}return e}isActive(t,e){if(ci(t))return sn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return sn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;r?(c=r.resolve,u=r.reject,l=r.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.P),i.Yb(fn),i.Yb(Xi),i.Yb(w),i.Yb(i.t),i.Yb(i.y),i.Yb(i.i),i.Yb(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),nr=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new St.a,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ir(this.skipLocationChange),replaceUrl:ir(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ir(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(er),i.Ob(Nn),i.Zb("tabindex"),i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Bb]}),t})();function ir(t){return""===t||!!t}let rr=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.o,this.deactivateEvents=new i.o,this.name=r||We,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new sr(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Xi),i.Ob(i.S),i.Ob(i.j),i.Zb("name"),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class sr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Nn?this.route:t===Xi?this.childContexts:this.parent.get(t,e)}}class or{}class ar{preload(t,e){return Object(Tt.a)(null)}}let cr=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Ki(e,n,e=>t.triggerEvent(new Ve(e)),e=>t.triggerEvent(new Be(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(re(t=>t instanceof De),he(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(wt.a)(n).pipe(Object(Vt.a)(),Object(Gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(le.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(er),i.Yb(i.y),i.Yb(i.i),i.Yb(i.t),i.Yb(or))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),ur=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof De&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ye&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ye(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(er),i.Yb(B),i.Yb(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const lr=new i.s("ROUTER_CONFIGURATION"),hr=new i.s("ROUTER_FORROOT_GUARD"),dr=[w,{provide:fn,useClass:pn},{provide:er,useFactory:function(t,e,n,i,r,o,a,c={},u,l){const h=new er(null,t,e,n,i,r,o,tn(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[fn,Xi,w,i.t,i.y,i.i,Wi,lr,[class{},new i.C],[class{},new i.C]]},Xi,{provide:Nn,useFactory:function(t){return t.routerState.root},deps:[er]},{provide:i.y,useClass:i.M},cr,ar,class{preload(t,e){return e().pipe(ae(()=>Object(Tt.a)(null)))}},{provide:lr,useValue:{enableTracing:!1}}];function fr(){return new i.A("Router",er)}let pr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[dr,_r(e),{provide:hr,useFactory:br,deps:[[er,new i.C,new i.L]]},{provide:lr,useValue:n||{}},{provide:g,useFactory:gr,deps:[a,[new i.q(_),new i.C],lr]},{provide:ur,useFactory:mr,deps:[er,B,lr]},{provide:or,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ar},{provide:i.A,multi:!0,useFactory:fr},[yr,{provide:i.d,multi:!0,useFactory:vr,deps:[yr]},{provide:Tr,useFactory:wr,deps:[yr]},{provide:i.b,multi:!0,useExisting:Tr}]]}}static forChild(e){return{ngModule:t,providers:[_r(e)]}}}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)(i.Yb(hr,8),i.Yb(er,8))}}),t})();function mr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ur(t,e,n)}function gr(t,e,n={}){return n.useHash?new v(t,e):new y(t,e)}function br(t){return"guarded"}function _r(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Wi,multi:!0,useValue:t}]}let yr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(er),i=this.injector.get(lr);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Tt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(lr),n=this.injector.get(cr),r=this.injector.get(ur),s=this.injector.get(er),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.t))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();function vr(t){return t.appInitializer.bind(t)}function wr(t){return t.bootstrapListener.bind(t)}const Tr=new i.s("Router Initializer");function Sr(t){return null!=t&&"false"!=`${t}`}function xr(t,e=0){return Cr(t)?Number(t):e}function Cr(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Er(t){return Array.isArray(t)?t:[t]}function kr(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Or(t){return t instanceof i.l?t.nativeElement:t}var Ir=n("n6bG");function Ar(t,e,n,i){return Object(Ir.a)(n)&&(i=n,n=void 0),i?Ar(t,e,n).pipe(Object(Gt.a)(t=>Object(kt.a)(t)?i(...t):i(t))):new Dt.a(i=>{Pr(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Pr(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Pr(t[s],e,n,i,r)}i.add(s)}var Dr=n("3N8a");class Rr extends Dr.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Ur=n("IjjT");class Lr extends Ur.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Nr=new Lr(Rr);var Mr=n("7Hc7");function jr(t,e){return n=>n.lift(new Fr(t,e))}class Fr{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Vr(t,this.compare,this.keySelector))}}class Vr extends Ot.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Br=n("D0XW");class Hr{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qr(t,this.durationSelector))}}class qr extends Yt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(Yt.c)(n,new Yt.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var zr=n("Y7HM");function Gr(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Yr(t,e=Br.a){return n=()=>function(t=0,e,n){let i=-1;return Object(zr.a)(e)?i=Number(e)<1?1:Number(e):Object(Et.a)(e)&&(n=e),Object(Et.a)(n)||(n=Br.a),new Dt.a(e=>{const r=Object(zr.a)(t)?t:+t-n.now();return n.schedule(Gr,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Hr(n))};var n}function Wr(t){return e=>e.lift(new Kr(t))}class Kr{constructor(t){this.notifier=t}call(t,e){const n=new $r(t),i=Object(Yt.c)(this.notifier,new Yt.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class $r extends Yt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Xr(){return t=>t.lift(new Jr)}class Jr{call(t,e){return e.subscribe(new Qr(t))}}class Qr extends Ot.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Zr=n("qgXg"),ts=n("pxpQ"),es=n("Ylt2");class ns extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new is(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new xt.a;if(this.isStopped||this.hasError?s=Ee.a.EMPTY:(this.observers.push(t),s=new es.a(this,t)),i&&t.add(t=new ts.a(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Zr.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class is{constructor(t,e){this.time=t,this.value=e}}function rs(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,c=!1;return function(u){let l;o++,!r||a?(a=!1,r=new ns(t,e,i),l=r.subscribe(this),s=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,s=void 0,r.complete()}})):l=r.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}let ss;try{ss="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(JL){ss=!1}let os,as=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ss)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.D))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.D))},token:t,providedIn:"root"}),t})(),cs=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})();const us=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ls(){if(os)return os;if("object"!=typeof document||!document)return os=new Set(us),os;let t=document.createElement("input");return os=new Set(us.filter(e=>(t.setAttribute("type",e),t.type===e))),os}let hs,ds;function fs(t){return function(){if(null==hs&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hs=!0}))}finally{hs=hs||!1}return hs}()?t:!!t.capture}function ps(t){if(function(){if(null==ds){const t="undefined"!=typeof document?document.head:null;ds=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ds}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const ms=new i.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.X)(o)}});let gs=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(ms,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(ms,8))},token:t,providedIn:"root"}),t})(),bs=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})();function _s(t){return t&&"function"==typeof t.connect}class ys{applyChanges(t,e,n,i,r){t.forEachOperation((t,i,s)=>{let o,a;if(null==t.previousIndex){const r=n(t,i,s);o=e.createEmbeddedView(r.templateRef,r.context,r.index),a=1}else null==s?(e.remove(i),a=3):(o=e.get(i),e.move(o,s),a=2);r&&r({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class vs{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new St.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let ws=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Ts=new i.s("_ViewRepeater");let Ss=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new St.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Yr(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Tt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(re(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ar(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.B),i.Yb(as),i.Yb(o,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.B),Object(i.Yb)(as),Object(i.Yb)(o,8))},token:t,providedIn:"root"}),t})(),xs=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new St.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Yr(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(as),i.Yb(i.B),i.Yb(o,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(as),Object(i.Yb)(i.B),Object(i.Yb)(o,8))},token:t,providedIn:"root"}),t})(),Cs=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})(),Es=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[bs,cs,Cs],bs,Cs]}),t})();function ks(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var Os=n("VRyK");function Is(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function As(t,e){const n=e?"":"none";Is(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Ps(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Ds(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Rs(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Us(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Ls(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function Ns(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Ms(t,e,n,i){const{top:r,right:s,bottom:o,left:a,width:c,height:u}=t,l=c*e,h=u*e;return i>r-h&&i<o+h&&n>a-l&&n<s+l}class js{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Us(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,c=r.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&Ns(t.clientRect,a,c)}),r.top=s,r.left=o,{top:a,left:c}}}function Fs(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?qs(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||Hs(t,e),Vs("canvas",t,e,qs),Vs("input, textarea, select",t,e,Hs),e}function Vs(t,e,n,i){const r=e.querySelectorAll(t);if(r.length){const e=n.querySelectorAll(t);for(let t=0;t<r.length;t++)i(r[t],e[t])}}let Bs=0;function Hs(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Bs++}`)}function qs(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(JL){}}const zs=fs({passive:!0}),Gs=fs({passive:!1});class Ys{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new St.a,this._pointerMoveSubscription=Ee.a.EMPTY,this._pointerUpSubscription=Ee.a.EMPTY,this._scrollSubscription=Ee.a.EMPTY,this._resizeSubscription=Ee.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new St.a,this.started=new St.a,this.released=new St.a,this.ended=new St.a,this.entered=new St.a,this.exited=new St.a,this.dropped=new St.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new js(n,r),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Sr(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Or(t)),this._handles.forEach(t=>As(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Or(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Gs),e.addEventListener("touchstart",this._pointerDown,zs)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Or(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&$s(this._rootElement),$s(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&$s(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&$s(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){Xs(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,r=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(o,t),Ps(t,!1),this._document.body.appendChild(i.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=Xs(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Us(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Ps(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialContainer,s,r,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Ws(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=Js(r,this._document),this._previewRef=r,t.matchSize?Qs(i,e):i.style.transform=Ws(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=Fs(t),Qs(i,t.getBoundingClientRect())}return Is(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),As(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Ws(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Rs(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=Rs(e,"transition-duration"),o=Rs(e,"transition-delay");return Ds(s[r])+Ds(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Js(this._placeholderRef,this._document)):n=Fs(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=Xs(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(s.pageX-r.left-o.left),y:r.top-n.top+(s.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Xs(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=r,e.matrixTransform(t.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,s=this._previewRect,o=r.top+e,a=r.bottom-(s.height-e);n=Ks(n,r.left+t,r.right-(s.width-t)),i=Ks(i,o,a)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,As(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Gs),t.removeEventListener("touchstart",this._pointerDown,zs)}_applyRootElementTransform(t,e){const n=Ws(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Xs(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&Ns(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function Ws(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Ks(t,e,n){return Math.max(e,Math.min(n,t))}function $s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xs(t){return"t"===t.type[0]}function Js(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function Qs(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Ws(e.left,e.top)}function Zs(t,e){return Math.max(0,Math.min(e,t))}class to{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new St.a,this.entered=new St.a,this.exited=new St.a,this.dropped=new St.a,this.sorted=new St.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ee.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new St.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Br.a){return(!Object(zr.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Br.a),new Dt.a(n=>(n.add(e.schedule(ks,t,{subscriber:n,counter:0,period:t})),n))}(0,Nr).pipe(Wr(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?no(t,-2):2===this._verticalScrollDirection&&no(t,2),1===this._horizontalScrollDirection?io(t,-2):2===this._horizontalScrollDirection&&io(t,2)})},this.element=Or(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new js(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Or(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let r;this.start(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let c=s[r];if(c===t&&(c=s[r+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),s.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else Or(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Or(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?eo("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!Ms(this._clientRect,.05,e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=eo(r,e=>e.drag===t),c=r[s],u=c.clientRect,l=a>s?1:-1,h=this._getItemOffsetPx(r[a].clientRect,u,l),d=this._getSiblingOffsetPx(a,r,l),f=r.slice();!function(t,e,n){const i=Zs(e,t.length-1),r=Zs(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?h:d,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Ns(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Ns(e.clientRect,r,0))}),this._previousSwap.overlaps=Ls(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Ms(s.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=ro(e,i),s=so(e,n);let o=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(i||r)&&(n=o))}),!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};i=ro(a,e),r=so(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Or(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Us(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Or(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return eo(this._itemPositions,({drag:s,clientRect:o},a,c)=>{if(s===t)return c.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Ls(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!Ls(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=Or(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Ns(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=ps(Or(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function eo(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function no(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function io(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function ro(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function so(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const oo=fs({passive:!1,capture:!0});let ao=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new St.a,this.pointerUp=new St.a,this.scroll=new St.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,oo)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,oo)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:oo}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:oo}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.B),i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.B),Object(i.Yb)(o))},token:t,providedIn:"root"}),t})();const co={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let uo=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=co){return new Ys(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new to(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o),i.Yb(i.B),i.Yb(xs),i.Yb(ao))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(o),Object(i.Yb)(i.B),Object(i.Yb)(xs),Object(i.Yb)(ao))},token:t,providedIn:"root"}),t})();const lo=new i.s("CDK_DRAG_PARENT"),ho=new i.s("CdkDropListGroup"),fo=new i.s("CDK_DRAG_CONFIG");let po=0;const mo=new i.s("CdkDropList");let go=(()=>{class t{constructor(e,n,r,s,o,a,c){this.element=e,this._changeDetectorRef=r,this._dir=s,this._group=o,this._scrollDispatcher=a,this._destroyed=new St.a,this.connectedTo=[],this.id="cdk-drop-list-"+po++,this.enterPredicate=()=>!0,this.dropped=new i.o,this.entered=new i.o,this.exited=new i.o,this.sorted=new i.o,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Sr(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(te(this._dir.value),Wr(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Er(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Sr(this.sortingDisabled),e.autoScrollDisabled=Sr(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(uo),i.Ob(i.h),i.Ob(gs,8),i.Ob(ho,12),i.Ob(Ss),i.Ob(fo,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Xb("id",e.id),i.Gb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.Cb([{provide:ho,useValue:void 0},{provide:mo,useExisting:t}])]}),t._dropLists=[],t})();const bo=new i.s("CdkDragHandle"),_o=new i.s("CdkDragPlaceholder"),yo=new i.s("CdkDragPreview");let vo=(()=>{class t{constructor(t,e,n,r,s,o,a,c,u,l){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=r,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=u,this._selfHandle=l,this._destroyed=new St.a,this.started=new i.o,this.released=new i.o,this.ended=new i.o,this.entered=new i.o,this.exited=new i.o,this.dropped=new i.o,this.moved=new Dt.a(t=>{const e=this._dragRef.moved.pipe(Object(Gt.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Sr(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Jt(1),Wr(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(te(this._handles),Object(xe.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Wt(t=>Object(Os.a)(...t.map(t=>t._stateChanges.pipe(te(t))))),Wr(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?wo(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?wo(this.element.nativeElement,t):Or(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:xr(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(mo,12),i.Ob(o),i.Ob(i.B),i.Ob(i.S),i.Ob(fo,8),i.Ob(gs,8),i.Ob(uo),i.Ob(i.h),i.Ob(bo,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,yo,1),i.Hb(n,_o,1),i.Hb(n,bo,1)),2&t){let t;i.lc(t=i.cc())&&(e._previewTemplate=t.first),i.lc(t=i.cc())&&(e._placeholderTemplate=t.first),i.lc(t=i.cc())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Gb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.Cb([{provide:lo,useExisting:t}]),i.Bb]}),t})();function wo(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let To=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[uo],imports:[Cs]}),t})(),So=(()=>{class t{constructor(){this.terminate=null,this.indentationLevel=0}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"}"}}return t.label="End Turn",t.id=btoa(t.name),t})(),xo=(()=>{class t{constructor(){this.terminate=null,this.indentationLevel=0}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"this.onmessage = function (turnEvent){"}}return t.label="When Turn",t.id=btoa(t.name),t})(),Co=(()=>{class t{constructor(){this.terminate=null}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"}"}}return t.label="End Else",t.id=btoa(t.name),t})(),Eo=(()=>{class t{constructor(){this.conjunction="",this.negate=!1}evaluation(t,e){return!1}getId(){return t.id}getLabel(){return t.label}getAsCode(){return""}}return t.id=btoa(t.name),t.label="No Condition Selected",t})(),ko=(()=>{class t{constructor(){this.conditions=[new Eo],this.terminal_blocks=[Co.label],this.terminate=null,this.condition=new Eo}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.id=btoa(t.name),t.label="Else",t.asCode="} else {",t})(),Oo=(()=>{class t{constructor(){this.terminate=null}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"}"}}return t.label="End Else If",t.id=btoa(t.name),t})(),Io=(()=>{class t{constructor(){this.terminate=null}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"}"}}return t.label="End if",t.id=btoa(t.name),t})(),Ao=(()=>{class t{constructor(){this.conditions=[new Eo],this.terminal_blocks=[Io.label,Co.label,Oo.label],this.condition=new Eo}static asCode(t){let e="if(";for(let n of t)""!==n.conjunction&&(e+=` ${n.conjunction+n.conjunction} `),n.negate&&(e+="!"),e+=n.getAsCode();return e+="){",e}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode(this.conditions)}}return t.label="If",t.id=btoa(t.name),t})(),Po=(()=>{class t{constructor(){this.conditions=[new Eo],this.terminal_blocks=[t.label,Oo.label,ko.label],this.terminate=null,this.condition=new Eo}getId(){return t.id}getLabel(){return t.label}getAsCode(){return"}else "+Ao.asCode(this.conditions)}}return t.id=btoa(t.name),t.label="Else if",t})();class Do{constructor(t,e,n,i){this.actionId=null,this.doer=null,this.receiver=null,this.hasDied=!1,this.actionId=t,this.doer=e,this.receiver=n,this.hasDied=i}}let Ro=(()=>{class t{execute(e,n){return new Do(t.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Wait",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'Wait'});",t})(),Uo=(()=>{class t{execute(e,n){var i=this.getClosestEnemy(e,n);if(null!=i&&i.location.x>=n.location.x-n.attackRange&&i.location.x<=n.location.x+n.attackRange&&i.location.y>=n.location.y-n.attackRange&&i.location.y<=n.location.y+n.attackRange){let e=!1,r=n.strength-i.defense;return i.health=r>0?i.health-r:i.health,i.health<=0&&(e=!0),console.log(i.health),n.doAttackAnimation(),new Do(t.name,n,i,e)}return new Do(Ro.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}getClosestEnemy(t,e){var n=null,i=1e3;for(let s=0;s<t.length;s++)for(let o=0;o<t[0].length;o++){let a=t[s][o];if((e.location.x!==s||e.location.y!==o)&&null!==a&&a.team!==e.team){var r=Math.floor(Math.sqrt(Math.pow(e.location.x-s,2)+Math.pow(e.location.y-o,2)));r<i&&(n=a,i=r)}}return n}}return t.label="Attack",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'Attack'});",t})(),Lo=(()=>{class t{constructor(){}static isUnitOccupied(t,e){return null!==e[t.x][t.y]}static isInBounds(t,e){return t.x>=0&&t.x<e.length&&t.y>=0&&t.y<e[0].length}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),No=(()=>{class t{constructor(){}execute(e,n){let i={x:n.location.x-1,y:n.location.y};return Lo.isInBounds(i,e)&&!Lo.isUnitOccupied(i,e)?(e[n.location.x][n.location.y]=null,n.location=i,n.doWalkAnimation(),new Do(t.name,n,null,!1)):new Do(Ro.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Go west",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'West'});",t})(),Mo=(()=>{class t{constructor(){}execute(e,n){let i={x:n.location.x+1,y:n.location.y};return Lo.isInBounds(i,e)&&!Lo.isUnitOccupied(i,e)?(e[n.location.x][n.location.y]=null,n.location=i,n.doWalkAnimation(),new Do(t.name,n,null,!1)):new Do(Ro.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Go east",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'East'});",t})(),jo=(()=>{class t{constructor(){}execute(e,n){let i={x:n.location.x,y:n.location.y-1};return Lo.isInBounds(i,e)&&!Lo.isUnitOccupied(i,e)?(e[n.location.x][n.location.y]=null,n.location=i,n.doWalkAnimation(),new Do(t.name,n,null,!1)):new Do(Ro.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Go north",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'North'});",t})(),Fo=(()=>{class t{constructor(){}execute(e,n){let i={x:n.location.x,y:n.location.y+1};return Lo.isInBounds(i,e)&&!Lo.isUnitOccupied(i,e)?(e[n.location.x][n.location.y]=null,n.location=i,n.doWalkAnimation(),new Do(t.name,n,null,!1)):new Do(Ro.name,n,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Go south",t.id=btoa(t.name),t.asCode="this.postMessage({result: 'South'});",t})(),Vo=(()=>{class t{constructor(){this.negate=!1,this.conjunction=""}evaluation(t,e){for(let n=0;n<t.length;n++)for(let i=0;i<t[0].length;i++){let r=t[n][i];if((e.location.x!==n||e.location.y!==i)&&null!==r&&r.team!==e.team&&n>=e.location.x-e.attackRange&&n<=e.location.x+e.attackRange&&i>=e.location.y-e.attackRange&&i<=e.location.y+e.attackRange)return!0}return!1}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Enemy In Range",t.id=btoa(t.name),t.asCode="enemyInRange(grid, me)",t})(),Bo=(()=>{class t{constructor(){this.conjunction="",this.negate=!1}evaluation(t,e){return e.health/e.maxHealth*100<30}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Health Less Than 30 Percent",t.id=btoa(t.name),t.asCode="healthLessThan30Percent(me)",t})(),Ho=(()=>{class t{execute(t,e){return new Do(e.id+" Action1",e,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Action1",t.id=btoa(t.name),t.asCode="textAction1();",t})(),qo=(()=>{class t{execute(t,e){return new Do(e.id+" Action2",e,null,!1)}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.label="Action2",t.id=btoa(t.name),t.asCode="textAction2();",t})(),zo=(()=>{class t{constructor(){this.negate=!1,this.conjunction=""}evaluation(t,e){return!0}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.id=btoa(t.name),t.label="true",t.asCode="true",t})(),Go=(()=>{class t{constructor(){this.negate=!1,this.conjunction=""}evaluation(t,e){return!1}getId(){return t.id}getLabel(){return t.label}getAsCode(){return t.asCode}}return t.id=btoa(t.name),t.label="false",t.asCode="false",t})(),Yo=(()=>{class t{evaluation(t,e){return!1}getAsCode(){return""}getId(){return t.id}getLabel(){return""}}return t.id=btoa(t.name),t})(),Wo=(()=>{class t{constructor(){this.conjunction="",this.negate=!1}evaluation(t,e){let n={x:e.location.x+1,y:e.location.y};return Lo.isInBounds(n,t)&&!Lo.isUnitOccupied(n,t)}getAsCode(){return t.asCode}getId(){return t.id}getLabel(){return t.label}}return t.id=btoa(t.name),t.label="East Available",t.asCode="locationAvailable(grid, {x: me.location.x + 1, y: me.location.y})",t})(),Ko=(()=>{class t{constructor(){this.conjunction="",this.negate=!1}evaluation(t,e){let n={x:e.location.x-1,y:e.location.y};return Lo.isInBounds(n,t)&&!Lo.isUnitOccupied(n,t)}getAsCode(){return t.asCode}getId(){return t.id}getLabel(){return t.label}}return t.id=btoa(t.name),t.label="West Available",t.asCode="locationAvailable(grid, {x: me.location.x - 1, y: me.location.y})",t})(),$o=(()=>{class t{constructor(){this.conjunction="",this.negate=!1}evaluation(t,e){let n={x:e.location.x,y:e.location.y-1};return Lo.isInBounds(n,t)&&!Lo.isUnitOccupied(n,t)}getAsCode(){return t.asCode}getId(){return t.id}getLabel(){return t.label}}return t.id=btoa(t.name),t.label="North Available",t.asCode="locationAvailable(grid, {x: me.location.x, y: me.location.y - 1})",t})(),Xo=(()=>{class t{evaluation(t,e){let n={x:e.location.x,y:e.location.y+1};return Lo.isInBounds(n,t)&&!Lo.isUnitOccupied(n,t)}getAsCode(){return t.asCode}getId(){return t.id}getLabel(){return t.label}}return t.id=btoa(t.name),t.label="South Available",t.asCode="locationAvailable(grid, {x: me.location.x, y: me.location.y + 1})",t})(),Jo=(()=>{class t{constructor(){}isConditional(t){return void 0!==t.conditions}isExecutable(t){return void 0!==t.execute}isTerminal(t){return void 0!==t.terminate}getById(t){switch(t){case Ao.id:return new Ao;case Uo.id:return new Uo;case jo.id:return new jo;case Fo.id:return new Fo;case Mo.id:return new Mo;case No.id:return new No;case Ro.id:return new Ro;case Po.id:return new Po;case ko.id:return new ko;case Io.id:return new Io;case Oo.id:return new Oo;case Co.id:return new Co;case Ho.id:return new Ho;case qo.id:return new qo;case Bo.id:return new Bo;case Vo.id:return new Vo;case zo.id:return new zo;case Go.id:return new Go;case Eo.id:return new Eo;case Yo.id:return new Yo;case Wo.id:return new Wo;case Ko.id:return new Ko;case $o.id:return new $o;case Xo.id:return new Xo;case xo.id:return new xo;case So.id:return new So;default:throw new Error(`Id of ${t} is not recognized.`)}}cloneBlock(t){return Object.create(t)}}return t.placeableBlocks=[new Ao,new Uo,new jo,new Fo,new Mo,new No,new Ro,new Io,new ko,new Po,new Co,new Oo,new qo,new Ho],t.actionBlocks=[new jo,new Fo,new Mo,new No,new Ro,new Uo],t.conditionalBlocks=[new Ao,new Io,new ko,new Po,new Co,new Oo],t.allBlocks=t.placeableBlocks.concat(new xo,new So,new Eo),t.predicates=[new Vo,new Bo,new $o,new Xo,new Wo,new Ko],t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Qo{constructor(t=null,e=null){if(this.indentationLevel=0,null!==t&&null!==e)throw new Error("Illegal use of this constructor");null!==e?this.code=e:(this.code=t.getAsCode(),this.indentationLevel=t.indentationLevel)}static funcToRealCodeRepr(t){let e=[],n=t.split("@");console.log(n.length);for(let i of n){let t=i.split("^").length-1,n=new Qo(null,i.replaceAll("^",""));n.indentationLevel=t,e.push(n)}return e}}class Zo{}class ta{}class ea{constructor(){this.TroopType=void 0,this.CodeType=na.NONE,this.CodeBlocks=null,this.CodeFile=null,this.location=null}}var na=function(t){return t[t.BLOCK=0]="BLOCK",t[t.FILE=1]="FILE",t[t.NONE=2]="NONE",t}({}),ia=n("ZWlK");let ra=(()=>{class t{}return t.archer="Archer",t.swordsmen="Swordsman",t.testMap="testMap",t.tower="Tower",t.spriteSize=40,t})(),sa=(()=>{class t{}return t.walk="walk",t.idle="idle",t.attack="attack",t})();class oa{constructor(){this.id=-1,this.team=-1,this.location={x:0,y:0},this.codeType=na.NONE,this.activecode=[],this.maxHealth=100,this.health=100,this.defense=10,this.strength=20,this.attackRange=1}initSprite(t){let e=new ia.SpriteSheet({images:[t],frames:{width:ra.spriteSize,height:ra.spriteSize,regX:20,regY:20,spacing:0,margin:0},animations:{idle:[0],walk:[this.walk_frames[0],this.walk_frames[1],"idle"],attack:[this.attack_frames[0],this.attack_frames[1],"idle"]}});this.sprite=new ia.Sprite(e,"idle")}doIdleAnimation(){this.sprite.gotoAndPlay(sa.idle)}doAttackAnimation(){this.sprite.gotoAndPlay(sa.attack)}doWalkAnimation(){this.sprite.gotoAndPlay(sa.walk)}}let aa=(()=>{class t extends oa{constructor(){super(),this.id=-1,this.maxHealth=100,this.health=100,this.defense=10,this.strength=25,this.attackRange=1,this.walk_frames=[11,18],this.attack_frames=[24,32]}}return t.dbid=btoa(t.name),t})();class ca{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ua extends ca{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class la extends ca{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ha extends ca{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class da{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ua?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof la?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ha?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fa extends da{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let pa=(()=>{class t extends da{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.j),i.Ob(i.S),i.Ob(o))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.Ab]}),t})(),ma=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})();class ga{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new ba(t,this.predicate,this.inclusive))}}class ba extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function _a(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class ya{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=kr(-this._previousScrollPosition.left),t.style.top=kr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class va{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wa{enable(){}disable(){}attach(){}}function Ta(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Sa(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class xa{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Ta(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ca=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new wa,this.close=t=>new va(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new ya(this._viewportRuler,this._document),this.reposition=t=>new xa(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Ss),i.Yb(xs),i.Yb(i.B),i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(Ss),Object(i.Yb)(xs),Object(i.Yb)(i.B),Object(i.Yb)(o))},token:t,providedIn:"root"}),t})();class Ea{constructor(t){if(this.scrollStrategy=new wa,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ka{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Oa{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ia=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(o))},token:t,providedIn:"root"}),t})(),Aa=(()=>{class t extends Ia{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(o))},token:t,providedIn:"root"}),t})(),Pa=(()=>{class t extends Ia{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o),i.Yb(as))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(o),Object(i.Yb)(as))},token:t,providedIn:"root"}),t})();const Da=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Ra=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||Da){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),Da?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o),i.Yb(as))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(o),Object(i.Yb)(as))},token:t,providedIn:"root"}),t})();class Ua{constructor(t,e,n,i,r,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new St.a,this._attachments=new St.a,this._detachments=new St.a,this._locationChanges=Ee.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new St.a,this._outsidePointerEvents=new St.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Jt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=kr(this._config.width),t.height=kr(this._config.height),t.minWidth=kr(this._config.minWidth),t.minHeight=kr(this._config.minHeight),t.maxWidth=kr(this._config.maxWidth),t.maxHeight=kr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Er(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wr(Object(Os.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const La="cdk-overlay-connected-position-bounding-box",Na=/([A-Za-z%]+)$/;class Ma{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.a,this._resizeSubscription=Ee.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(La),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ja(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(La),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let c=0-s,u=s+e.height-n.height,l=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=Fa(this._overlayRef.getConfig().minHeight),o=Fa(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.width,0),s=Math.max(t.y+e.height-i.height,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Oa(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,c,u;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=kr(n.height),i.top=kr(n.top),i.bottom=kr(n.bottom),i.width=kr(n.width),i.left=kr(n.left),i.right=kr(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=kr(t)),r&&(i.maxWidth=kr(r))}this._lastBoundingBoxSize=n,ja(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ja(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ja(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();ja(n,this._getExactOverlayY(e,t,i)),ja(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=kr(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=kr(s.maxWidth):r&&(n.maxWidth="")),ja(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=kr(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=kr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sa(t,n),isOriginOutsideView:Ta(t,n),isOverlayClipped:Sa(e,n),isOverlayOutsideView:Ta(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Er(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ja(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Fa(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Na);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Va{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Ma(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new ka(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Ba="cdk-global-overlay-wrapper";class Ha{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ba),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Ba),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qa=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Ha}connectedTo(t,e,n){return new Va(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ma(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(xs),i.Yb(o),i.Yb(as),i.Yb(Ra))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(xs),Object(i.Yb)(o),Object(i.Yb)(as),Object(i.Yb)(Ra))},token:t,providedIn:"root"}),t})(),za=0,Ga=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Ea(t);return r.direction=r.direction||this._directionality.value,new Ua(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+za++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new fa(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Ca),i.Yb(Ra),i.Yb(i.j),i.Yb(qa),i.Yb(Aa),i.Yb(i.t),i.Yb(i.B),i.Yb(o),i.Yb(gs),i.Yb(w),i.Yb(Pa))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const Ya=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Wa=new i.s("cdk-connected-overlay-scroll-strategy");let Ka=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),$a=(()=>{class t{constructor(t,e,n,r,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ee.a.EMPTY,this._attachSubscription=Ee.a.EMPTY,this._detachSubscription=Ee.a.EMPTY,this._positionSubscription=Ee.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new i.o,this.positionChange=new i.o,this.attach=new i.o,this.detach=new i.o,this.overlayKeydown=new i.o,this.overlayOutsideClick=new i.o,this._templatePortal=new la(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Sr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Sr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Sr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Sr(t)}get push(){return this._push}set push(t){this._push=Sr(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Ya);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||_a(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Ea({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new ga(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Ga),i.Ob(i.N),i.Ob(i.S),i.Ob(Wa),i.Ob(gs,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.Bb]}),t})();const Xa={provide:Wa,deps:[Ga],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ja=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[Ga,Xa],imports:[[bs,ma,Es],Es]}),t})();function Qa(t,e=Br.a){return n=>n.lift(new Za(t,e))}class Za{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new tc(t,this.dueTime,this.scheduler))}}class tc extends Ot.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ec,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ec(t){t.debouncedNext()}let nc=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ic=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Or(t);return new Dt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new St.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(nc))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(nc))},token:t,providedIn:"root"}),t})(),rc=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Sr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=xr(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Qa(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(ic),i.Ob(i.l),i.Ob(i.B))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),sc=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[nc]}),t})();class oc{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new St.a,this._typeaheadSubscription=Ee.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new St.a,this.change=new St.a,t instanceof i.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(xe.a)(t=>this._pressedLetters.push(t)),Qa(t),re(()=>this._pressedLetters.length>0),Object(Gt.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||_a(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.F?this._items.toArray():this._items}}class ac extends oc{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class cc extends oc{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let uc=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(JL){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===hc(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=hc(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||lc(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(as))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(as))},token:t,providedIn:"root"}),t})();function lc(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function hc(t){if(!lc(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class dc{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Jt(1)).subscribe(t)}}let fc=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new dc(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(uc),i.Yb(i.B),i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(uc),Object(i.Yb)(i.B),Object(i.Yb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const pc=new i.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),mc=new i.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gc=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(pc,8),i.Yb(i.B),i.Yb(o),i.Yb(mc,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(pc,8),Object(i.Yb)(i.B),Object(i.Yb)(o),Object(i.Yb)(mc,8))},token:t,providedIn:"root"}),t})();function bc(t){return 0===t.buttons}const _c=new i.s("cdk-focus-monitor-default-options"),yc=fs({passive:!0,capture:!0});let vc=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=bc(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=wc(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=wc(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Or(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Tt.a)(null);const i=ps(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new St.a,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Or(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Or(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=wc(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==wc(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,yc),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,yc)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,yc),t.addEventListener("mousedown",this._documentMousedownListener,yc),t.addEventListener("touchstart",this._documentTouchstartListener,yc),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yc),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yc),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,yc),t.removeEventListener("mousedown",this._documentMousedownListener,yc),t.removeEventListener("touchstart",this._documentTouchstartListener,yc),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.B),i.Yb(as),i.Yb(o,8),i.Yb(_c,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.B),Object(i.Yb)(as),Object(i.Yb)(o,8),Object(i.Yb)(_c,8))},token:t,providedIn:"root"}),t})();function wc(t){return t.composedPath?t.composedPath()[0]:t.target}const Tc="cdk-high-contrast-black-on-white",Sc="cdk-high-contrast-white-on-black",xc="cdk-high-contrast-active";let Cc=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(xc),t.remove(Tc),t.remove(Sc);const e=this.getHighContrastMode();1===e?(t.add(xc),t.add(Tc)):2===e&&(t.add(xc),t.add(Sc))}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(as),i.Yb(o))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(as),Object(i.Yb)(o))},token:t,providedIn:"root"}),t})();const Ec=new i.R("10.2.7");class kc{}const Oc="*";function Ic(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ac(t,e=null){return{type:4,styles:e,timings:t}}function Pc(t,e=null){return{type:3,steps:t,options:e}}function Dc(t,e=null){return{type:2,steps:t,options:e}}function Rc(t){return{type:6,styles:t,offset:null}}function Uc(t,e,n){return{type:0,name:t,styles:e,options:n}}function Lc(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Nc(t=null){return{type:9,options:t}}function Mc(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function jc(t){Promise.resolve(null).then(t)}class Fc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Vc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?jc(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Bc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hc(t){switch(t.length){case 0:return new Fc;case 1:return t[0];default:return new Vc(t)}}function qc(t,e,n,i,r={},s={}){const o=[],a=[];let c=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==c,l=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case Oc:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}l[i]=a}),i||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function zc(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Gc(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Gc(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Gc(n,"destroy",t)))}}function Gc(t,e,n){const i=n.totalTime,r=Yc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Yc(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Wc(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Kc(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let $c=(t,e)=>!1,Xc=(t,e)=>!1,Jc=(t,e,n)=>[];const Qc=Bc();(Qc||"undefined"!=typeof Element)&&($c=(t,e)=>t.contains(e),Xc=(()=>{if(Qc||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Xc}})(),Jc=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Zc=null,tu=!1;function eu(t){Zc||(Zc=("undefined"!=typeof document?document.body:null)||{},tu=!!Zc.style&&"WebkitAppearance"in Zc.style);let e=!0;return Zc.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Zc.style,!e&&tu)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zc.style),e}const nu=Xc,iu=$c,ru=Jc;function su(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ou=(()=>{class t{validateStyleProperty(t){return eu(t)}matchesElement(t,e){return nu(t,e)}containsElement(t,e){return iu(t,e)}query(t,e,n){return ru(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Fc(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),au=(()=>{class t{}return t.NOOP=new ou,t})();const cu="ng-enter",uu="ng-leave",lu="ng-trigger",hu=".ng-trigger",du="ng-animating",fu=".ng-animating";function pu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mu(parseFloat(e[1]),e[2])}function mu(t,e){switch(e){case"s":return 1e3*t;default:return t}}function gu(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=mu(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=mu(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function bu(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function _u(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else bu(t,n);return n}function yu(t,e,n){return n?e+":"+n+";":""}function vu(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=yu(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=yu(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function wu(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Iu(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Bc()&&vu(t))}function Tu(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Iu(e);t.style[n]=""}),Bc()&&vu(t))}function Su(t){return Array.isArray(t)?1==t.length?t[0]:Dc(t):t}const xu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cu(t){let e=[];if("string"==typeof t){let n;for(;n=xu.exec(t);)e.push(n[1]);xu.lastIndex=0}return e}function Eu(t,e,n){const i=t.toString(),r=i.replace(xu,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function ku(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ou=/-+([a-z0-9])/g;function Iu(t){return t.replace(Ou,(...t)=>t[1].toUpperCase())}function Au(t,e){return 0===t||0===e}function Pu(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=Ru(t,e)})}}return e}function Du(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ru(t,e){return window.getComputedStyle(t)[e]}const Uu="*";function Lu(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(ju(r,o)),"<"!=s[0]||r==Uu&&o==Uu||e.push(ju(o,r))}(t,n,e)):n.push(t),n}const Nu=new Set(["true","1"]),Mu=new Set(["false","0"]);function ju(t,e){const n=Nu.has(t)||Mu.has(t),i=Nu.has(e)||Mu.has(e);return(r,s)=>{let o=t==Uu||t==r,a=e==Uu||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?Nu.has(t):Mu.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Nu.has(e):Mu.has(e)),o&&a}}const Fu=new RegExp("s*:selfs*,?","g");function Vu(t,e,n){return new Bu(t).build(e,n)}class Bu{constructor(t){this._driver=t}build(t,e){const n=new Hu(e);return this._resetContextStyleTimingState(n),Du(this,Su(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(qu(t)){const e=t;Object.keys(e).forEach(t=>{Cu(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=ku(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Du(this,Su(t.animation),e);return{type:1,matchers:Lu(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:zu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Du(this,t,e)),options:zu(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Du(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:zu(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Gu(gu(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Gu(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||gu(i,e),Gu(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Rc({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=Rc(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Oc?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(qu(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Cu(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(qu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(qu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(i++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,i)=>{const s=l>0?i==h?1:l*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Du(this,Su(t.animation),e),options:zu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zu(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Fu,"")),[t=t.replace(/@\*/g,hu).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,fu),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Wc(e.collectedStyles,e.currentQuerySelector,{});const o=Du(this,Su(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:zu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:gu(t.timings,e.errors,!0);return{type:12,animation:Du(this,Su(t.animation),e),timings:n,options:null}}}class Hu{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qu(t){return!Array.isArray(t)&&"object"==typeof t}function zu(t){var e;return t?(t=bu(t)).params&&(t.params=(e=t.params)?bu(e):null):t={},t}function Gu(t,e,n){return{duration:t,delay:e,easing:n}}function Yu(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Wu{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ku=new RegExp(":enter","g"),$u=new RegExp(":leave","g");function Xu(t,e,n,i,r,s={},o={},a,c,u=[]){return(new Ju).buildKeyframes(t,e,n,i,r,s,o,a,c,u)}class Ju{buildKeyframes(t,e,n,i,r,s,o,a,c,u=[]){c=c||new Wu;const l=new Zu(t,e,c,i,r,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Du(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Yu(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?pu(n.duration):null,s=null!=n.delay?pu(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Du(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qu);const t=pu(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Du(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?pu(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Du(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return gu(e.params?Eu(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?pu(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qu);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Du(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;Du(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const Qu={};class Zu{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new tl(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=pu(n.duration)),null!=n.delay&&(i.delay=pu(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Eu(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Zu(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Qu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new el(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Ku,"."+this._enterClassName)).replace($u,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class tl{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tl(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Oc,this._currentKeyframe[t]=Oc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Oc})):_u(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Eu(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Oc),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=_u(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==Oc&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?ku(t.values()):[],s=e.size?ku(e.values()):[];if(n){const t=i[0],e=bu(t);t.offset=0,e.offset=1,i=[t,e]}return Yu(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class el extends tl{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=_u(t[0],!1);a.offset=0,r.push(a);const c=_u(t[0],!1);c.offset=nl(o),r.push(c);const u=t.length-1;for(let i=1;i<=u;i++){let o=_u(t[i],!1);o.offset=nl((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return Yu(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function nl(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class il{}class rl extends il{normalizePropertyName(t,e){return Iu(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(sl[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const sl=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ol(t,e,n,i,r,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const al={};class cl{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||al,d=this.buildStyles(n,o&&o.params||al,l),f=a&&a.params||al,p=this.buildStyles(i,f,l),m=new Set,g=new Map,b=new Map,_="void"===i,y={params:Object.assign(Object.assign({},h),f)},v=u?[]:Xu(t,e,this.ast.animation,r,s,d,p,y,c,l);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ol(e,this._triggerName,n,i,_,d,p,[],[],g,b,w,l);v.forEach(t=>{const n=t.element,i=Wc(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Wc(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const T=ku(m.values());return ol(e,this._triggerName,n,i,_,d,p,v,T,g,b,w)}}class ul{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=bu(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Eu(s,i,e)),n[t]=s})}}),n}}class ll{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ul(t.style,t.options&&t.options.params||{})}),hl(this.states,"true","1"),hl(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new cl(t,e,this.states))}),this.fallbackTransition=new cl(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function hl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const dl=new Wu;class fl{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Vu(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=qc(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=Xu(this._driver,e,r,cu,uu,{},{},n,dl,i),s.forEach(t=>{const e=Wc(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Oc)})});const a=Hc(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Yc(e,"","","");return zc(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const pl="ng-animate-queued",ml="ng-animate-disabled",gl=".ng-animate-disabled",bl=[],_l={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class vl{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=bu(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const wl="void",Tl=new vl(wl);class Sl{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Al(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=Wc(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=Wc(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Al(t,lu),Al(t,"ng-trigger-"+e),a[e]=Tl),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Cl(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Al(t,lu),Al(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new vl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Tl),c.value!==wl&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Tu(t,n),wu(t,i)})}return}const u=Wc(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!i)return;l=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Al(t,pl),s.onStart(()=>{Pl(t,pl)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,hu,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,wl,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Hc(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||Tl,a=new vl(wl),c=new Cl(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==_l||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Al(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Yc(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,zc(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class xl{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Sl(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(El(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!El(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Al(t,ml)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pl(t,ml))}removeNode(t,e,n,i){if(El(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return El(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,hu,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fu,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=_l,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,gl)&&this.markElementAsDisabled(t,!1),this.driver.query(t,gl,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Al(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Hc(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Wu,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Il(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=cu+p++;f.set(e,n),t.forEach(t=>Al(t,n))});const m=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const _=new Map,y=Il(h,Array.from(g));y.forEach((t,e)=>{const n=uu+p++;_.set(e,n),t.forEach(t=>Al(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Pl(t,n))}),y.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>Pl(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(v.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,r),h=_.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Tu(r,p.fromStyles)),e.onDestroy(()=>wu(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>Tu(r,p.fromStyles)),e.onDestroy(()=>wu(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Wc(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const T=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Wc(T,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Ul(t,a,c)),C=new Map;Ol(C,this.driver,b,c,Oc).forEach(t=>{Ul(t,a,c)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{Ol(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=C.get(t),n=E.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const k=[],O=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>wu(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=I;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,T,r,E,C);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Hc(e)),i.push(s)}}else Tu(e,o.fromStyles),s.onDestroy(()=>wu(e,o.toStyles)),O.push(s),u.has(e)&&i.push(s)}),O.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Hc(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Pl(t,uu),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,fu,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Dl(this,t,i):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==wl;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,c=Wc(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Tu(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Fc(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Rl(t,e),e}((n.get(h)||bl).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),b=qc(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,b,p);if(e.subTimeline&&i&&l.add(h),f){const e=new Cl(t,o,h);e.setRealPlayer(_),c.push(e)}return _});c.forEach(t=>{Wc(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Al(t,du));const d=Hc(h);return d.onDestroy(()=>{u.forEach(t=>Pl(t,du)),wu(a,e.toStyles)}),l.forEach(t=>{Wc(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Fc(t.duration,t.delay)}}class Cl{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Fc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>zc(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Wc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function El(t){return t&&1===t.nodeType}function kl(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ol(t,e,n,i,r){const s=[];n.forEach(t=>s.push(kl(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=yl,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>kl(t,s[a++])),o}function Il(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Al(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Pl(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Dl(t,e,n){Hc(n).onDone(()=>t.processLeaveNode(e))}function Rl(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Vc?Rl(i.players,e):e.push(i)}}function Ul(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Ll{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new xl(t,e,n),this._timelineEngine=new fl(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=Vu(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new ll(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Kc(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Kc(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Nl(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=jl(e[0]),e.length>1&&(i=jl(e[e.length-1]))):e&&(n=jl(e)),n||i?new Ml(t,n,i):null}let Ml=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&wu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wu(this._element,this._initialStyles),this._endStyles&&(wu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Tu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tu(this._element,this._endStyles),this._endStyles=null),wu(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function jl(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Fl(r)&&(e=e||{},e[r]=t[r])}return e}function Fl(t){return"display"===t||"position"===t}const Vl="animation",Bl="animationend";class Hl{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Kl(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Wl(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yl(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ql(this._element,this._name,"paused")}resume(){ql(this._element,this._name,"running")}setPosition(t){const e=zl(this._element,this._name);this._position=t*this._duration,Wl(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yl(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Kl(t,"").split(","),i=Gl(n,e);i>=0&&(n.splice(i,1),Wl(t,"",n.join(",")))}(this._element,this._name))}}function ql(t,e,n){Wl(t,"PlayState",n,zl(t,e))}function zl(t,e){const n=Kl(t,"");return n.indexOf(",")>0?Gl(n.split(","),e):Gl([n],e)}function Gl(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Yl(t,e,n){n?t.removeEventListener(Bl,e):t.addEventListener(Bl,e)}function Wl(t,e,n,i){const r=Vl+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Kl(t,e){return t.style[Vl+e]||""}class $l{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Hl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ru(this.element,n))})}this.currentSnapshot=t}}class Xl extends Fc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=su(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Jl{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return eu(t)}matchesElement(t,e){return nu(t,e)}containsElement(t,e){return iu(t,e)}query(t,e,n){return ru(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>su(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof $l),c={};Au(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Pu(t,e,c));if(0==n)return new Xl(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Nl(t,e),f=new $l(t,e,l,n,i,r,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Ql{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ru(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Zl{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(th().toString()),this._cssKeyframesDriver=new Jl}validateStyleProperty(t){return eu(t)}matchesElement(t,e){return nu(t,e)}containsElement(t,e){return iu(t,e)}query(t,e,n){return ru(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},u=s.filter(t=>t instanceof Ql);Au(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Nl(t,e=Pu(t,e=e.map(t=>_u(t,!1)),c));return new Ql(t,e,a,l)}}function th(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let eh=(()=>{class t extends kc{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Dc(t):t;return rh(this._renderer,null,e,"register",[n]),new nh(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.H),i.Yb(o))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class nh extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ih(this._id,t,e||{},this._renderer)}}class ih{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rh(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function rh(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const sh="@",oh="@.disabled";let ah=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ch("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new uh(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.H),i.Yb(Ll),i.Yb(i.B))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ch{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==sh&&e==oh?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uh extends ch{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==sh?"."==e.charAt(1)&&e==oh?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==sh){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=sh&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let lh=(()=>{class t extends Ll{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o),i.Yb(au),i.Yb(il))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const hh=new i.s("AnimationModuleType"),dh=[{provide:au,useFactory:function(){return"function"==typeof th()?new Zl:new Jl}},{provide:hh,useValue:"BrowserAnimations"},{provide:kc,useClass:eh},{provide:il,useFactory:function(){return new rl}},{provide:Ll,useClass:lh},{provide:i.H,useFactory:function(t,e,n){return new ah(t,e,n)},deps:[st,Ll,i.B]}];let fh=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:dh,imports:[vt]}),t})();function ph(t,e){if(1&t&&i.Pb(0,"mat-pseudo-checkbox",3),2&t){const t=i.fc();i.ic("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const mh=["*"],gh=new i.R("10.2.7"),bh=new i.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _h,yh=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(i.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&gh.full!==Ec.full&&console.warn("The Angular Material version ("+gh.full+") does not match the Angular CDK version ("+Ec.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)(i.Yb(Cc),i.Yb(bh,8),i.Yb(o,8))},imports:[[bs],bs]}),t})();function vh(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Sr(t)}}}function wh(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Th(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Sr(t)}}}function Sh(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?xr(t):this.defaultTabIndex}}}function xh(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new St.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{_h="undefined"!=typeof Intl}catch(JL){_h=!1}let Ch=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Eh{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kh={enterDuration:450,exitDuration:400},Oh=fs({passive:!0}),Ih=["mousedown","touchstart"],Ah=["mouseup","mouseleave","touchend","touchcancel"];class Ph{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Or(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},kh),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,c=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new Eh(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},kh),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Or(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ih))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ah),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=bc(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Oh)})})}_removeTriggerEvents(){this._triggerElement&&(Ih.forEach(t=>{this._triggerElement.removeEventListener(t,this,Oh)}),this._pointerUpEventsRegistered&&Ah.forEach(t=>{this._triggerElement.removeEventListener(t,this,Oh)}))}}const Dh=new i.s("mat-ripple-global-options");let Rh=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Ph(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.B),i.Ob(as),i.Ob(Dh,8),i.Ob(hh,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Uh=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[yh,cs],yh]}),t})(),Lh=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(hh,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Nh=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})();class Mh{}const jh=vh(Mh);let Fh=0,Vh=(()=>{class t extends jh{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Fh++}}return t.\u0275fac=function(e){return Bh(e||t)},t.\u0275dir=i.Jb({type:t,inputs:{label:"label"},features:[i.Ab]}),t})();const Bh=i.Wb(Vh),Hh=new i.s("MatOptgroup");let qh=0;class zh{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Gh=new i.s("MAT_OPTION_PARENT_COMPONENT");let Yh=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+qh++,this.onSelectionChange=new i.o,this._stateChanges=new St.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Sr(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||_a(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new zh(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(void 0),i.Ob(Vh))},t.\u0275dir=i.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Wh=(()=>{class t extends Yh{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(Gh,8),i.Ob(Hh,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Xb("id",e.id),i.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.Ab],ngContentSelectors:mh,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(i.hc(),i.tc(0,ph,1,2,"mat-pseudo-checkbox",0),i.Ub(1,"span",1),i.gc(2),i.Tb(),i.Pb(3,"div",2)),2&t&&(i.ic("ngIf",e.multiple),i.Db(3),i.ic("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[D,Rh,Lh],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Kh(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}let $h=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[Uh,F,Nh]]}),t})();const Xh=new i.s("mat-label-global-options");function Jh(t,e){}class Qh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Zh={dialogContainer:Ic("dialogContainer",[Uc("void, exit",Rc({opacity:0,transform:"scale(0.7)"})),Uc("enter",Rc({transform:"none"})),Lc("* => enter",Ac("150ms cubic-bezier(0, 0, 0.2, 1)",Rc({transform:"none",opacity:1}))),Lc("* => void, * => exit",Ac("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Rc({opacity:0})))])};let td=(()=>{class t extends da{constructor(t,e,n,r,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new i.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(fc),i.Ob(i.h),i.Ob(o,8),i.Ob(Qh),i.Ob(vc))},t.\u0275dir=i.Jb({type:t,viewQuery:function(t,e){if(1&t&&i.yc(pa,3),2&t){let t;i.lc(t=i.cc())&&(e._portalOutlet=t.first)}},features:[i.Ab]}),t})(),ed=(()=>{class t extends td{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return nd(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.rc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(i.Xb("id",e._id),i.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.sc("@dialogContainer",e._state))},features:[i.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.tc(0,Jh,0,0,"ng-template",0)},directives:[pa],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Zh.dialogContainer]}}),t})();const nd=i.Wb(ed);let id=0;class rd{constructor(t,e,n="mat-dialog-"+id++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new St.a,this._afterClosed=new St.a,this._beforeClosed=new St.a,this._state=0,e._id=n,e._animationStateChanged.pipe(re(t=>"opened"===t.state),Jt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(re(t=>"closed"===t.state),Jt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(re(t=>27===t.keyCode&&!this.disableClose&&!_a(t))).subscribe(t=>{t.preventDefault(),sd(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():sd(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(re(t=>"closing"===t.state),Jt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function sd(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const od=new i.s("MatDialogData"),ad=new i.s("mat-dialog-default-options"),cd=new i.s("mat-dialog-scroll-strategy"),ud={provide:cd,deps:[Ga],useFactory:function(t){return()=>t.scrollStrategies.block()}};let ld=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.a,this._afterOpenedAtThisLevel=new St.a,this._ariaHiddenElements=new Map,this.afterAllClosed=qt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(te(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Qh)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Ea({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=i.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Qh,useValue:e}]}),r=new ua(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const s=new this._dialogRefConstructor(n,e,r.id);if(t instanceof i.N)e.attachTemplatePortal(new la(t,null,{$implicit:r.data,dialogRef:s}));else{const n=this._createInjector(r,s,e),i=e.attachComponentPortal(new ua(t,r.viewContainerRef,n));s.componentInstance=i.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(gs,null)||s.push({provide:gs,useValue:{value:t.direction,change:Object(Tt.a)()}}),i.t.create({parent:r||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Ga),i.Ob(i.t),i.Ob(void 0),i.Ob(void 0),i.Ob(Ra),i.Ob(void 0),i.Ob(i.P),i.Ob(i.P),i.Ob(i.s))},t.\u0275dir=i.Jb({type:t}),t})(),hd=(()=>{class t extends ld{constructor(t,e,n,i,r,s,o){super(t,e,i,s,o,r,rd,ed,od)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Ga),i.Yb(i.t),i.Yb(w,8),i.Yb(ad,8),i.Yb(cd),i.Yb(t,12),i.Yb(Ra))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),dd=0,fd=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+dd++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(rd,8),i.Ob(i.l),i.Ob(hd))},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&i.Xb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),gd=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[hd,ud],imports:[[Ja,ma,yh],yh]}),t})(),bd=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(rd),i.Ob(od))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-error"]],decls:2,vars:1,template:function(t,e){1&t&&(i.Ub(0,"h3"),i.uc(1),i.Tb()),2&t&&(i.Db(1),i.vc(e.data))},styles:["h3[_ngcontent-%COMP%]{color:red;font-family:codefont}"]}),t})();var _d=n("z6cu"),yd=n("XoHu");function vd(...t){if(1===t.length){const e=t[0];if(Object(kt.a)(e))return wd(e,null);if(Object(yd.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return wd(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return wd(t=1===t.length&&Object(kt.a)(t[0])?t[0]:t,null).pipe(Object(Gt.a)(t=>e(...t)))}return wd(t,null)}function wd(t,e){return new Dt.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=Object(wt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}var Td=n("w1tV");class Sd{}class xd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Cd{encodeKey(t){return Ed(t)}encodeValue(t){return Ed(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ed(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class kd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Cd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new kd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Od(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Id(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ad(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Pd{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new xd),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new kd,this.urlWithParams=e}serializeBody(){return null===this.body?null:Od(this.body)||Id(this.body)||Ad(this.body)||"string"==typeof this.body?this.body:this.body instanceof kd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ad(this.body)?null:Id(this.body)?this.body.type||null:Od(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Pd(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Dd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Rd extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new xd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Dd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Rd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Ud(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ld=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Pd)i=t;else{let r,s;r=n.headers instanceof xd?n.headers:new xd(n.headers),n.params&&(s=n.params instanceof kd?n.params:new kd({fromObject:n.params})),i=new Pd(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(Tt.a)(i).pipe(he(t=>this.handler.handle(t)));if(t instanceof Pd||"events"===n.observe)return r;const s=r.pipe(re(t=>t instanceof Rd));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(Gt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Gt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Gt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Gt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new kd).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ud(n,e))}post(t,e,n={}){return this.request("POST",t,Ud(n,e))}put(t,e,n={}){return this.request("PUT",t,Ud(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Sd))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const Nd=["*"];function Md(t){return Error(`Unable to find icon with the name "${t}"`)}function jd(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Fd(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Vd{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Bd=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new Vd(n,null,i))}addSvgIconLiteralInNamespace(t,e,n,r){const s=this._sanitizer.sanitize(i.K.HTML,n);if(!s)throw Fd(n);return this._addSvgIconConfig(t,e,new Vd("",s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Vd(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.K.HTML,e);if(!r)throw Fd(e);return this._addSvgIconSetConfig(t,new Vd("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.K.RESOURCE_URL,t);if(!e)throw jd(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Tt.a)(Hd(n)):this._loadSvgIconFromConfig(new Vd(t,null)).pipe(Object(xe.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Gt.a)(t=>Hd(t)))}getNamedSvgIcon(t,e=""){const n=qd(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(_d.a)(Md(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Tt.a)(Hd(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Gt.a)(t=>Hd(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Tt.a)(n):vd(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ae(e=>{const n=this._sanitizer.sanitize(i.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Tt.a)(null)})))).pipe(Object(Gt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Md(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(xe.a)(e=>t.svgText=e),Object(Gt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Tt.a)(null):this._fetchIcon(t).pipe(Object(xe.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,s=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.K.RESOURCE_URL,n);if(!o)throw jd(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ke(()=>this._inProgressUrlFetches.delete(o)),Object(Td.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(qd(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Ld,8),i.Yb(mt),i.Yb(o,8),i.Yb(i.n))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(Ld,8),Object(i.Yb)(mt),Object(i.Yb)(o,8),Object(i.Yb)(i.n))},token:t,providedIn:"root"}),t})();function Hd(t){return t.cloneNode(!0)}function qd(t,e){return t+":"+e}class zd{constructor(t){this._elementRef=t}}const Gd=wh(zd),Yd=new i.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Wd=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Kd=Wd.map(t=>`[${t}]`).join(", "),$d=/^url\(['"]?#(.*?)['"]?\)$/;let Xd=(()=>{class t extends Gd{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Ee.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Sr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Kd),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Wd.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match($d):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Jt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(Bd),i.Zb("aria-hidden"),i.Ob(Yd),i.Ob(i.n))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.Ab],ngContentSelectors:Nd,decls:1,vars:0,template:function(t,e){1&t&&(i.hc(),i.gc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Jd=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[yh],yh]}),t})();const Qd=["underline"],Zd=["connectionContainer"],tf=["inputContainer"],ef=["label"];function nf(t,e){1&t&&(i.Sb(0),i.Ub(1,"div",14),i.Pb(2,"div",15),i.Pb(3,"div",16),i.Pb(4,"div",17),i.Tb(),i.Ub(5,"div",18),i.Pb(6,"div",15),i.Pb(7,"div",16),i.Pb(8,"div",17),i.Tb(),i.Rb())}function rf(t,e){1&t&&(i.Ub(0,"div",19),i.gc(1,1),i.Tb())}function sf(t,e){if(1&t&&(i.Sb(0),i.gc(1,2),i.Ub(2,"span"),i.uc(3),i.Tb(),i.Rb()),2&t){const t=i.fc(2);i.Db(3),i.vc(t._control.placeholder)}}function of(t,e){1&t&&i.gc(0,3,["*ngSwitchCase","true"])}function af(t,e){1&t&&(i.Ub(0,"span",23),i.uc(1," *"),i.Tb())}function cf(t,e){if(1&t){const t=i.Vb();i.Ub(0,"label",20,21),i.bc("cdkObserveContent",function(){return i.nc(t),i.fc().updateOutlineGap()}),i.tc(2,sf,4,1,"ng-container",12),i.tc(3,of,1,0,"ng-content",12),i.tc(4,af,2,0,"span",22),i.Tb()}if(2&t){const t=i.fc();i.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.ic("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.Eb("for",t._control.id)("aria-owns",t._control.id),i.Db(2),i.ic("ngSwitchCase",!1),i.Db(1),i.ic("ngSwitchCase",!0),i.Db(1),i.ic("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function uf(t,e){1&t&&(i.Ub(0,"div",24),i.gc(1,4),i.Tb())}function lf(t,e){if(1&t&&(i.Ub(0,"div",25,26),i.Pb(2,"span",27),i.Tb()),2&t){const t=i.fc();i.Db(2),i.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function hf(t,e){if(1&t&&(i.Ub(0,"div"),i.gc(1,5),i.Tb()),2&t){const t=i.fc();i.ic("@transitionMessages",t._subscriptAnimationState)}}function df(t,e){if(1&t&&(i.Ub(0,"div",31),i.uc(1),i.Tb()),2&t){const t=i.fc(2);i.ic("id",t._hintLabelId),i.Db(1),i.vc(t.hintLabel)}}function ff(t,e){if(1&t&&(i.Ub(0,"div",28),i.tc(1,df,2,2,"div",29),i.gc(2,6),i.Pb(3,"div",30),i.gc(4,7),i.Tb()),2&t){const t=i.fc();i.ic("@transitionMessages",t._subscriptAnimationState),i.Db(1),i.ic("ngIf",t.hintLabel)}}const pf=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mf=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],gf=new i.s("MatError"),bf={transitionMessages:Ic("transitionMessages",[Uc("enter",Rc({opacity:1,transform:"translateY(0%)"})),Lc("void => enter",[Rc({opacity:0,transform:"translateY(-100%)"}),Ac("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t}),t})();const yf=new i.s("MatHint");let vf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-label"]]}),t})(),wf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const Tf=new i.s("MatPrefix"),Sf=new i.s("MatSuffix");let xf=0;class Cf{constructor(t){this._elementRef=t}}const Ef=wh(Cf,"primary"),kf=new i.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Of=new i.s("MatFormField");let If=(()=>{class t extends Ef{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+xf++,this._labelId="mat-form-field-label-"+xf++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Sr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(te(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Wr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Os.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(te(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(te(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ar(this._label.nativeElement,"transitionend").pipe(Jt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(Xh,8),i.Ob(gs,8),i.Ob(kf,8),i.Ob(as),i.Ob(i.B),i.Ob(hh,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,_f,1),i.Hb(n,_f,3),i.Hb(n,vf,1),i.Hb(n,vf,3),i.Hb(n,wf,1),i.Hb(n,gf,1),i.Hb(n,yf,1),i.Hb(n,Tf,1),i.Hb(n,Sf,1)),2&t){let t;i.lc(t=i.cc())&&(e._controlNonStatic=t.first),i.lc(t=i.cc())&&(e._controlStatic=t.first),i.lc(t=i.cc())&&(e._labelChildNonStatic=t.first),i.lc(t=i.cc())&&(e._labelChildStatic=t.first),i.lc(t=i.cc())&&(e._placeholderChild=t.first),i.lc(t=i.cc())&&(e._errorChildren=t),i.lc(t=i.cc())&&(e._hintChildren=t),i.lc(t=i.cc())&&(e._prefixChildren=t),i.lc(t=i.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(i.yc(Qd,1),i.yc(Zd,3),i.yc(tf,1),i.yc(ef,1)),2&t){let t;i.lc(t=i.cc())&&(e.underlineRef=t.first),i.lc(t=i.cc())&&(e._connectionContainerRef=t.first),i.lc(t=i.cc())&&(e._inputContainerRef=t.first),i.lc(t=i.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.Cb([{provide:Of,useExisting:t}]),i.Ab],ngContentSelectors:mf,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.hc(pf),i.Ub(0,"div",0),i.Ub(1,"div",1,2),i.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.tc(3,nf,9,0,"ng-container",3),i.tc(4,rf,2,0,"div",4),i.Ub(5,"div",5,6),i.gc(7),i.Ub(8,"span",7),i.tc(9,cf,5,16,"label",8),i.Tb(),i.Tb(),i.tc(10,uf,2,0,"div",9),i.Tb(),i.tc(11,lf,3,4,"div",10),i.Ub(12,"div",11),i.tc(13,hf,2,1,"div",12),i.tc(14,ff,5,2,"div",13),i.Tb(),i.Tb()),2&t&&(i.Db(3),i.ic("ngIf","outline"==e.appearance),i.Db(1),i.ic("ngIf",e._prefixChildren.length),i.Db(5),i.ic("ngIf",e._hasFloatingLabel()),i.Db(1),i.ic("ngIf",e._suffixChildren.length),i.Db(1),i.ic("ngIf","outline"!=e.appearance),i.Db(1),i.ic("ngSwitch",e._getDisplayedMessages()),i.Db(1),i.ic("ngSwitchCase","error"),i.Db(1),i.ic("ngSwitchCase","hint"))},directives:[D,N,M,rc],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bf.transitionMessages]},changeDetection:0}),t})(),Af=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[F,yh,sc],yh]}),t})();const Pf=fs({passive:!0});let Df=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ht.a;const e=Or(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new St.a,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Pf),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,Pf)}}),i}stopMonitoring(t){const e=Or(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(as),i.Yb(i.B))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(as),Object(i.Yb)(i.B))},token:t,providedIn:"root"}),t})(),Rf=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[cs]]}),t})();const Uf=new i.s("NgValueAccessor"),Lf={provide:Uf,useExisting:Object(i.W)(()=>Nf),multi:!0};let Nf=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.Cb([Lf])]}),t})();const Mf={provide:Uf,useExisting:Object(i.W)(()=>Ff),multi:!0},jf=new i.s("CompositionEventMode");let Ff=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l),i.Ob(jf,8))},t.\u0275dir=i.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.Cb([Mf])]}),t})();function Vf(t){return null==t||0===t.length}function Bf(t){return null!=t&&"number"==typeof t.length}const Hf=new i.s("NgValidators"),qf=new i.s("NgAsyncValidators"),zf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gf{static min(t){return e=>{if(Vf(e.value)||Vf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Vf(e.value)||Vf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Vf(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Vf(t.value)||zf.test(t.value)?null:{email:!0}}static minLength(t){return e=>Vf(e.value)||!Bf(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Bf(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Gf.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Vf(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Yf);return 0==e.length?null:function(t){return Kf($f(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Yf);return 0==e.length?null:function(t){return vd($f(t,e).map(Wf)).pipe(Object(Gt.a)(Kf))}}}function Yf(t){return null!=t}function Wf(t){const e=Object(i.ub)(t)?Object(wt.a)(t):t;return Object(i.tb)(e),e}function Kf(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $f(t,e){return e.map(e=>e(t))}function Xf(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Jf(t){return null!=t?Gf.compose(Xf(t)):null}function Qf(t){return null!=t?Gf.composeAsync(Xf(t)):null}function Zf(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tp(t){return t._rawValidators}function ep(t){return t._rawAsyncValidators}let np=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t}),t})(),ip=(()=>{class t extends np{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return rp(e||t)},t.\u0275dir=i.Jb({type:t,features:[i.Ab]}),t})();const rp=i.Wb(ip);class sp extends np{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let op=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(sp,2))},t.\u0275dir=i.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.Ab]}),t})();const ap={provide:Uf,useExisting:Object(i.W)(()=>cp),multi:!0};let cp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.Cb([ap])]}),t})();const up={provide:Uf,useExisting:Object(i.W)(()=>hp),multi:!0};let lp=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),hp=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(sp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l),i.Ob(lp),i.Ob(i.t))},t.\u0275dir=i.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Cb([up])]}),t})();const dp={provide:Uf,useExisting:Object(i.W)(()=>fp),multi:!0};let fp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.Cb([dp])]}),t})();const pp={provide:Uf,useExisting:Object(i.W)(()=>mp),multi:!0};let mp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cb([pp])]}),t})();const gp={provide:Uf,useExisting:Object(i.W)(()=>bp),multi:!0};let bp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.G),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cb([gp])]}),t})();function _p(t,e){wp(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Sp(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Sp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yp(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Tp(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vp(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wp(t,e,n){const i=tp(t);null!==e.validator?t.setValidators(Zf(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=ep(t);if(null!==e.asyncValidator?t.setAsyncValidators(Zf(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();vp(e._rawValidators,n),vp(e._rawAsyncValidators,n)}}function Tp(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=tp(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=ep(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};vp(e._rawValidators,t),vp(e._rawAsyncValidators,t)}return i}function Sp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xp(t,e){wp(t,e,!1)}const Cp=[Nf,fp,cp,mp,bp,hp];function Ep(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Op="VALID",Ip="INVALID",Ap="PENDING",Pp="DISABLED";function Dp(t){return(Np(t)?t.validators:t)||null}function Rp(t){return Array.isArray(t)?Jf(t):t||null}function Up(t,e){return(Np(e)?e.asyncValidators:t)||null}function Lp(t){return Array.isArray(t)?Qf(t):t||null}function Np(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Mp{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rp(this._rawValidators),this._composedAsyncValidatorFn=Lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Op}get invalid(){return this.status===Ip}get pending(){return this.status==Ap}get disabled(){return this.status===Pp}get enabled(){return this.status!==Pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rp(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Lp(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ap,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pp,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Op,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Op&&this.status!==Ap||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pp:Op}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ap,this._hasOwnPendingAsyncValidator=!0;const e=Wf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Fp?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Vp&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.o,this.statusChanges=new i.o}_calculateStatus(){return this._allControlsDisabled()?Pp:this.errors?Ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ap)?Ap:this._anyControlsHaveStatus(Ip)?Ip:Op}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Np(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jp extends Mp{constructor(t=null,e,n){super(Dp(e),Up(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kp(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kp(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Fp extends Mp{constructor(t,e,n){super(Dp(e),Up(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof jp?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Vp extends Mp{constructor(t,e,n){super(Dp(e),Up(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof jp?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Bp={provide:ip,useExisting:Object(i.W)(()=>qp)},Hp=(()=>Promise.resolve(null))();let qp=(()=>{class t extends ip{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.o,this.form=new Fp({},Jf(t),Qf(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hp.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),_p(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),kp(this._directives,t)})}addFormGroup(t){Hp.then(()=>{const e=this._findContainer(t.path),n=new Fp({});xp(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Hp.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ep(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Hf,10),i.Ob(qf,10))},t.\u0275dir=i.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cb([Bp]),i.Ab]}),t})();const zp={provide:sp,useExisting:Object(i.W)(()=>Yp)},Gp=(()=>Promise.resolve(null))();let Yp=(()=>{class t extends sp{constructor(t,e,n,r){super(),this.control=new jp,this._registered=!1,this.update=new i.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Ff?n=t:(e=t,Cp.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_p(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Gp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Gp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(ip,9),i.Ob(Hf,10),i.Ob(qf,10),i.Ob(Uf,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Cb([zp]),i.Ab,i.Bb]}),t})();const Wp={provide:ip,useExisting:Object(i.W)(()=>Kp)};let Kp=(()=>{class t extends ip{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tp(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return _p(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){yp(t.control||null,t,!1),kp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Ep(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(yp(t.control||null,t),e&&_p(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);xp(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Tp(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wp(this.form,this,!1),this._oldForm&&Tp(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Hf,10),i.Ob(qf,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cb([Wp]),i.Ab,i.Bb]}),t})(),$p=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})(),Xp=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[lp],imports:[$p]}),t})();const Jp=new i.s("MAT_INPUT_VALUE_ACCESSOR"),Qp=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Zp=0;class tm{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const em=xh(tm);let nm=(()=>{class t extends em{constructor(t,e,n,i,r,s,o,a,c,u){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+Zp++,this.focused=!1,this.stateChanges=new St.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ls().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Sr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Sr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ls().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Sr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Qp.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(as),i.Ob(sp,10),i.Ob(qp,8),i.Ob(Kp,8),i.Ob(Ch),i.Ob(Jp,10),i.Ob(Df),i.Ob(i.B),i.Ob(Of,8))},t.\u0275dir=i.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Xb("disabled",e.disabled)("required",e.required),i.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),i.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.Cb([{provide:_f,useExisting:t}]),i.Ab,i.Bb]}),t})(),im=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[Ch],imports:[[Rf,Af],Rf,Af]}),t})(),rm=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}cancel(){this.data.cancelled=!0,this.dialogRef.close()}enter(){""!==this.data.name&&this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(rd),i.Ob(od))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-set-name"]],decls:8,vars:1,consts:[["id","cancel",3,"click"],["appearance","fill","id","field",3,"keydown.enter"],["matInput","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(i.Ub(0,"mat-icon",0),i.bc("click",function(){return e.cancel()}),i.uc(1,"close"),i.Tb(),i.Ub(2,"h3"),i.uc(3,"Enter a name to save this formation and code under:"),i.Tb(),i.Ub(4,"mat-form-field",1),i.bc("keydown.enter",function(){return e.enter()}),i.Ub(5,"mat-label"),i.uc(6,"Input"),i.Tb(),i.Ub(7,"input",2),i.bc("ngModelChange",function(t){return e.data.name=t}),i.Tb(),i.Tb()),2&t&&(i.Db(7),i.ic("ngModel",e.data.name))},directives:[Xd,If,vf,nm,Ff,op,Yp],styles:["h3[_ngcontent-%COMP%]{font-family:codefont;margin-top:30px}#field[_ngcontent-%COMP%]{display:block;margin:0 auto}#cancel[_ngcontent-%COMP%]{float:left;position:relative;bottom:15px;right:15px}"]}),t})(),sm=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(rd),i.Ob(od))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-info"]],decls:2,vars:1,template:function(t,e){1&t&&(i.Ub(0,"p"),i.uc(1),i.Tb()),2&t&&(i.Db(1),i.vc(e.data))},styles:["p[_ngcontent-%COMP%]{font-family:Roboto;color:#2cdd3e;font-size:13px}"]}),t})(),om=(()=>{class t{constructor(t){this.blockService=t}compileToExecutableCode(t){let e=[],n=0;for(let i=0;i<t.length;i++){if(this.blockService.isExecutable(t[i]))e.push(t[i].execute),n+=1;else if(t[i].getLabel()===Ao.label){let r=this.createConditionalFunction(i,t,n);i=r[0],e.push(r[1])}else{if(t[i].getLabel()===Po.label)throw new Error(am.ELSE_IF_WITHOUT_IF(i+1));if(this.blockService.isTerminal(t[i])&&t[i].getLabel()!==xo.label&&t[i].getLabel()!==So.label)throw t[i].getLabel()===ko.label?new Error(am.ELSE_WITHOUT_IF(i+1)):new Error(am.ADDED_TERMINAL_WITHOUT_SEQUENCE(i+1))}if(n>1)throw new Error(am.ONLY_ONE_ACTION())}return e}serializeBlocks(t){let e=[];for(let n of t)if(this.blockService.isConditional(n))if(n.condition.getId()!==Yo.id)e.push(String(n.getId()+"_"+n.condition.getId()));else{let t=n,i=n.getId()+"_"+(t.conditions[0].negate?"!":"")+t.conditions[0].getId();for(let e=1;e<t.conditions.length;e++){let n=t.conditions[e];i+=n.conjunction+(n.negate?"!":"")+n.getId()}e.push(i)}else e.push(String(n.getId()));return e}deserializeToBlocks(t){let e=[];console.log("HELLO");for(let n of t)if(n.includes("_")){let t=n.split("_"),i=this.blockService.getById(t[0]);if(i.conditions=[],t[1].includes("&")||t[1].includes("|")){let n=-1,r=t[1],s=0;for(;-1!==s;){let t=r.indexOf("&",n+1),e=r.indexOf("|",n+1);s=-1!==e?t<e&&-1!==t?t:e:-1!==t?t:-1;let o=-1!==n?r[n]:"",a=r.slice(n+1,-1!==s?s:r.length),c=!1;n=s,"!"===a.charAt(0)&&(c=!0,a=a.slice(1,a.length));let u=this.blockService.getById(a);u.negate=c,u.conjunction=o,i.conditions.push(u)}e.push(i)}else i.conditions.push(this.blockService.getById(t[1])),e.push(i);i.getId()!==ko.id&&this.compileConditions(i,0)}else e.push(this.blockService.getById(n));return e}createConditionalFunction(t,e,n){this.compileConditions(e[t],t);let i=e[t].condition,r=n,s=0,o=t,a=!1,c=e[t].terminal_blocks,u=[],l=[];t++;let h=[];for(;!c.includes(e[t].getLabel());){if(e[t].getLabel()===So.label)throw new Error(am.CONDITIONAL_NOT_CLOSED(o+1));if(e[t].getLabel()===Ao.label){let n=this.createConditionalFunction(t,e,s+r);t=n[0],h.push(n[1]),t++}else if(e[t].getLabel()===Po.label){this.compileConditions(e[t],t);let n=this.parseElseIfOrElse(t,e,r);u.push([n[1],n[2]]),t=n[0]}else if(e[t].getLabel()===ko.label){let n=this.parseElseIfOrElse(t,e,r);l=n[2],t=n[0],a=!0}else h.push(e[t].execute),t++,s++;if(r+s>1)throw new Error(am.ONLY_ONE_ACTION())}if(0===u.length&&e[t].getLabel()===Oo.label)throw new Error(am.CONDITIONAL_NOT_CLOSED(t+1));if(!a&&e[t].getLabel()===Co.label)throw new Error(am.CONDITIONAL_NOT_CLOSED(t+1));return[t,(t,e)=>{if(i.evaluation(t,e))return h[0](t,e);{let n=0;for(;n<u.length;){if(u[n][0].evaluation(t,e))return u[n][1][0](t,e);n++}if(n===u.length&&0!==l.length)return l[0](t,e)}}]}parseElseIfOrElse(t,e,n){let i=null,r=n,s=0,o=t;e[t].getLabel()===Po.label&&(i=e[t].condition);let a=[],c=e[t].terminal_blocks;for(t++;!c.includes(e[t].getLabel());){if(e[t].getLabel()===So.label)throw new Error(am.CONDITIONAL_NOT_CLOSED(o+1));if(e[t].getLabel()===Ao.label){let n=this.createConditionalFunction(t,e,s+r);t=n[0],a.push(n[1])}else a.push(e[t].execute),t++,s++}if(s+r>1)throw new Error(am.ONLY_ONE_ACTION());return[t,i,a]}compileConditions(t,e){for(let n=0;n<t.conditions.length;n++)if(t.conditions[n].getLabel()===Eo.label)throw new Error(am.MISSING_CONDITIONS(e+1));t.condition=this.convertToSingleCondition(t.conditions,0,e)}convertToSingleCondition(t,e=0,n){if(1===t.length)return t[0];let i=[t[e]],r=e+1;for(;r<t.length&&"&"===t[r].conjunction;)i.push(t[r]),r++;console.log(i);let s=(t,e)=>{for(let n of i)if(n.negate){if(n.evaluation(t,e))return!1}else if(!n.evaluation(t,e))return!1;return!0};if(r<t.length){if("|"!==t[r].conjunction)throw new Error(am.NO_CONJUNCTION_SPECIFIED(n+1));{let e=s;s=(i,s)=>e(i,s)||this.convertToSingleCondition(t,r,n).evaluation(i,s)}}let o=new Yo;return o.evaluation=s,o}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Jo))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),am=(()=>{class t{}return t.ELSE_WITHOUT_IF=function(t){return`Else without If at block ${t}`},t.MISSING_CONDITIONS=function(t){return`Conditional Block is missing a condition at block ${t}`},t.ONLY_ONE_ACTION=function(){return"Only one action allowed per turn"},t.CONDITIONAL_NOT_CLOSED=function(t){return`Conditional not closed properly for block ${t}`},t.ELSE_IF_WITHOUT_IF=function(t){return`Else if without if at block ${t}`},t.ADDED_TERMINAL_WITHOUT_SEQUENCE=function(t){return`Added terminal block without sequence to terminate at block ${t}`},t.SOMETHING_WENT_WRONG=function(){return"Something probably went wrong on our end! Please send a bug report."},t.NO_CONJUNCTION_SPECIFIED=function(t){return`AND or OR not specified for a conditional block at block ${t}`},t})();var cm=n("spgP"),um=n("Jgta"),lm=n("zIRd"),hm=n("q/0M"),dm=n("qOnz"),fm=function(t,e){return(fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function pm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var mm,gm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bm=bm||{},_m=gm||self;function ym(){}function vm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Tm="closure_uid_"+(1e9*Math.random()>>>0),Sm=0;function xm(t,e,n){return t.call.apply(t.bind,arguments)}function Cm(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Em(t,e,n){return(Em=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xm:Cm).apply(null,arguments)}function km(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Om(){return Date.now()}function Im(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Am(){this.j=this.j,this.i=this.i}Am.prototype.j=!1,Am.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Tm)&&t[Tm]||(t[Tm]=++Sm)}(this)},Am.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Pm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Dm=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function Rm(t){return Array.prototype.concat.apply([],arguments)}function Um(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Lm(t){return/^[\s\xa0]*$/.test(t)}var Nm,Mm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jm(t,e){return-1!=t.indexOf(e)}function Fm(t,e){return t<e?-1:t>e?1:0}t:{var Vm=_m.navigator;if(Vm){var Bm=Vm.userAgent;if(Bm){Nm=Bm;break t}}Nm=""}function Hm(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function qm(t){var e={};for(var n in t)e[n]=t[n];return e}var zm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gm(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<zm.length;s++)n=zm[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ym(t){return Ym[" "](t),t}Ym[" "]=ym;var Wm,Km,$m=jm(Nm,"Opera"),Xm=jm(Nm,"Trident")||jm(Nm,"MSIE"),Jm=jm(Nm,"Edge"),Qm=Jm||Xm,Zm=jm(Nm,"Gecko")&&!(jm(Nm.toLowerCase(),"webkit")&&!jm(Nm,"Edge"))&&!(jm(Nm,"Trident")||jm(Nm,"MSIE"))&&!jm(Nm,"Edge"),tg=jm(Nm.toLowerCase(),"webkit")&&!jm(Nm,"Edge");function eg(){var t=_m.document;return t?t.documentMode:void 0}t:{var ng="",ig=(Km=Nm,Zm?/rv:([^\);]+)(\)|;)/.exec(Km):Jm?/Edge\/([\d\.]+)/.exec(Km):Xm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Km):tg?/WebKit\/(\S+)/.exec(Km):$m?/(?:Version)[ \/]?(\S+)/.exec(Km):void 0);if(ig&&(ng=ig?ig[1]:""),Xm){var rg=eg();if(null!=rg&&rg>parseFloat(ng)){Wm=String(rg);break t}}Wm=ng}var sg={};function og(t){return function(t,e){var n=sg;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Mm(String(Wm)).split("."),i=Mm(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Fm(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Fm(0==o[2].length,0==a[2].length)||Fm(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ag=_m.document&&Xm&&(eg()||parseInt(Wm,10))||void 0,cg=!Xm||9<=Number(ag),ug=Xm&&!og("9"),lg=function(){if(!_m.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_m.addEventListener("test",ym,e),_m.removeEventListener("test",ym,e)}catch(n){}return t}();function hg(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function dg(t,e){if(hg.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Zm){t:{try{Ym(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fg[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}hg.prototype.b=function(){this.defaultPrevented=!0},Im(dg,hg);var fg={2:"touch",3:"pen",4:"mouse"};dg.prototype.b=function(){dg.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ug)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var pg="closure_listenable_"+(1e6*Math.random()|0),mg=0;function gg(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++mg,this.Y=this.Z=!1}function bg(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _g(t){this.src=t,this.a={},this.b=0}function yg(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=Pm(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(bg(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vg(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==i)return r}return-1}_g.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=vg(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new gg(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var wg="closure_lm_"+(1e6*Math.random()|0),Tg={};function Sg(t,e,n,i,r){if(i&&i.once)return Cg(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sg(t,e[s],n,i,r);return null}return n=Rg(n),t&&t[pg]?t.va(e,n,wm(i)?!!i.capture:!!i,r):xg(t,e,n,!1,i,r)}function xg(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=wm(r)?!!r.capture:!!r;if(o&&!cg)return null;var a=Pg(t);if(a||(t[wg]=a=new _g(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=Ag,e=cg?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)lg||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Og(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Cg(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cg(t,e[s],n,i,r);return null}return n=Rg(n),t&&t[pg]?t.wa(e,n,wm(i)?!!i.capture:!!i,r):xg(t,e,n,!0,i,r)}function Eg(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Eg(t,e[s],n,i,r);else i=wm(i)?!!i.capture:!!i,n=Rg(n),t&&t[pg]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=vg(s=t.a[e],n,i,r))&&(bg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Pg(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vg(e,n,i,r)),(n=-1<t?e[t]:null)&&kg(n))}function kg(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[pg])yg(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Og(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Pg(e))?(yg(n,t),0==n.b&&(n.src=null,e[wg]=null)):bg(t)}}}function Og(t){return t in Tg?Tg[t]:Tg[t]="on"+t}function Ig(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&kg(t),n.call(i,e)}function Ag(t,e){if(t.Y)return!0;if(!cg){if(!e)t:{e=["window","event"];for(var n=_m,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return Ig(t,e=new dg(e,this))}return Ig(t,new dg(e,this))}function Pg(t){return(t=t[wg])instanceof _g?t:null}var Dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rg(t){return"function"==typeof t?t:(t[Dg]||(t[Dg]=function(e){return t.handleEvent(e)}),t[Dg])}function Ug(){Am.call(this),this.c=new _g(this),this.J=this,this.C=null}function Lg(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new hg(e,t);else if(e instanceof hg)e.target=e.target||t;else{var r=e;Gm(e=new hg(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];r=Ng(o,i,!0,e)&&r}if(r=Ng(o=e.a=t,i,!0,e)&&r,r=Ng(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=Ng(o=e.a=n[s],i,!1,e)&&r}function Ng(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&yg(t.c,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Im(Ug,Am),Ug.prototype[pg]=!0,(mm=Ug.prototype).addEventListener=function(t,e,n,i){Sg(this,t,e,n,i)},mm.removeEventListener=function(t,e,n,i){Eg(this,t,e,n,i)},mm.G=function(){if(Ug.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)bg(n[i]);delete e.a[t],e.b--}}this.C=null},mm.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},mm.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Mg=_m.JSON.stringify;function jg(){this.b=this.a=null}var Fg,Vg=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Hg},function(t){t.reset()});function Bg(){var t=Yg,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Hg(){this.next=this.b=this.a=null}function qg(t){_m.setTimeout(function(){throw t},0)}function zg(t,e){Fg||function(){var t=_m.Promise.resolve(void 0);Fg=function(){t.then(Wg)}}(),Gg||(Fg(),Gg=!0),Yg.add(t,e)}jg.prototype.add=function(t,e){var n=Vg.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Hg.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Hg.prototype.reset=function(){this.next=this.b=this.a=null};var Gg=!1,Yg=new jg;function Wg(){for(var t;t=Bg();){try{t.a.call(t.b)}catch(n){qg(n)}var e=Vg;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gg=!1}function Kg(t,e){Ug.call(this),this.b=t||1,this.a=e||_m,this.f=Em(this.Za,this),this.g=Om()}function $g(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Xg(t,e,n){if("function"==typeof t)n&&(t=Em(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Em(t.handleEvent,t)}return 2147483647<Number(e)?-1:_m.setTimeout(t,e||0)}function Jg(t){t.a=Xg(function(){t.a=null,t.c&&(t.c=!1,Jg(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Im(Kg,Ug),(mm=Kg.prototype).aa=!1,mm.M=null,mm.Za=function(){if(this.aa){var t=Om()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Lg(this,"tick"),this.aa&&($g(this),this.start()))}},mm.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Om())},mm.G=function(){Kg.X.G.call(this),$g(this),delete this.a};var Qg=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}fm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Jg(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_m.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Am);function Zg(t){Am.call(this),this.b=t,this.a={}}Im(Zg,Am);var tb=[];function eb(t,e,n,i){Array.isArray(n)||(n&&(tb[0]=n.toString()),n=tb);for(var r=0;r<n.length;r++){var s=Sg(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function nb(t){Hm(t.a,function(t,e){this.a.hasOwnProperty(e)&&kg(t)},t),t.a={}}function ib(){this.a=!0}function rb(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Mg(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}Zg.prototype.G=function(){Zg.X.G.call(this),nb(this)},Zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ib.prototype.info=function(){};var sb={},ob=null;function ab(){return ob=ob||new Ug}function cb(t){hg.call(this,sb.Fa,t)}function ub(t){var e=ab();Lg(e,new cb(e,t))}function lb(t,e){hg.call(this,sb.STAT_EVENT,t),this.stat=e}function hb(t){var e=ab();Lg(e,new lb(e,t))}function db(t){hg.call(this,sb.Ga,t)}function fb(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _m.setTimeout(function(){t()},e)}sb.Fa="serverreachability",Im(cb,hg),sb.STAT_EVENT="statevent",Im(lb,hg),sb.Ga="timingevent",Im(db,hg);var pb={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},mb={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function gb(){}function bb(){}gb.prototype.a=null;var _b,yb={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vb(){hg.call(this,"d")}function wb(){hg.call(this,"c")}function Tb(){}function Sb(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new Zg(this),this.P=xb,this.R=new Kg(t=Qm?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Im(vb,hg),Im(wb,hg),Im(Tb,gb),_b=new Tb;var xb=45e3,Cb={},Eb={};function kb(t,e,n){t.H=1,t.i=$b(qb(e)),t.j=n,t.I=!0,Ob(t,null)}function Ob(t,e){t.u=Om(),Pb(t),t.l=qb(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),c_(n.b,"t",i),t.D=0,t.a=ny(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qg(Em(t.Ca,t,t.a),t.O)),eb(t.J,t.a,"readystatechange",t.Xa),e=t.B?qm(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ub(1),function(t,e,n,i,r,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ib(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=Ab(t,n);if(r==Eb){4==e&&(t.h=4,hb(14),i=!1),rb(t.c,t.f,null,"[Incomplete Response]");break}if(r==Cb){t.h=4,hb(15),rb(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}rb(t.c,t.f,r,null),Nb(t,r)}4==e&&0==n.length&&(t.h=1,hb(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),K_(e),e.F=!0,hb(11))):(rb(t.c,t.f,n,"[Invalid Chunked Response]"),Lb(t),Ub(t))}function Ab(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?Eb:(n=Number(e.substring(n,i)),isNaN(n)?Cb:(i+=1)+n>e.length?Eb:(e=e.substr(i,n),t.D=i+n,e))}function Pb(t){t.T=Om()+t.P,Db(t,t.P)}function Db(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=fb(Em(t.Va,t),e)}function Rb(t){t.o&&(_m.clearTimeout(t.o),t.o=null)}function Ub(t){0==t.g.v||t.A||J_(t.g,t)}function Lb(t){Rb(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$g(t.R),nb(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Nb(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||m_(n.b,t)))if(n.I=t.N,!t.C&&m_(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(VO){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;X_(n),F_(n)}W_(n),hb(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=fb(Em(n.Sa,n),6e3));if(1>=p_(n.b)&&n.ea){try{n.ea()}catch(VO){}n.ea=void 0}}else Z_(n,11)}else if((t.C||n.a==t)&&X_(n),!Lm(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var s=r[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=r[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(jm(l,"spdy")||jm(l,"quic")||jm(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(g_(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Kb(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Om()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=ey(c,c.C?c.ga:null,c.fa),f.C){b_(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Rb(p),Pb(p)),c.a=f}else Y_(c);0<n.g.length&&H_(n)}else"stop"!=r[0]&&"close"!=r[0]||Z_(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Z_(n,7):j_(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);ub(4)}catch(VO){}}function Mb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vm(t)||"string"==typeof t)Dm(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(vm(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(vm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function jb(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof jb)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Fb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Vb(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Vb(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Vb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(mm=Sb.prototype).setTimeout=function(t){this.P=t},mm.Xa=function(t){t=t.target;var e=this.F;e&&3==U_(t)?e.f():this.Ca(t)},mm.Ca=function(t){try{if(t==this.a)t:{var e=U_(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!Qm&&!this.a.$())){this.A||4!=e||7==n||ub(8==n||0>=i?3:2),Rb(this);var r=this.a.W();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lm(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,hb(12),Lb(this),Ub(this);break t}rb(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Nb(this,c)}this.I?(Ib(this,e,s),Qm&&this.b&&3==e&&(eb(this.J,this.R,"tick",this.Wa),this.R.start())):(rb(this.c,this.f,s,null),Nb(this,s)),4==e&&Lb(this),this.b&&!this.A&&(4==e?J_(this.g,this):(this.b=!1,Pb(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,hb(12)):(this.h=0,hb(13)),Lb(this),Ub(this)}}}catch(u){}},mm.Wa=function(){if(this.a){var t=U_(this.a),e=this.a.$();this.D<e.length&&(Rb(this),Ib(this,t,e),this.b&&4!=t&&Pb(this))}},mm.cancel=function(){this.A=!0,Lb(this)},mm.Va=function(){this.o=null;var t=Om();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ub(3),hb(17)),Lb(this),this.h=2,Ub(this)):Db(this,this.T-t)},(mm=jb.prototype).K=function(){Fb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},mm.L=function(){return Fb(this),this.a.concat()},mm.get=function(t,e){return Vb(this.b,t)?this.b[t]:e},mm.set=function(t,e){Vb(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},mm.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Bb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hb(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Hb){this.a=void 0!==e?e:t.a,zb(this,t.f),this.j=t.j,Gb(this,t.c),Yb(this,t.h),this.g=t.g,e=t.b;var n=new r_;n.c=e.c,e.a&&(n.a=new jb(e.a),n.b=e.b),Wb(this,n),this.i=t.i}else t&&(n=String(t).match(Bb))?(this.a=!!e,zb(this,n[1]||"",!0),this.j=Xb(n[2]||""),Gb(this,n[3]||"",!0),Yb(this,n[4]),this.g=Xb(n[5]||"",!0),Wb(this,n[6]||"",!0),this.i=Xb(n[7]||"")):(this.a=!!e,this.b=new r_(null,this.a))}function qb(t){return new Hb(t)}function zb(t,e,n){t.f=n?Xb(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gb(t,e,n){t.c=n?Xb(e,!0):e}function Yb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Wb(t,e,n){e instanceof r_?(t.b=e,function(t,e){e&&!t.f&&(s_(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(o_(this,e),c_(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Jb(e,n_)),t.b=new r_(e,t.a))}function Kb(t,e,n){t.b.set(e,n)}function $b(t){return Kb(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Om()).toString(36)),t}function Xb(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jb(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qb(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hb.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Jb(e,Zb,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Jb(e,Zb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Jb(n,"/"==n.charAt(0)?e_:t_,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Jb(n,i_)),t.join("")};var Zb=/[#\/\?@]/g,t_=/[#\?:]/g,e_=/[#\?]/g,n_=/[#\?@]/g,i_=/#/g;function r_(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function s_(t){t.a||(t.a=new jb,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function o_(t,e){s_(t),e=u_(t,e),Vb(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vb((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Fb(t)))}function a_(t,e){return s_(t),e=u_(t,e),Vb(t.a.b,e)}function c_(t,e,n){o_(t,e),0<n.length&&(t.c=null,t.a.set(u_(t,e),Um(n)),t.b+=n.length)}function u_(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(mm=r_.prototype).add=function(t,e){s_(this),this.c=null,t=u_(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},mm.forEach=function(t,e){s_(this),this.a.forEach(function(n,i){Dm(n,function(n){t.call(e,n,i,this)},this)},this)},mm.L=function(){s_(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},mm.K=function(t){s_(this);var e=[];if("string"==typeof t)a_(this,t)&&(e=Rm(e,this.a.get(u_(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Rm(e,t[n])}return e},mm.set=function(t,e){return s_(this),this.c=null,a_(this,t=u_(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},mm.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},mm.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var l_=function(){return function(t,e){this.b=t,this.a=e}}();function h_(t){this.g=t||d_,t=_m.PerformanceNavigationTiming?0<(t=_m.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_m.ia&&_m.ia.ya&&_m.ia.ya()&&_m.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var d_=10;function f_(t){return!!t.b||!!t.a&&t.a.size>=t.f}function p_(t){return t.b?1:t.a?t.a.size:0}function m_(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function g_(t,e){t.a?t.a.add(e):t.b=e}function b_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function __(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=pm(t.a.values()),s=r.next();!s.done;s=r.next())i=i.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return Um(t.c)}function y_(){}function v_(){this.a=new y_}function w_(t,e,n){var i=n||"";try{Mb(t,function(t,n){var r=t;wm(t)&&(r=Mg(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(OI){throw e.push(i+"type="+encodeURIComponent("_badmap")),OI}}function T_(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}h_.prototype.cancel=function(){var t,e;if(this.c=__(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=pm(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},y_.prototype.stringify=function(t){return _m.JSON.stringify(t,void 0)},y_.prototype.parse=function(t){return _m.JSON.parse(t,void 0)};var S_=_m.JSON.parse;function x_(t){Ug.call(this),this.headers=new jb,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=C_,this.D=this.F=!1}Im(x_,Ug);var C_="",E_=/^https?$/i,k_=["POST","PUT"];function O_(t){return"content-type"==t.toLowerCase()}function I_(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,A_(t),D_(t)}function A_(t){t.u||(t.u=!0,Lg(t,"complete"),Lg(t,"error"))}function P_(t){if(t.b&&void 0!==bm&&(!t.s[1]||4!=U_(t)||2!=t.W()))if(t.l&&4==U_(t))Xg(t.za,0,t);else if(Lg(t,"readystatechange"),4==U_(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.B).match(Bb)[1]||null;if(!s&&_m.self&&_m.self.location){var o=_m.self.location.protocol;s=o.substr(0,o.length-1)}r=!E_.test(s?s.toLowerCase():"")}e=r}if(e)Lg(t,"complete"),Lg(t,"success");else{t.h=6;try{var a=2<U_(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",A_(t)}}finally{D_(t)}}}function D_(t,e){if(t.a){R_(t);var n=t.a,i=t.s[0]?ym:null;t.a=null,t.s=null,e||Lg(t,"ready");try{n.onreadystatechange=i}catch(OI){}}}function R_(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_m.clearTimeout(t.m),t.m=null)}function U_(t){return t.a?t.a.readyState:0}function L_(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return Hm(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Kb(t,e,n))}function N_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function M_(t){this.pa=0,this.g=[],this.c=new ib,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=N_("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=N_("baseRetryDelayMs",5e3,t),this.Ra=N_("retryDelaySeedMs",1e4,t),this.Ma=N_("forwardChannelMaxRetries",2,t),this.ma=N_("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new h_(t&&t.concurrentRequestLimit),this.ka=new v_,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function j_(t){if(V_(t),3==t.v){var e=t.R++,n=qb(t.B);Kb(n,"SID",t.J),Kb(n,"RID",e),Kb(n,"TYPE","terminate"),z_(t,n),(e=new Sb(t,t.c,e,void 0)).H=2,e.i=$b(qb(n)),n=!1,_m.navigator&&_m.navigator.sendBeacon&&(n=_m.navigator.sendBeacon(e.i.toString(),"")),!n&&_m.Image&&((new Image).src=e.i,n=!0),n||(e.a=ny(e.g,null),e.a.ba(e.i)),e.u=Om(),Pb(e)}ty(t)}function F_(t){t.a&&(K_(t),t.a.cancel(),t.a=null)}function V_(t){F_(t),t.j&&(_m.clearTimeout(t.j),t.j=null),X_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_m.clearTimeout(t.h),t.h=null)}function B_(t,e){t.g.push(new l_(t.Oa++,e)),3==t.v&&H_(t)}function H_(t){f_(t.b)||t.h||(t.h=!0,zg(t.Ba,t),t.u=0)}function q_(t,e){var n;n=e?e.f:t.R++;var i=qb(t.B);Kb(i,"SID",t.J),Kb(i,"RID",n),Kb(i,"AID",t.P),z_(t,i),t.i&&t.l&&L_(i,t.i,t.l),n=new Sb(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=G_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),g_(t.b,n),kb(n,i,e)}function z_(t,e){t.f&&Mb({},function(t,n){Kb(e,n,t)})}function G_(t,e,n){n=Math.min(t.g.length,n);var i=t.f?Em(t.f.Ja,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=r[c].b,l=r[c].a;if(0>(u-=s))s=Math.max(0,r[c].b-100),a=!1;else try{w_(l,o,"req"+u+"_")}catch(h){i&&i(l)}}if(a){i=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Y_(t){t.a||t.j||(t.T=1,zg(t.Aa,t),t.o=0)}function W_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=fb(Em(t.Aa,t),Q_(t,t.o)),t.o++,0))}function K_(t){null!=t.s&&(_m.clearTimeout(t.s),t.s=null)}function $_(t){t.a=new Sb(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=qb(t.la);Kb(e,"RID","rpc"),Kb(e,"SID",t.J),Kb(e,"CI",t.H?"0":"1"),Kb(e,"AID",t.P),z_(t,e),Kb(e,"TYPE","xmlhttp"),t.i&&t.l&&L_(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=$b(qb(e)),n.j=null,n.I=!0,Ob(n,t)}function X_(t){null!=t.m&&(_m.clearTimeout(t.m),t.m=null)}function J_(t,e){var n=null;if(t.a==e){X_(t),K_(t),t.a=null;var i=2}else{if(!m_(t.b,e))return;n=e.s,b_(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=Om()-e.u;var r=t.u;Lg(i=ab(),new db(i,n,e,r)),H_(t)}else Y_(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(p_(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=fb(Em(t.Ba,t,e),Q_(t,t.u)),t.u++,0)))}(t,e)||2==i&&W_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Z_(t,5);break;case 4:Z_(t,10);break;case 3:Z_(t,6);break;default:Z_(t,2)}}function Q_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Z_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=Em(t.Ya,t);n||(n=new Hb("//www.google.com/images/cleardot.gif"),_m.location&&"http"==_m.location.protocol||zb(n,"https"),$b(n)),function(t,e){var n=new ib;if(_m.Image){var i=new Image;i.onload=km(T_,n,i,"TestLoadImage: loaded",!0,e),i.onerror=km(T_,n,i,"TestLoadImage: error",!1,e),i.onabort=km(T_,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=km(T_,n,i,"TestLoadImage: timeout",!1,e),_m.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else hb(2);t.v=0,t.f&&t.f.ra(e),ty(t),V_(t)}function ty(t){t.v=0,t.I=-1,t.f&&(0==__(t.b).length&&0==t.g.length||(t.b.c.length=0,Um(t.g),t.g.length=0),t.f.qa())}function ey(t,e,n){var i=function(t){return t instanceof Hb?qb(t):new Hb(t,void 0)}(n);if(""!=i.c)e&&Gb(i,e+"."+i.c),Yb(i,i.h);else{var r=_m.location;i=function(t,e,n,i){var r=new Hb(null,void 0);return t&&zb(r,t),e&&Gb(r,e),n&&Yb(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&Hm(t.V,function(t,e){Kb(i,e,t)}),n=t.na,(e=t.A)&&n&&Kb(i,e,n),Kb(i,"VER",t.ha),z_(t,i),i}function ny(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new x_(t.Na)).F=t.C,e}function iy(){}function ry(){if(Xm&&!(10<=Number(ag)))throw Error("Environmental error: no available transport.")}function sy(t,e){Ug.call(this),this.a=new M_(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Lm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new cy(this)}function oy(t){vb.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ay(){wb.call(this),this.status=1}function cy(t){this.a=t}(mm=x_.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:_b),this.a.onreadystatechange=Em(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void I_(this,s)}t=n||"";var r=new jb(this.headers);i&&Mb(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=O_,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=_m.FormData&&t instanceof _m.FormData,!(0<=Pm(k_,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{R_(this),0<this.o&&((this.D=function(t){return Xm&&og(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Em(this.xa,this)):this.m=Xg(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){I_(this,s)}},mm.xa=function(){void 0!==bm&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Lg(this,"timeout"),this.abort(8))},mm.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Lg(this,"complete"),Lg(this,"abort"),D_(this))},mm.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),D_(this,!0)),x_.X.G.call(this)},mm.za=function(){this.j||(this.A||this.l||this.g?P_(this):this.Ua())},mm.Ua=function(){P_(this)},mm.W=function(){try{return 2<U_(this)?this.a.status:-1}catch(Km){return-1}},mm.$=function(){try{return this.a?this.a.responseText:""}catch(Km){return""}},mm.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),S_(e)}},mm.ua=function(){return this.h},mm.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(mm=M_.prototype).ha=8,mm.v=1,mm.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Sb(this,this.c,t,void 0),i=this.l;if(this.O&&(i?Gm(i=qm(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=G_(this,n,e),Kb(r=qb(this.B),"RID",t),Kb(r,"CVER",22),this.A&&Kb(r,"X-HTTP-Session-Id",this.A),z_(this,r),this.i&&i&&L_(r,this.i,i),g_(this.b,n),this.Ia&&Kb(r,"TYPE","init"),this.da?(Kb(r,"$req",e),Kb(r,"SID","null"),n.U=!0,kb(n,r,null)):kb(n,r,e),this.v=2}}else 3==this.v&&(t?q_(this,t):0==this.g.length||f_(this.b)||q_(this))},mm.Aa=function(){if(this.j=null,$_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=fb(Em(this.Ta,this),t)}},mm.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hb(10),F_(this),$_(this))},mm.Sa=function(){null!=this.m&&(this.m=null,F_(this),W_(this),hb(19))},mm.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hb(2)):(this.c.info("Failed to ping google.com"),hb(1))},(mm=iy.prototype).ta=function(){},mm.sa=function(){},mm.ra=function(){},mm.qa=function(){},mm.Ja=function(){},ry.prototype.a=function(t,e){return new sy(t,e)},Im(sy,Ug),sy.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hb(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ey(t,null,t.fa),H_(t)},sy.prototype.close=function(){j_(this.a)},sy.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,B_(this.a,e)}else this.l?((e={}).__data__=Mg(t),B_(this.a,e)):B_(this.a,t)},sy.prototype.G=function(){this.a.f=null,delete this.f,j_(this.a),delete this.a,sy.X.G.call(this)},Im(oy,vb),Im(ay,wb),Im(cy,iy),cy.prototype.ta=function(){Lg(this.a,"a")},cy.prototype.sa=function(t){Lg(this.a,new oy(t))},cy.prototype.ra=function(t){Lg(this.a,new ay(t))},cy.prototype.qa=function(){Lg(this.a,"b")},ry.prototype.createWebChannel=ry.prototype.a,sy.prototype.send=sy.prototype.h,sy.prototype.open=sy.prototype.g,sy.prototype.close=sy.prototype.close,pb.NO_ERROR=0,pb.TIMEOUT=8,pb.HTTP_ERROR=6,mb.COMPLETE="complete",bb.EventType=yb,yb.OPEN="a",yb.CLOSE="b",yb.ERROR="c",yb.MESSAGE="d",Ug.prototype.listen=Ug.prototype.va,x_.prototype.listenOnce=x_.prototype.wa,x_.prototype.getLastError=x_.prototype.Qa,x_.prototype.getLastErrorCode=x_.prototype.ua,x_.prototype.getStatus=x_.prototype.W,x_.prototype.getResponseJson=x_.prototype.Pa,x_.prototype.getResponseText=x_.prototype.$,x_.prototype.send=x_.prototype.ba;var uy=pb,ly=mb,hy=sb,dy=bb,fy=x_,py=n("30Go"),my=new hm.b("@firebase/firestore");function gy(){return my.logLevel}function by(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(my.logLevel<=hm.a.DEBUG){var i=e.map(vy);my.debug.apply(my,Object(py.g)(["Firestore (8.2.5): "+t],i))}}function _y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(my.logLevel<=hm.a.ERROR){var i=e.map(vy);my.error.apply(my,Object(py.g)(["Firestore (8.2.5): "+t],i))}}function yy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(my.logLevel<=hm.a.WARN){var i=e.map(vy);my.warn.apply(my,Object(py.g)(["Firestore (8.2.5): "+t],i))}}function vy(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(OI){return t}}function wy(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw _y(e),new Error(e)}function Ty(t,e){t||wy()}function Sy(t,e){return t}function xy(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Cy=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=xy(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Ey(t,e){return t<e?-1:t>e?1:0}function ky(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function Oy(t){return t+"\0"}var Iy=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Ey(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Iy.h=new Iy("");var Ay={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Py=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(py.c)(e,t),e}(Error),Dy=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Iy.fromBase64String(e))}catch(e){throw new Py(Ay.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Iy.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ry=function(t){this._=t};function Uy(){if("undefined"==typeof Uint8Array)throw new Py(Ay.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ly(){if("undefined"==typeof atob)throw new Py(Ay.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.fromBase64String=function(t){return Ly(),new e(Dy.fromBase64String(t))},e.fromUint8Array=function(t){return Uy(),new e(Dy.fromUint8Array(t))},e.prototype.toBase64=function(){return Ly(),this._.toBase64()},e.prototype.toUint8Array=function(){return Uy(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ry),My=function(t,e,n,i,r,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.I=s},jy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fy=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fy.UNAUTHENTICATED=new Fy(null),Fy.P=new Fy("google-credentials-uid"),Fy.g=new Fy("first-party-uid");var Vy=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},By=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Fy.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Hy=function(){function t(t){var e=this;this.C=null,this.currentUser=Fy.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(by("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ty("string"==typeof n.accessToken),new Vy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Ty(null===t||"string"==typeof t),new Fy(t)},t}(),qy=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Fy.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),zy=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new qy(this.k,this.M))},t.prototype.S=function(t){t(Fy.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Gy=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Gy.U=-1;var Yy=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Py(Ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Py(Ay.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Py(Ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Py(Ay.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Ey(this.nanoseconds,t.nanoseconds):Ey(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wy=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Yy(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ky=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wy(),void 0===n?n=t.length-e:n>t.length-e&&wy(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new Py(Ay.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");i.push.apply(i,o.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.at=function(){return new e([])},e}(Ky),Xy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.ut=function(t){return Xy.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new Py(Ay.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Py(Ay.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Py(Ay.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Py(Ay.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ky),Qy=function(){function t(t){this.path=t}return t.ft=function(e){return new t($y.ct(e))},t.dt=function(e){return new t($y.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$y.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return $y.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new $y(e.slice()))},t}();function Zy(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ev(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nv=function(){function t(t){this.fields=t,t.sort(Jy.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return ky(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rv(t){if(Ty(!!t),"string"==typeof t){var e=0,n=iv.exec(t);if(Ty(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sv(t.seconds),nanos:sv(t.nanos)}}function sv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ov(t){return"string"==typeof t?Iy.fromBase64String(t):Iy.fromUint8Array(t)}function av(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cv(t){var e=t.mapValue.fields.__previous_value__;return av(e)?cv(e):e}function uv(t){var e=rv(t.mapValue.fields.__local_write_time__.timestampValue);return new Yy(e.seconds,e.nanos)}function lv(t){return null==t}function hv(t){return 0===t&&1/t==-1/0}function dv(t){return"number"==typeof t&&Number.isInteger(t)&&!hv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function fv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?av(t)?4:10:wy()}function pv(t,e){var n=fv(t);if(n!==fv(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uv(t).isEqual(uv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=rv(t.timestampValue),i=rv(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ov(t.bytesValue).isEqual(ov(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sv(t.geoPointValue.latitude)===sv(e.geoPointValue.latitude)&&sv(t.geoPointValue.longitude)===sv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sv(t.integerValue)===sv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sv(t.doubleValue),i=sv(e.doubleValue);return n===i?hv(n)===hv(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return ky(t.arrayValue.values||[],e.arrayValue.values||[],pv);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Zy(n)!==Zy(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!pv(n[r],i[r])))return!1;return!0}(t,e);default:return wy()}}function mv(t,e){return void 0!==(t.values||[]).find(function(t){return pv(t,e)})}function gv(t,e){var n=fv(t),i=fv(e);if(n!==i)return Ey(n,i);switch(n){case 0:return 0;case 1:return Ey(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sv(t.integerValue||t.doubleValue),i=sv(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return bv(t.timestampValue,e.timestampValue);case 4:return bv(uv(t),uv(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ov(t),i=ov(e);return n.u(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=Ey(n[r],i[r]);if(0!==s)return s}return Ey(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ey(sv(t.latitude),sv(e.latitude));return 0!==n?n:Ey(sv(t.longitude),sv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=gv(n[r],i[r]);if(s)return s}return Ey(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=Ey(i[o],s[o]);if(0!==a)return a;var c=gv(n[i[o]],r[s[o]]);if(0!==c)return c}return Ey(i.length,s.length)}(t.mapValue,e.mapValue);default:throw wy()}}function bv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ey(t,e);var n=rv(t),i=rv(e),r=Ey(n.seconds,i.seconds);return 0!==r?r:Ey(n.nanos,i.nanos)}function _v(t){return yv(t)}function yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=rv(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ov(t.bytesValue).toBase64():"referenceValue"in t?Qy.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=yv(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var s=r[i];n?n=!1:e+=",",e+=s+":"+yv(t.fields[s])}return e+"}"}(t.mapValue):wy();var e}function vv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function wv(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function Sv(t){return!!t&&"nullValue"in t}function xv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cv(t){return!!t&&"mapValue"in t}var Ev=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Cv(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return pv(this.proto,t.proto)},t}(),kv=function(){function t(t){void 0===t&&(t=Ev.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,i=0;i<t.length-1;++i){var r=t.get(i),s=n.get(r);s instanceof Map?n=s:s&&10===fv(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(r,s),n=s):(s=new Map,n.set(r,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Jy.at(),this.Rt);return null!=t?new Ev(t):this.At},t.prototype.gt=function(t,e){var n=this,i=!1,r=this.At.field(t),s=Cv(r)?Object.assign({},r.mapValue.fields):{};return e.forEach(function(e,r){if(e instanceof Map){var o=n.gt(t.child(r),e);null!=o&&(s[r]=o,i=!0)}else null!==e?(s[r]=e,i=!0):s.hasOwnProperty(r)&&(delete s[r],i=!0)}),i?{mapValue:{fields:s}}:null},t}();function Ov(t){var e=[];return tv(t.fields||{},function(t,n){var i=new Jy([t]);if(Cv(n)){var r=Ov(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)}),new nv(e)}var Iv=function(t,e){this.key=t,this.version=e},Av=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this,e,n)||this).Vt=i,s.bt=!!r.bt,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return Object(py.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Iv),Pv=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return Object(py.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Iv),Dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Iv),Rv=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.St=null};function Uv(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new Rv(t,e,n,i,r,s,o)}function Lv(t){var e=Sy(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+_v(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kv(e.startAt)),e.endAt&&(n+="|ub:",n+=Kv(e.endAt)),e.St=n}return e.St}function Nv(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Xv(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!pv(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qv(t.startAt,e.startAt)&&Qv(t.endAt,e.endAt)}function Mv(t){return Qy.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var jv=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(py.c)(e,t),e.create=function(t,n,i){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,i):new Fv(t,n,i):"array-contains"===n?new qv(t,i):"in"===n?new zv(t,i):"not-in"===n?new Gv(t,i):"array-contains-any"===n?new Yv(t,i):new e(t,n,i)},e.Dt=function(t,e,n){return"in"===e?new Vv(t,n):new Bv(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(gv(e,this.value)):null!==e&&fv(this.value)===fv(e)&&this.Ct(gv(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wy()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Fv=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=Qy.dt(i.referenceValue),r}return Object(py.c)(e,t),e.prototype.matches=function(t){var e=Qy.J(t.key,this.key);return this.Ct(e)},e}(jv),Vv=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Hv(0,n),i}return Object(py.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(jv),Bv=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Hv(0,n),i}return Object(py.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(jv);function Hv(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Qy.dt(t.referenceValue)})}var qv=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(py.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Tv(e)&&mv(e.arrayValue,this.value)},e}(jv),zv=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(py.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&mv(this.value.arrayValue,e)},e}(jv),Gv=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(py.c)(e,t),e.prototype.matches=function(t){if(mv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!mv(this.value.arrayValue,e)},e}(jv),Yv=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(py.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return mv(e.value.arrayValue,t)})},e}(jv),Wv=function(t,e){this.position=t,this.before=e};function Kv(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return _v(t)}).join(",")}var $v=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Xv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jv(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.ht()?Qy.J(Qy.dt(o.referenceValue),n.key):gv(o,n.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Qv(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pv(t.position[n],e.position[n]))return!1;return!0}var Zv=function(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function tw(t,e,n,i,r,s,o,a){return new Zv(t,e,n,i,r,s,o,a)}function ew(t){return new Zv(t)}function nw(t){return!lv(t.limit)&&"F"===t.limitType}function iw(t){return!lv(t.limit)&&"L"===t.limitType}function rw(t){return t.Nt.length>0?t.Nt[0].field:null}function sw(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.xt())return i.field}return null}function ow(t){return null!==t.collectionGroup}function aw(t){var e=Sy(t);if(null===e.Ft){e.Ft=[];var n=sw(e),i=rw(e);if(null!==n&&null===i)n.ht()||e.Ft.push(new $v(n)),e.Ft.push(new $v(Jy.lt(),"asc"));else{for(var r=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(r=!0)}if(!r){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new $v(Jy.lt(),c))}}}return e.Ft}function cw(t){var e=Sy(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Uv(e.path,e.collectionGroup,aw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=aw(e);i<r.length;i++){var s=r[i];n.push(new $v(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Wv(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wv(e.startAt.position,!e.startAt.before):null;e.Ot=Uv(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function uw(t,e,n){return new Zv(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lw(t,e){return Nv(cw(t),cw(e))&&t.limitType===e.limitType}function hw(t){return Lv(cw(t))+"|lt:"+t.limitType}function dw(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+_v(e.value);var e}).join(", ")+"]"),lv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Kv(t.startAt)),t.endAt&&(e+=", endAt: "+Kv(t.endAt)),"Target("+e+")"}(cw(t))+"; limitType="+t.limitType+")"}function fw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Qy.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,i=t.Nt;n<i.length;n++){var r=i[n];if(!r.field.ht()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jv(t.startAt,aw(t),e)||t.endAt&&Jv(t.endAt,aw(t),e))}(t,e)}function pw(t){return function(e,n){for(var i=!1,r=0,s=aw(t);r<s.length;r++){var o=s[r],a=mw(o,e,n);if(0!==a)return a;i=i||o.field.ht()}return 0}}function mw(t,e,n){var i=t.field.ht()?Qy.J(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?gv(i,r):wy()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return wy()}}var gw=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=Wy.min()),void 0===s&&(s=Wy.min()),void 0===o&&(o=Iy.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=i,this.Mt=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function bw(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hv(e)?"-0":e}}function _w(t){return{integerValue:""+t}}function yw(t,e){return dv(e)?_w(e):bw(t,e)}var vw=function(){this.Ut=void 0};function ww(t,e,n){return t instanceof xw?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cw?Ew(t,e):t instanceof kw?Ow(t,e):function(t,e){var n=Sw(t,e),i=Aw(n)+Aw(t.Qt);return wv(n)&&wv(t.Qt)?_w(i):bw(t.Kt,i)}(t,e)}function Tw(t,e,n){return t instanceof Cw?Ew(t,e):t instanceof kw?Ow(t,e):n}function Sw(t,e){return t instanceof Iw?wv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e}(vw),Cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(py.c)(e,t),e}(vw);function Ew(t,e){for(var n=Pw(e),i=function(t){n.some(function(e){return pv(e,t)})||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var kw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(py.c)(e,t),e}(vw);function Ow(t,e){for(var n=Pw(e),i=function(t){n=n.filter(function(e){return!pv(e,t)})},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var Iw=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Kt=e,i.Qt=n,i}return Object(py.c)(e,t),e}(vw);function Aw(t){return sv(t.integerValue||t.doubleValue)}function Pw(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Dw=function(t,e){this.field=t,this.transform=e},Rw=function(t,e){this.version=t,this.transformResults=e},Uw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Lw(t,e){return void 0!==t.updateTime?e instanceof Av&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Av}var Nw=function(){};function Mw(t,e,n){return t instanceof Hw?function(t,e,n){var i=t.value;if(n.transformResults){var r=Gw(t.fieldTransforms,e,n.transformResults);i=Ww(t.fieldTransforms,i,r)}return new Av(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof qw?function(t,e,n){if(!Lw(t.Gt,e))return new Dv(t.key,n.version);var i=zw(t,e,n.transformResults?Gw(t.fieldTransforms,e,n.transformResults):[]);return new Av(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Pv(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function jw(t,e,n,i){return t instanceof Hw?function(t,e,n,i){if(!Lw(t.Gt,e))return e;var r=t.value,s=Yw(t.fieldTransforms,n,e);r=Ww(t.fieldTransforms,r,s);var o=Bw(e);return new Av(t.key,o,r,{bt:!0})}(t,e,i):t instanceof qw?function(t,e,n,i){if(!Lw(t.Gt,e))return e;var r=Bw(e),s=zw(t,e,Yw(t.fieldTransforms,n,e));return new Av(t.key,r,s,{bt:!0})}(t,e,i):function(t,e){return Lw(t.Gt,e)?new Pv(t.key,Wy.min()):e}(t,e)}function Fw(t,e){return function(t,e){for(var n=null,i=0,r=t;i<r.length;i++){var s=r[i],o=e instanceof Av?e.field(s.field):void 0,a=Sw(s.transform,o||null);null!=a&&(n=null==n?(new kv).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ky(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cw&&e instanceof Cw||t instanceof kw&&e instanceof kw?ky(t.elements,e.elements,pv):t instanceof Iw&&e instanceof Iw?pv(t.Qt,e.Qt):t instanceof xw&&e instanceof xw}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Bw(t){return t instanceof Av?t.version:Wy.min()}var Hw=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=i,s.fieldTransforms=r,s.type=0,s}return Object(py.c)(e,t),e}(Nw),qw=function(t){function e(e,n,i,r,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=i,o.Gt=r,o.fieldTransforms=s,o.type=1,o}return Object(py.c)(e,t),e}(Nw);function zw(t,e,n){var i;return i=function(t,e){var n=new kv(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}}),n.yt()}(t,i=e instanceof Av?e.data():Ev.empty()),Ww(t.fieldTransforms,i,n)}function Gw(t,e,n){var i=[];Ty(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=null;e instanceof Av&&(a=e.field(s.field)),i.push(Tw(o,a,n[r]))}return i}function Yw(t,e,n,i){for(var r=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof Av&&(u=n.field(a.field)),r.push(ww(c,u,e))}return r}function Ww(t,e,n){for(var i=new kv(e),r=0;r<t.length;r++)i.set(t[r].field,n[r]);return i.yt()}var Kw,$w,Xw=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=2,i.fieldTransforms=[],i}return Object(py.c)(e,t),e}(Nw),Jw=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=3,i.fieldTransforms=[],i}return Object(py.c)(e,t),e}(Nw),Qw=function(t){this.count=t};function Zw(t){switch(t){case Ay.OK:return wy();case Ay.CANCELLED:case Ay.UNKNOWN:case Ay.DEADLINE_EXCEEDED:case Ay.RESOURCE_EXHAUSTED:case Ay.INTERNAL:case Ay.UNAVAILABLE:case Ay.UNAUTHENTICATED:return!1;case Ay.INVALID_ARGUMENT:case Ay.NOT_FOUND:case Ay.ALREADY_EXISTS:case Ay.PERMISSION_DENIED:case Ay.FAILED_PRECONDITION:case Ay.ABORTED:case Ay.OUT_OF_RANGE:case Ay.UNIMPLEMENTED:case Ay.DATA_LOSS:return!0;default:return wy()}}function tT(t){if(void 0===t)return _y("GRPC error has no .code"),Ay.UNKNOWN;switch(t){case Kw.OK:return Ay.OK;case Kw.CANCELLED:return Ay.CANCELLED;case Kw.UNKNOWN:return Ay.UNKNOWN;case Kw.DEADLINE_EXCEEDED:return Ay.DEADLINE_EXCEEDED;case Kw.RESOURCE_EXHAUSTED:return Ay.RESOURCE_EXHAUSTED;case Kw.INTERNAL:return Ay.INTERNAL;case Kw.UNAVAILABLE:return Ay.UNAVAILABLE;case Kw.UNAUTHENTICATED:return Ay.UNAUTHENTICATED;case Kw.INVALID_ARGUMENT:return Ay.INVALID_ARGUMENT;case Kw.NOT_FOUND:return Ay.NOT_FOUND;case Kw.ALREADY_EXISTS:return Ay.ALREADY_EXISTS;case Kw.PERMISSION_DENIED:return Ay.PERMISSION_DENIED;case Kw.FAILED_PRECONDITION:return Ay.FAILED_PRECONDITION;case Kw.ABORTED:return Ay.ABORTED;case Kw.OUT_OF_RANGE:return Ay.OUT_OF_RANGE;case Kw.UNIMPLEMENTED:return Ay.UNIMPLEMENTED;case Kw.DATA_LOSS:return Ay.DATA_LOSS;default:return wy()}}($w=Kw||(Kw={}))[$w.OK=0]="OK",$w[$w.CANCELLED=1]="CANCELLED",$w[$w.UNKNOWN=2]="UNKNOWN",$w[$w.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$w[$w.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$w[$w.NOT_FOUND=5]="NOT_FOUND",$w[$w.ALREADY_EXISTS=6]="ALREADY_EXISTS",$w[$w.PERMISSION_DENIED=7]="PERMISSION_DENIED",$w[$w.UNAUTHENTICATED=16]="UNAUTHENTICATED",$w[$w.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$w[$w.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$w[$w.ABORTED=10]="ABORTED",$w[$w.OUT_OF_RANGE=11]="OUT_OF_RANGE",$w[$w.UNIMPLEMENTED=12]="UNIMPLEMENTED",$w[$w.INTERNAL=13]="INTERNAL",$w[$w.UNAVAILABLE=14]="UNAVAILABLE",$w[$w.DATA_LOSS=15]="DATA_LOSS";var eT=function(){function t(t,e){this.J=t,this.root=e||iT.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,iT.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,iT.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var i=this.J(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new nT(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new nT(this.root,t,this.J,!1)},t.prototype.se=function(){return new nT(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new nT(this.root,t,this.J,!0)},t}(),nT=function(){function t(t,e,n,i){this.re=i,this.oe=[];for(var r=1;!t.nt();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.re?t.left:t.right;else{if(0===r){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),iT=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.Ht(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.nt()||r.left._e()||r.left.left._e()||(r=r.fe()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left._e()&&(r=r.de()),r.right.nt()||r.right._e()||r.right.left._e()||(r=r.we()),0===n(e,r.key)){if(r.right.nt())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw wy();if(this.right._e())throw wy();var t=this.left.me();if(t!==this.right.me())throw wy();return t+(this._e()?0:1)},t}();iT.EMPTY=null,iT.RED=!0,iT.Jt=!1,iT.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wy()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.Ht=function(t,e,n){return new iT(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rT=function(){function t(t){this.J=t,this.data=new eT(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var i=n.ce();if(this.J(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new sT(this.data.ee())},t.prototype.ne=function(t){return new sT(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),i=e.data.ee();n.ae();){var r=n.ce().key,s=i.ce().key;if(0!==this.J(r,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),sT=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),oT=new eT(Qy.J);function aT(){return oT}function cT(){return aT()}var uT=new eT(Qy.J);function lT(){return uT}var hT=new eT(Qy.J);function dT(){return hT}var fT=new rT(Qy.J);function pT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fT,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var mT=new rT(Ey);function gT(){return mT}var bT=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Qy.J(e.key,n.key)}:function(t,e){return Qy.J(t.key,e.key)},this.Ve=lT(),this.pe=new eT(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),i=e.pe.ee();n.ae();){var r=n.ce().key,s=i.ce().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.J=this.J,i.Ve=e,i.pe=n,i},t}(),_T=function(){function t(){this.ve=new eT(Qy.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):wy():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),yT=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=i,this.Ce=r,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,i,r){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,bT.be(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&lw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),vT=function(){function t(t,e,n,i,r){this.Mt=t,this.Oe=e,this.ke=n,this.Me=i,this.Le=r}return t.$e=function(e,n){var i=new Map;return i.set(e,wT.Be(e,n)),new t(Wy.min(),i,gT(),aT(),pT())},t}(),wT=function(){function t(t,e,n,i,r){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=i,this.Ke=r}return t.Be=function(e,n){return new t(Iy.h,n,pT(),pT(),pT())},t}(),TT=function(t,e,n,i){this.We=t,this.removedTargetIds=e,this.key=n,this.je=i},ST=function(t,e){this.targetId=t,this.Ge=e},xT=function(t,e,n,i){void 0===n&&(n=Iy.h),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},CT=function(){function t(){this.ze=0,this.He=OT(),this.Je=Iy.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=pT(),e=pT(),n=pT();return this.He.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:wy()}}),new wT(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=OT()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),ET=function(){function t(t){this.hn=t,this.ln=new Map,this._n=aT(),this.fn=kT(),this.dn=new rT(Ey)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var i=n[e];t.je instanceof Av?this.En(i,t.je):t.je instanceof Pv&&this.Tn(i,t.key,t.je)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.Tn(i=s[r],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var i=e.An(n);switch(t.state){case 0:e.Rn(n)&&i.en(t.resumeToken);break;case 1:i.an(),i.Ze||i.sn(),i.en(t.resumeToken);break;case 2:i.an(),i.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(i.un(),i.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),i.en(t.resumeToken));break;default:wy()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,i){n.Rn(i)&&e(i)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,i=this.gn(e);if(i){var r=i.target;if(Mv(r))if(0===n){var s=new Qy(r.path);this.Tn(e,s,new Pv(s,Wy.min()))}else Ty(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(i,r){var s=e.gn(r);if(s){if(i.qe&&Mv(s.target)){var o=new Qy(s.target.path);null!==e._n.get(o)||e.bn(r,o)||e.Tn(r,o,new Pv(o,t))}i.tn&&(n.set(r,i.nn()),i.sn())}});var i=pT();this.fn.forEach(function(t,n){var r=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(r=!1,!1)}),r&&(i=i.add(t))});var r=new vT(t,n,this.dn,this._n,i);return this._n=aT(),this.fn=kT(),this.dn=new rT(Ey),r},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var i=this.An(t);this.bn(t,e)?i.rn(e,1):i.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new CT,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rT(Ey),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||by("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new CT),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function kT(){return new eT(Qy.J)}function OT(){return new eT(Qy.J)}var IT={asc:"ASCENDING",desc:"DESCENDING"},AT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PT=function(t,e){this.T=t,this.qt=e};function DT(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.qt?e.toBase64():e.toUint8Array()}function UT(t,e){return DT(t,e.G())}function LT(t){return Ty(!!t),Wy.W(function(t){var e=rv(t);return new Yy(e.seconds,e.nanos)}(t))}function NT(t,e){return function(t){return new $y(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function MT(t){var e=$y.ct(t);return Ty(aS(e)),e}function jT(t,e){return NT(t.T,e.path)}function FT(t,e){var n=MT(e);if(n.get(1)!==t.T.projectId)throw new Py(Ay.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Py(Ay.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Qy(qT(n))}function VT(t,e){return NT(t.T,e)}function BT(t){var e=MT(t);return 4===e.length?$y.at():qT(e)}function HT(t){return new $y(["projects",t.T.projectId,"databases",t.T.database]).ot()}function qT(t){return Ty(t.length>4&&"documents"===t.get(4)),t.X(5)}function zT(t,e,n){return{name:jT(t,e),fields:n.proto.mapValue.fields}}function GT(t,e,n){var i=FT(t,e.name),r=LT(e.updateTime),s=new Ev({mapValue:{fields:e.fields}});return new Av(i,r,s,{hasCommittedMutations:!!n})}function YT(t,e){var n;if(e instanceof Hw)n={update:zT(t,e.key,e.value)};else if(e instanceof Xw)n={delete:jT(t,e.key)};else if(e instanceof qw)n={update:zT(t,e.key,e.data),updateMask:oS(e.zt)};else{if(!(e instanceof Jw))return wy();n={verify:jT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xw)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cw)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof kw)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Iw)return{fieldPath:e.field.ot(),increment:n.Qt};throw wy()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:UT(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wy()}(t,e.Gt)),n}function WT(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Uw.updateTime(LT(t.updateTime)):void 0!==t.exists?Uw.exists(t.exists):Uw.Wt()}(e.currentDocument):Uw.Wt(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ty("REQUEST_TIME"===e.setToServerValue),n=new xw):"appendMissingElements"in e?n=new Cw(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new kw(e.removeAllFromArray.values||[]):"increment"in e?n=new Iw(t,e.increment):wy();var i=Jy._t(e.fieldPath);return new Dw(i,n)}(t,e)}):[];if(e.update){var r=FT(t,e.update.name),s=new Ev({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new nv((t.fieldPaths||[]).map(function(t){return Jy._t(t)}))}(e.updateMask);return new qw(r,s,o,n,i)}return new Hw(r,s,n,i)}if(e.delete){var a=FT(t,e.delete);return new Xw(a,n)}if(e.verify){var c=FT(t,e.verify);return new Jw(c,n)}return wy()}function KT(t,e){return{documents:[VT(t,e.path)]}}function $T(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=VT(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=VT(t,i.Z()),n.structuredQuery.from=[{collectionId:i.et()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(xv(t.value))return{unaryFilter:{field:nS(t.field),op:"IS_NAN"}};if(Sv(t.value))return{unaryFilter:{field:nS(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xv(t.value))return{unaryFilter:{field:nS(t.field),op:"IS_NOT_NAN"}};if(Sv(t.value))return{unaryFilter:{field:nS(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nS(t.field),op:eS(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:nS(t.field),direction:tS(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||lv(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=QT(e.startAt)),e.endAt&&(n.structuredQuery.endAt=QT(e.endAt)),n}function XT(t){var e=BT(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ty(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=JT(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new $v(iS(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return lv(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=ZT(n.startAt));var l=null;return n.endAt&&(l=ZT(n.endAt)),tw(e,r,a,o,c,"F",u,l)}function JT(t){return t?void 0!==t.unaryFilter?[sS(t)]:void 0!==t.fieldFilter?[rS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return JT(t)}).reduce(function(t,e){return t.concat(e)}):wy():[]}function QT(t){return{before:t.before,values:t.position}}function ZT(t){return new Wv(t.values||[],!!t.before)}function tS(t){return IT[t]}function eS(t){return AT[t]}function nS(t){return{fieldPath:t.ot()}}function iS(t){return Jy._t(t.fieldPath)}function rS(t){return jv.create(iS(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wy()}}(t.fieldFilter.op),t.fieldFilter.value)}function sS(t){switch(t.unaryFilter.op){case"IS_NAN":var e=iS(t.unaryFilter.field);return jv.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=iS(t.unaryFilter.field);return jv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=iS(t.unaryFilter.field);return jv.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=iS(t.unaryFilter.field);return jv.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wy()}}function oS(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function aS(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},uS=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.Fn&&wy(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,r){i.Cn=function(n){i.kn(e,n).next(t,r)},i.xn=function(e){i.On(n,e).next(t,r)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var i=0,r=0,s=!1;e.forEach(function(e){++i,e.next(function(){++r,s&&r===i&&t()},function(t){return n(t)})}),s=!0,r===i&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.$n(i)},t}(),lS=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new cS,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new fS(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var i=_S(e.target.error);n.qn.reject(new fS(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new fS(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(by("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new mS(e)},t}(),hS=function(){function t(e,n,i){this.name=e,this.version=n,this.Qn=i,12.2===t.Kn(Object(dm.h)())&&_y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return by("SimpleDb","Removing database:",t),gS(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(dm.h)(),n=t.Kn(e),i=0<n&&n<10,r=t.Gn(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(py.b)(this,void 0,void 0,function(){var e,n=this;return Object(py.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(by("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new fS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new Py(Ay.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fS(t,n))},r.onupgradeneeded=function(t){by("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){by("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s,o,a,c;return Object(py.d)(this,function(u){switch(u.label){case 0:r="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(py.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=lS.open(a.db,t,r?"readonly":"readwrite",n),o=i(e).catch(function(t){return e.abort(t),uS.reject(t)}).Mn(),c={},o.catch(function(){}),[4,e.Un];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return by("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dS=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return gS(this.ts.delete())},t}(),fS=function(t){function e(e,n){var i=this;return(i=t.call(this,Ay.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(py.c)(e,t),e}(Py);function pS(t){return"IndexedDbTransactionError"===t.name}var mS=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(by("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(by("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gS(n)},t.prototype.add=function(t){return by("SimpleDb","ADD",this.store.name,t,t),gS(this.store.add(t))},t.prototype.get=function(t){var e=this;return gS(this.store.get(t)).next(function(n){return void 0===n&&(n=null),by("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return by("SimpleDb","DELETE",this.store.name,t),gS(this.store.delete(t))},t.prototype.count=function(){return by("SimpleDb","COUNT",this.store.name),gS(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.cs(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.us=function(t,e){by("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var i=this.cursor(n);return this.cs(i,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.cs(i,e)},t.prototype._s=function(t){var e=this.cursor({});return new uS(function(n,i){e.onerror=function(t){var e=_S(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new uS(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new dS(r),o=e(r.primaryKey,r.value,s);if(o instanceof uS){var a=o.catch(function(t){return s.done(),uS.reject(t)});n.push(a)}s.Nn?i():null===s.ss?r.continue():r.continue(s.ss)}else i()}}).next(function(){return uS.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gS(t){return new uS(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_S(t.target.error);n(e)}})}var bS=!1;function _S(t){var e=hS.Kn(Object(dm.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Py("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bS||(bS=!0,setTimeout(function(){throw i},0)),i}}return t}var yS=function(){function t(t,e,n,i,r){this.fs=t,this.ds=e,this.ws=n,this.op=i,this.Es=r,this.Ts=new cS,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Py(Ay.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function vS(t,e){if(_y("AsyncQueue",e+": "+t),pS(t))return new Py(Ay.UNAVAILABLE,e+": "+t);throw t}var wS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TS=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function SS(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=CS(e)),e=xS(t.get(n),e);return CS(e)}function xS(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function CS(t){return t+"\x01\x01"}function ES(t){var e=t.length;if(Ty(e>=2),2===e)return Ty("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$y.at();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&wy(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:wy()}s=o+2}return new $y(i)}var kS=function(t,e){this.seconds=t,this.nanoseconds=e},OS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};OS.store="owner",OS.key="owner";var IS=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};IS.store="mutationQueues",IS.keyPath="userId";var AS=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};AS.store="mutations",AS.keyPath="batchId",AS.userMutationsIndex="userMutationsIndex",AS.userMutationsKeyPath=["userId","batchId"];var PS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,SS(e)]},t.key=function(t,e,n){return[t,SS(e),n]},t}();PS.store="documentMutations",PS.PLACEHOLDER=new PS;var DS=function(t,e){this.path=t,this.readTime=e},RS=function(t,e){this.path=t,this.version=e},US=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};US.store="remoteDocuments",US.readTimeIndex="readTimeIndex",US.readTimeIndexPath="readTime",US.collectionReadTimeIndex="collectionReadTimeIndex",US.collectionReadTimeIndexPath=["parentPath","readTime"];var LS=function(t){this.byteSize=t};LS.store="remoteDocumentGlobal",LS.key="remoteDocumentGlobalKey";var NS=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};NS.store="targets",NS.keyPath="targetId",NS.queryTargetsIndexName="queryTargetsIndex",NS.queryTargetsKeyPath=["canonicalId","targetId"];var MS=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};MS.store="targetDocuments",MS.keyPath=["targetId","path"],MS.documentTargetsIndex="documentTargetsIndex",MS.documentTargetsKeyPath=["path","targetId"];var jS=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};jS.key="targetGlobalKey",jS.store="targetGlobal";var FS=function(t,e){this.collectionId=t,this.parent=e};FS.store="collectionParents",FS.keyPath=["collectionId","parent"];var VS=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};VS.store="clientMetadata",VS.keyPath="clientId";var BS=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};BS.store="bundles",BS.keyPath="bundleId";var HS=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};HS.store="namedQueries",HS.keyPath="name";var qS=Object(py.g)(Object(py.g)(Object(py.g)(Object(py.g)([IS.store,AS.store,PS.store,US.store,NS.store,OS.store,jS.store,MS.store],[VS.store]),[LS.store]),[FS.store]),[BS.store,HS.store]),zS=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).bs=e,i.vs=n,i}return Object(py.c)(e,t),e}(TS);function GS(t,e){var n=Sy(t);return hS.Hn(n.bs,e)}var YS=function(){function t(t,e,n,i){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=i}return t.prototype.Ds=function(t,e,n){for(var i=n.Cs,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=Mw(s,e,i[r]))}return e},t.prototype.xs=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++)(o=i[n]).key.isEqual(t)&&(e=jw(o,e,0,this.Ss));for(var r=0,s=this.mutations;r<s.length;r++){var o;(o=s[r]).key.isEqual(t)&&(e=jw(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(i){var r=e.xs(i.key,t.get(i.key));r&&(n=n.Ht(i.key,r))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},pT())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ky(this.mutations,t.mutations,function(t,e){return Vw(t,e)})&&ky(this.baseMutations,t.baseMutations,function(t,e){return Vw(t,e)})},t}(),WS=function(){function t(t,e,n,i){this.batch=t,this.Fs=e,this.Cs=n,this.Os=i}return t.from=function(e,n,i){Ty(e.mutations.length===i.length);for(var r=dT(),s=e.mutations,o=0;o<s.length;o++)r=r.Ht(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),KS=function(t){this.ks=t};function $S(t,e){if(e.document)return GT(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Qy.Tt(e.noDocument.path),i=tx(e.noDocument.readTime);return new Pv(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=Qy.Tt(e.unknownDocument.path);return i=tx(e.unknownDocument.version),new Dv(r,i)}return wy()}function XS(t,e,n){var i=JS(n),r=e.key.path.Z().rt();if(e instanceof Av){var s=function(t,e){return{name:jT(t,e.key),fields:e.vt().mapValue.fields,updateTime:DT(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new US(null,null,s,o,i,r)}if(e instanceof Pv){var a=e.key.path.rt(),c=ZS(e.version);return o=e.hasCommittedMutations,new US(null,new DS(a,c),null,o,i,r)}if(e instanceof Dv){var u=e.key.path.rt(),l=ZS(e.version);return new US(new RS(u,l),null,null,!0,i,r)}return wy()}function JS(t){var e=t.G();return[e.seconds,e.nanoseconds]}function QS(t){var e=new Yy(t[0],t[1]);return Wy.W(e)}function ZS(t){var e=t.G();return new kS(e.seconds,e.nanoseconds)}function tx(t){var e=new Yy(t.seconds,t.nanoseconds);return Wy.W(e)}function ex(t,e){for(var n=(e.baseMutations||[]).map(function(e){return WT(t.ks,e)}),i=e.mutations.length-1;i>=0;--i){var r=e.mutations[i];void 0!==(null==r?void 0:r.transform)&&(e.mutations[i-1].updateTransforms=r.transform.fieldTransforms,e.mutations.splice(i,1),--i)}var s=e.mutations.map(function(e){return WT(t.ks,e)}),o=Yy.fromMillis(e.localWriteTimeMs);return new YS(e.batchId,o,n,s)}function nx(t){var e,n,i=tx(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?tx(t.lastLimboFreeSnapshotVersion):Wy.min();return void 0!==t.query.documents?(Ty(1===(n=t.query).documents.length),e=cw(ew(BT(n.documents[0])))):e=function(t){return cw(XT(t))}(t.query),new gw(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Iy.fromBase64String(t.resumeToken))}function ix(t,e){var n,i=ZS(e.Mt),r=ZS(e.lastLimboFreeSnapshotVersion);n=Mv(e.target)?KT(t.ks,e.target):$T(t.ks,e.target);var s=e.resumeToken.toBase64();return new NS(e.targetId,Lv(e.target),i,s,e.sequenceNumber,r,n)}function rx(t){var e=XT({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uw(e,e.limit,"L"):e}var sx=function(){function t(){}return t.prototype.Ms=function(t,e){return ox(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:tx(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return ox(t).put({bundleId:(n=e).id,createTime:ZS(LT(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return ax(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:rx(e.bundledQuery),readTime:tx(e.readTime)};var e})},t.prototype.Bs=function(t,e){return ax(t).put(function(t){return{name:t.name,readTime:ZS(LT(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ox(t){return GS(t,BS.store)}function ax(t){return GS(t,HS.store)}var cx=function(){function t(){this.qs=new ux}return t.prototype.Us=function(t,e){return this.qs.add(e),uS.resolve()},t.prototype.Qs=function(t,e){return uS.resolve(this.qs.getEntries(e))},t}(),ux=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),i=this.index[e]||new rT($y.J),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.et(),n=t.Z(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rT($y.J)).rt()},t}(),lx=function(){function t(){this.Ks=new ux}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var i=e.et(),r=e.Z();t.Vs(function(){n.Ks.add(e)});var s={collectionId:i,parent:SS(r)};return hx(t).put(s)}return uS.resolve()},t.prototype.Qs=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Oy(e),""],!1,!0);return hx(t).os(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(ES(s.parent))}return n})},t}();function hx(t){return GS(t,FS.store)}var dx={Ws:!1,js:0,Gs:0,zs:0},fx=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function px(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){if(t.code!==Ay.FAILED_PRECONDITION||t.message!==wS)throw t;return by("LocalStore","Unexpectedly lost primary lease"),[2]})})}fx.Zs=10,fx.ti=1e3,fx.ei=new fx(41943040,fx.Zs,fx.ti),fx.ni=new fx(-1,0,0);var mx=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),i=this.ri[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.ii(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.ii(n[i][0],t))return 1===n.length?delete this.ri[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){tv(this.ri,function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}})},t.prototype.nt=function(){return ev(this.ri)},t}(),gx=function(){function t(){this.oi=new mx(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Wy.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?uS.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function bx(t,e,n){var i=t.store(AS.store),r=t.store(PS.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=i.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Ty(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=PS.key(e,d.key.path,n.batchId);s.push(r.delete(f)),u.push(d.key)}return uS.$n(s).next(function(){return u})}function _x(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wy();e=t.noDocument}return JSON.stringify(e).length}var yx=function(){function t(t,e,n,i){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=i,this.mi={}}return t.Ai=function(e,n,i,r){return Ty(""!==e.uid),new t(e.A()?e.uid:"",n,i,r)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wx(t).ls({index:AS.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,i){var r=this,s=Tx(t),o=wx(t);return o.add({}).next(function(a){Ty("number"==typeof a);for(var c=new YS(a,e,n,i),u=function(t,e,n){var i=n.baseMutations.map(function(e){return YT(t.ks,e)}),r=n.mutations.map(function(e){return YT(t.ks,e)});return new AS(e,n.batchId,n.Ss.toMillis(),i,r)}(r.Kt,r.userId,c),l=[],h=new rT(function(t,e){return Ey(t.ot(),e.ot())}),d=0,f=i;d<f.length;d++){var p=f[d],m=PS.key(r.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(u)),l.push(s.put(m,PS.PLACEHOLDER))}return h.forEach(function(e){l.push(r.Ti.Us(t,e))}),t.Vs(function(){r.mi[a]=c.keys()}),uS.$n(l).next(function(){return c})})},t.prototype.yi=function(t,e){var n=this;return wx(t).get(e).next(function(t){return t?(Ty(t.userId===n.userId),ex(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?uS.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var i=t.keys();return n.mi[e]=i,i}return null})},t.prototype.Vi=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return wx(t).ls({index:AS.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(Ty(e.batchId>=i),s=ex(n.Kt,e)),r.done()}).next(function(){return s})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wx(t).ls({index:AS.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wx(t).os(AS.userMutationsIndex,n).next(function(t){return t.map(function(t){return ex(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,i=PS.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Tx(t).ls({range:r},function(i,r,o){var a=i[0],c=i[2],u=ES(i[1]);if(a===n.userId&&e.path.isEqual(u))return wx(t).get(c).next(function(t){if(!t)throw wy();Ty(t.userId===n.userId),s.push(ex(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Si=function(t,e){var n=this,i=new rT(Ey),r=[];return e.forEach(function(e){var s=PS.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Tx(t).ls({range:o},function(t,r,s){var o=t[0],a=t[2],c=ES(t[1]);o===n.userId&&e.path.isEqual(c)?i=i.add(a):s.done()});r.push(a)}),uS.$n(r).next(function(){return n.Di(t,i)})},t.prototype.Ci=function(t,e){var n=this,i=e.path,r=i.length+1,s=PS.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new rT(Ey);return Tx(t).ls({range:o},function(t,e,s){var o=t[0],c=t[2],u=ES(t[1]);o===n.userId&&i.st(u)?u.length===r&&(a=a.add(c)):s.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(wx(t).get(e).next(function(t){if(null===t)throw wy();Ty(t.userId===n.userId),i.push(ex(n.Kt,t))}))}),uS.$n(r).next(function(){return i})},t.prototype.xi=function(t,e){var n=this;return bx(t.bs,this.userId,e).next(function(i){return t.Vs(function(){n.Ni(e.batchId)}),uS.forEach(i,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return uS.resolve();var i=IDBKeyRange.lowerBound(PS.prefixForUser(e.userId)),r=[];return Tx(t).ls({range:i},function(t,n,i){if(t[0]===e.userId){var s=ES(t[1]);r.push(s)}else i.done()}).next(function(){Ty(0===r.length)})})},t.prototype.ki=function(t,e){return vx(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Sx(t).get(this.userId).next(function(t){return t||new IS(e.userId,-1,"")})},t}();function vx(t,e,n){var i=PS.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return Tx(t).ls({range:s,hs:!0},function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()}).next(function(){return o})}function wx(t){return GS(t,AS.store)}function Tx(t){return GS(t,PS.store)}function Sx(t){return GS(t,IS.store)}var xx=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Cx=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var i=new xx(n.highestTargetId);return n.highestTargetId=i.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Wy.W(new Yy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var i=this;return this.Ui(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.G()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Qi(t,r)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(i){return i.targetCount+=1,n.Hi(e,i),n.Qi(t,i)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Ex(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return Ty(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var i=this,r=0,s=[];return Ex(t).ls(function(o,a){var c=nx(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,s.push(i.Yi(t,c)))}).next(function(){return uS.$n(s)}).next(function(){return r})},t.prototype.mn=function(t,e){return Ex(t).ls(function(t,n){var i=nx(n);e(i)})},t.prototype.Ui=function(t){return kx(t).get(jS.key).next(function(t){return Ty(null!==t),t})},t.prototype.Qi=function(t,e){return kx(t).put(jS.key,e)},t.prototype.zi=function(t,e){return Ex(t).put(ix(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Lv(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return Ex(t).ls({range:i,index:NS.queryTargetsIndexName},function(t,n,i){var s=nx(n);Nv(e,s.target)&&(r=s,i.done())}).next(function(){return r})},t.prototype.nr=function(t,e,n){var i=this,r=[],s=Ox(t);return e.forEach(function(e){var o=SS(e.path);r.push(s.put(new MS(n,o))),r.push(i.Ii.sr(t,n,e))}),uS.$n(r)},t.prototype.ir=function(t,e,n){var i=this,r=Ox(t);return uS.forEach(e,function(e){var s=SS(e.path);return uS.$n([r.delete([n,s]),i.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Ox(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Ox(t),r=pT();return i.ls({range:n,hs:!0},function(t,e,n){var i=ES(t[1]),s=new Qy(i);r=r.add(s)}).next(function(){return r})},t.prototype.ki=function(t,e){var n=SS(e.path),i=IDBKeyRange.bound([n],[Oy(n)],!1,!0),r=0;return Ox(t).ls({index:MS.documentTargetsIndex,hs:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.Dn=function(t,e){return Ex(t).get(e).next(function(t){return t?nx(t):null})},t}();function Ex(t){return GS(t,NS.store)}function kx(t){return GS(t,jS.store)}function Ox(t){return GS(t,MS.store)}function Ix(t,e){var n=t[1],i=e[1],r=Ey(t[0],e[0]);return 0===r?Ey(n,i):r}var Ax=function(){function t(t){this.ar=t,this.buffer=new rT(Ix),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ix(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Px=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;by("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(py.b)(e,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return pS(e=n.sent())?(by("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,px(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Dx=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return uS.resolve(Gy.U);var i=new Ax(e);return this.Ar.mn(t,function(t){return i.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return i.lr(t)})}).next(function(){return i.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(by("LruGarbageCollector","Garbage collection skipped; disabled"),uS.resolve(dx)):this.br(t).next(function(i){return i<n.params.Hs?(by("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Hs),dx):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,i,r,s,o,a,c,u=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>u.params.Ys?(by("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Ys+" from "+e),i=u.params.Ys):i=e,s=Date.now(),u.yr(t,i)}).next(function(i){return n=i,o=Date.now(),u.Zi(t,n,e)}).next(function(e){return r=e,a=Date.now(),u.Vr(t,n)}).next(function(t){return c=Date.now(),gy()<=hm.a.DEBUG&&by("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(o-s)+"ms\n\tRemoved "+r+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),uS.resolve({Ws:!0,js:i,Gs:r,zs:t})})},t}(),Rx=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Dx(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Ux(t,n)},t.prototype.rr=function(t,e,n){return Ux(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Ux(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Sx(t)._s(function(i){return vx(t,i,e).next(function(t){return t&&(n=!0),uS.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,i=this.db.Or().Fr(),r=[],s=0;return this.Cr(t,function(o,a){if(a<=e){var c=n.Nr(t,o).next(function(e){if(!e)return s++,i.fi(t,o).next(function(){return i._i(o),Ox(t).delete([0,SS(o.path)])})});r.push(c)}}).next(function(){return uS.$n(r)}).next(function(){return i.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Ux(t,e)},t.prototype.Cr=function(t,e){var n,i=Ox(t),r=Gy.U;return i.ls({index:MS.documentTargetsIndex},function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==Gy.U&&e(new Qy(ES(n)),r),r=o,n=s):r=Gy.U}).next(function(){r!==Gy.U&&e(new Qy(ES(n)),r)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Ux(t,e){return Ox(t).put(function(t,e){return new MS(0,SS(t.path),e)}(e,t.vs))}var Lx=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return jx(t).put(Fx(e),n)},t.prototype._i=function(t,e){var n=jx(t),i=Fx(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.Lr(t,i)})},t.prototype.fi=function(t,e){var n=this;return jx(t).get(Fx(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return jx(t).get(Fx(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:_x(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,i=cT();return this.qr(t,e,function(t,e){var r=n.$r(e);i=i.Ht(t,r)}).next(function(){return i})},t.prototype.Ur=function(t,e){var n=this,i=cT(),r=new eT(Qy.J);return this.qr(t,e,function(t,e){var s=n.$r(e);s?(i=i.Ht(t,s),r=r.Ht(t,_x(e))):(i=i.Ht(t,null),r=r.Ht(t,0))}).next(function(){return{Qr:i,Kr:r}})},t.prototype.qr=function(t,e,n){if(e.nt())return uS.resolve();var i=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),r=e.ee(),s=r.ce();return jx(t).ls({range:i},function(t,e,i){for(var o=Qy.Tt(t);s&&Qy.J(s,o)<0;)n(s,null),s=r.ce();s&&s.isEqual(o)&&(n(s,e),s=r.ae()?r.ce():null),s?i.rs(s.path.rt()):i.done()}).next(function(){for(;s;)n(s,null),s=r.ae()?r.ce():null})},t.prototype.Wr=function(t,e,n){var i=this,r=lT(),s=e.path.length+1,o={};if(n.isEqual(Wy.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),u=JS(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=US.collectionReadTimeIndex}return jx(t).ls(o,function(t,n,o){if(t.length===s){var a=$S(i.Kt,n);e.path.st(a.key.path)?a instanceof Av&&fw(e,a)&&(r=r.Ht(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.Fr=function(t){return new Nx(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Mx(t).get(LS.key).next(function(t){return Ty(!!t),t})},t.prototype.Lr=function(t,e){return Mx(t).put(LS.key,e)},t.prototype.$r=function(t){if(t){var e=$S(this.Kt,t);return e instanceof Pv&&e.version.isEqual(Wy.min())?null:e}return null},t}(),Nx=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Gr=e,i.jr=n,i.zr=new mx(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(py.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],i=0,r=new rT(function(t,e){return Ey(t.ot(),e.ot())});return this.oi.forEach(function(s,o){var a=e.zr.get(s);if(o.li){var c=XS(e.Gr.Kt,o.li,e.ai(s));r=r.add(s.path.Z());var u=_x(c);i+=u-a,n.push(e.Gr.ui(t,s,c))}else if(i-=a,e.jr){var l=XS(e.Gr.Kt,new Pv(s,Wy.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))}),r.forEach(function(i){n.push(e.Gr.Ti.Us(t,i))}),n.push(this.Gr.updateMetadata(t,i)),uS.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(gx);function Mx(t){return GS(t,LS.store)}function jx(t){return GS(t,US.store)}function Fx(t){return t.path.rt()}var Vx=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,i){var r=this;Ty(n<i&&n>=0&&i<=11);var s=new lS("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(OS.store)}(t),function(t){t.createObjectStore(IS.store,{keyPath:IS.keyPath}),t.createObjectStore(AS.store,{keyPath:AS.keyPath,autoIncrement:!0}).createIndex(AS.userMutationsIndex,AS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(PS.store)}(t),Bx(t),function(t){t.createObjectStore(US.store)}(t));var o=uS.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(MS.store),t.deleteObjectStore(NS.store),t.deleteObjectStore(jS.store)}(t),Bx(t)),o=o.next(function(){return function(t){var e=t.store(jS.store),n=new jS(0,0,Wy.min().G(),0);return e.put(jS.key,n)}(s)})),n<4&&i>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(AS.store).os().next(function(n){t.deleteObjectStore(AS.store),t.createObjectStore(AS.store,{keyPath:AS.keyPath,autoIncrement:!0}).createIndex(AS.userMutationsIndex,AS.userMutationsKeyPath,{unique:!0});var i=e.store(AS.store),r=n.map(function(t){return i.put(t)});return uS.$n(r)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(VS.store,{keyPath:VS.keyPath})}(t)})),n<5&&i>=5&&(o=o.next(function(){return r.Hr(s)})),n<6&&i>=6&&(o=o.next(function(){return function(t){t.createObjectStore(LS.store)}(t),r.Jr(s)})),n<7&&i>=7&&(o=o.next(function(){return r.Yr(s)})),n<8&&i>=8&&(o=o.next(function(){return r.Xr(t,s)})),n<9&&i>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(US.store);e.createIndex(US.readTimeIndex,US.readTimeIndexPath,{unique:!1}),e.createIndex(US.collectionReadTimeIndex,US.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(o=o.next(function(){return r.Zr(s)})),n<11&&i>=11&&(o=o.next(function(){!function(t){t.createObjectStore(BS.store,{keyPath:BS.keyPath})}(t),function(t){t.createObjectStore(HS.store,{keyPath:HS.keyPath})}(t)})),o},t.prototype.Jr=function(t){var e=0;return t.store(US.store).ls(function(t,n){e+=_x(n)}).next(function(){var n=new LS(e);return t.store(LS.store).put(LS.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(IS.store),i=t.store(AS.store);return n.os().next(function(n){return uS.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.os(AS.userMutationsIndex,r).next(function(i){return uS.forEach(i,function(i){Ty(i.userId===n.userId);var r=ex(e.Kt,i);return bx(t,n.userId,r).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(MS.store),n=t.store(US.store);return t.store(jS.store).get(jS.key).next(function(t){var i=[];return n.ls(function(n,r){var s=new $y(n),o=function(t){return[0,SS(t)]}(s);i.push(e.get(o).next(function(n){return n?uS.resolve():function(n){return e.put(new MS(0,SS(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return uS.$n(i)})})},t.prototype.Xr=function(t,e){t.createObjectStore(FS.store,{keyPath:FS.keyPath});var n=e.store(FS.store),i=new ux,r=function(t){if(i.add(t)){var e=t.et(),r=t.Z();return n.put({collectionId:e,parent:SS(r)})}};return e.store(US.store).ls({hs:!0},function(t,e){var n=new $y(t);return r(n.Z())}).next(function(){return e.store(PS.store).ls({hs:!0},function(t,e){var n=ES(t[1]);return r(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(NS.store);return n.ls(function(t,i){var r=nx(i),s=ix(e.Kt,r);return n.put(s)})},t}();function Bx(t){t.createObjectStore(MS.store,{keyPath:MS.keyPath}).createIndex(MS.documentTargetsIndex,MS.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(NS.store,{keyPath:NS.keyPath}).createIndex(NS.queryTargetsIndexName,NS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(jS.store)}var Hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qx=function(){function t(e,n,i,r,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.eo=s,this.window=o,this.document=a,this.no=u,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new Py(Ay.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Rx(this,r),this.lo=n+"main",this.Kt=new KS(c),this._o=new hS(this.lo,11,new Vx(this.Kt)),this.fo=new Cx(this.Ii,this.Kt),this.Ti=new lx,this.wo=function(t,e){return new Lx(t,e)}(this.Kt,this.Ti),this.Eo=new sx,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&_y("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Py(Ay.FAILED_PRECONDITION,Hx);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new Gy(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(py.b)(e,void 0,void 0,function(){return Object(py.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(py.b)(e,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(py.b)(e,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Gx(e).put(new VS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(pS(e))return by("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return by("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return zx(t).get(OS.key).next(function(t){return uS.resolve(e.Co(t))})},t.prototype.xo=function(t){return Gx(t).delete(this.clientId)},t.prototype.No=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(py.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=GS(t,VS.store);return e.os().next(function(t){var n=i.Oo(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return uS.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?uS.resolve(!0):zx(t).get(OS.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Py(Ay.FAILED_PRECONDITION,Hx);return!1}}return!(!e.networkEnabled||!e.inForeground)||Gx(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&by("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(py.b)(this,void 0,void 0,function(){var t=this;return Object(py.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[OS.store,VS.store],function(e){var n=new zS(e,Gy.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Gx(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return yx.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i,r=this;return by("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",qS,function(s){return i=new zS(s,r.io?r.io.next():Gy.U),"readwrite-primary"===e?r.po(i).next(function(t){return!!t||r.vo(i)}).next(function(e){if(!e)throw _y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo(function(){return r.ho(!1)}),new Py(Ay.FAILED_PRECONDITION,wS);return n(i)}).next(function(t){return r.Do(i).next(function(){return t})}):r.Go(i).next(function(){return n(i)})}).then(function(t){return i.ps(),t})},t.prototype.Go=function(t){var e=this;return zx(t).get(OS.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Py(Ay.FAILED_PRECONDITION,Hx)})},t.prototype.Do=function(t){var e=new OS(this.clientId,this.allowTabSynchronization,Date.now());return zx(t).put(OS.key,e)},t.Wn=function(){return hS.Wn()},t.prototype.So=function(t){var e=this,n=zx(t);return n.get(OS.key).next(function(t){return e.Co(t)?(by("IndexedDbPersistence","Releasing primary lease."),n.delete(OS.key)):uS.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return by("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _y("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){_y("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zx(t){return GS(t,OS.store)}function Gx(t){return GS(t,VS.store)}function Yx(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wx=function(t,e){this.progress=t,this.zo=e},Kx=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(i){return n.Yo(t,e,i)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var i=cT();return e.forEach(function(t,e){for(var r=0,s=n;r<s.length;r++)e=s[r].xs(t,e);i=i.Ht(t,e)}),i},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(i){var r=n.Xo(t,e,i),s=aT();return r.forEach(function(t,e){e||(e=new Pv(t,Wy.min())),s=s.Ht(t,e)}),s})},t.prototype.Wr=function(t,e,n){return function(t){return Qy.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ow(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Qy(e)).next(function(t){var e=lT();return t instanceof Av&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var i=this,r=e.collectionGroup,s=lT();return this.Ti.Qs(t,r).next(function(o){return uS.forEach(o,function(o){var a=function(t,e){return new Zv(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return i.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var i,r,s=this;return this.wo.Wr(t,e,n).next(function(n){return i=n,s.Ho.Ci(t,e)}).next(function(e){return s.ic(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=jw(c,i.get(u),0,s.Ss);i=l instanceof Av?i.Ht(u,l):i.remove(u)}})}).next(function(){return i.forEach(function(t,n){fw(e,n)||(i=i.remove(t))}),i})},t.prototype.ic=function(t,e,n){for(var i=pT(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var c=a[o];c instanceof qw&&null===n.get(c.key)&&(i=i.add(c.key))}var u=n;return this.wo.getEntries(t,i).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Av&&(u=u.Ht(t,e))}),u})},t}(),$x=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=i}return t.cc=function(e,n){for(var i=pT(),r=pT(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Xx=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Wy.min())?this.hc(t,e):this.uc.Zo(t,i).next(function(s){var o=r.lc(e,s);return(nw(e)||iw(e))&&r._c(e.limitType,o,i,n)?r.hc(t,e):(gy()<=hm.a.DEBUG&&by("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dw(e)),r.uc.Wr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new rT(pw(t));return e.forEach(function(e,i){i instanceof Av&&fw(t,i)&&(n=n.add(i))}),n},t.prototype._c=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.u(i)>0)},t.prototype.hc=function(t,e){return gy()<=hm.a.DEBUG&&by("QueryEngine","Using full collection scan to execute query:",dw(e)),this.uc.Wr(t,e,Wy.min())},t}(),Jx=function(){function t(t,e,n,i){this.persistence=t,this.fc=e,this.Kt=i,this.dc=new eT(Ey),this.wc=new mx(function(t){return Lv(t)},Nv),this.Ec=Wy.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new Kx(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Qx(t,e,n,i){return new Jx(t,e,n,i)}function Zx(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:return n=Sy(t),i=n.Ho,r=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.bi(t).next(function(o){return s=o,i=n.persistence.Ko(e),r=new Kx(n.Tc,i,n.persistence.Wo()),i.bi(t)}).next(function(e){for(var n=[],i=[],o=pT(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return r.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:i}})})})];case 1:return s=o.sent(),[2,(n.Ho=i,n.Ic=r,n.fc.ac(n.Ic),s)]}})})}function tC(t,e){var n=Sy(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.Tc.Fr({jr:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=uS.resolve();return s.forEach(function(t){o=o.next(function(){return i.fi(e,t)}).next(function(e){var s=e,o=n.Os.get(t);Ty(null!==o),(!s||s.version.u(o)<0)&&(s=r.Ds(t,s,n))&&i.ui(s,n.Fs)})}),o.next(function(){return t.Ho.xi(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,i)})})}function eC(t){var e=Sy(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function nC(t,e){var n=Sy(t),i=e.Mt,r=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Fr({jr:!0});r=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=r.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next(function(){return n.fo.nr(t,e.Ue,s)}));var c=e.resumeToken;if(c.o()>0){var u=a.$t(c,i).Lt(t.vs);r=r.Ht(s,u),function(t,e,n){return Ty(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,u,e)&&o.push(n.fo.Ji(t,u))}}});var a=aT();if(e.Me.forEach(function(i,r){e.Le.has(i)&&o.push(n.persistence.Ii.kr(t,i))}),o.push(iC(t,s,e.Me,i,void 0).next(function(t){a=t})),!i.isEqual(Wy.min())){var c=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,i)});o.push(c)}return uS.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=r,t})}function iC(t,e,n,i,r){var s=pT();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=aT();return n.forEach(function(n,o){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;o instanceof Pv&&o.version.isEqual(Wy.min())?(e._i(n,c),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,c),s=s.Ht(n,o)):by("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function rC(t,e){var n=Sy(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function sC(t,e){var n=Sy(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.fo.er(t,e).next(function(r){return r?uS.resolve(i=r):n.fo.qi(t).next(function(r){return i=new gw(e,r,0,t.vs),n.fo.Gi(t,i).next(function(){return i})})})}).then(function(t){var i=n.dc.get(t.targetId);return(null===i||t.Mt.u(i.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function oC(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:i=Sy(t),r=i.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.Ii.removeTarget(t,r)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!pS(o=a.sent()))throw o;return by("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return i.dc=i.dc.remove(e),i.wc.delete(r.target),[2]}})})}function aC(t,e,n){var i=Sy(t),r=Wy.min(),s=pT();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=Sy(t),r=i.wc.get(n);return void 0!==r?uS.resolve(i.dc.get(r)):i.fo.er(e,n)}(i,t,cw(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.fo.cr(t,e.targetId).next(function(t){s=t})}).next(function(){return i.fc.Wr(t,e,n?r:Wy.min(),n?s:pT())}).next(function(t){return{documents:t,Pc:s}})})}function cC(t,e){var n=Sy(t),i=Sy(n.fo),r=n.dc.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.Dn(t,e).next(function(t){return t?t.target:null})})}function uC(t){var e=Sy(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=Sy(t),r=aT(),s=JS(n),o=jx(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:US.readTimeIndex,range:a},function(t,e){var n=$S(i.Kt,e);r=r.Ht(n.key,n),s=e.readTime}).next(function(){return{zo:r,readTime:QS(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function lC(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){return[2,(e=Sy(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=jx(t),n=Wy.min();return e.ls({index:US.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=QS(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function hC(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s,o,a,c,u,l,h,d,f;return Object(py.d)(this,function(p){switch(p.label){case 0:for(r=Sy(t),s=pT(),o=aT(),a=dT(),c=0,u=n;c<u.length;c++)h=e.yc((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=r.Tc.Fr({jr:!0}),[4,sC(r,function(t){return cw(ew($y.ct("__bundle__/docs/"+t)))}(i))];case 1:return f=p.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return iC(t,d,o,Wy.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return r.fo.Xi(t,f.targetId).next(function(){return r.fo.nr(t,s,f.targetId)}).next(function(){return r.Ic.tc(t,e)})})})]}})})}function dC(t,e,n){return void 0===n&&(n=pT()),Object(py.b)(this,void 0,void 0,function(){var i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return[4,sC(t,cw(rx(e.bundledQuery)))];case 1:return i=s.sent(),[2,(r=Sy(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=LT(e.readTime);if(i.Mt.u(s)>=0)return r.Eo.Bs(t,e);var o=i.$t(Iy.h,s);return r.dc=r.dc.Ht(o.targetId,o),r.fo.Ji(t,o).next(function(){return r.fo.Xi(t,i.targetId)}).next(function(){return r.fo.nr(t,n,i.targetId)}).next(function(){return r.Eo.Bs(t,e)})})]}})})}var fC=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return uS.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:LT(n.createTime)}),uS.resolve()},t.prototype.$s=function(t,e){return uS.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:rx(t.bundledQuery),readTime:LT(t.readTime)}}(e)),uS.resolve()},t}(),pC=function(){function t(){this.Sc=new rT(mC.Dc),this.Cc=new rT(mC.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new mC(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new mC(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Qy(new $y([])),i=new mC(n,t),r=new mC(n,t+1),s=[];return this.Cc.Ae([i,r],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Qy(new $y([])),n=new mC(e,t),i=new mC(e,t+1),r=pT();return this.Cc.Ae([n,i],function(t){r=r.add(t.key)}),r},t.prototype.ki=function(t){var e=new mC(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),mC=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Qy.J(t.key,e.key)||Ey(t.$c,e.$c)},t.xc=function(t,e){return Ey(t.$c,e.$c)||Qy.J(t.key,e.key)},t}(),gC=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new rT(mC.Dc)}return t.prototype.Ri=function(t){return uS.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,i){var r=this.Bc;this.Bc++;var s=new YS(r,e,n,i);this.Ho.push(s);for(var o=0,a=i;o<a.length;o++){var c=a[o];this.qc=this.qc.add(new mC(c.key,r)),this.Ti.Us(t,c.key.path.Z())}return uS.resolve(s)},t.prototype.yi=function(t,e){return uS.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),i=n<0?0:n;return uS.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return uS.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return uS.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,i=new mC(e,0),r=new mC(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([i,r],function(t){var e=n.Uc(t.$c);s.push(e)}),uS.resolve(s)},t.prototype.Si=function(t,e){var n=this,i=new rT(Ey);return e.forEach(function(t){var e=new mC(t,0),r=new mC(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,r],function(t){i=i.add(t.$c)})}),uS.resolve(this.Kc(i))},t.prototype.Ci=function(t,e){var n=e.path,i=n.length+1,r=n;Qy.Et(r)||(r=r.child(""));var s=new mC(new Qy(r),0),o=new rT(Ey);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===i&&(o=o.add(t.$c)),!0)},s),uS.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.Uc(t);null!==i&&n.push(i)}),n},t.prototype.xi=function(t,e){var n=this;Ty(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var i=this.qc;return uS.forEach(e.mutations,function(r){var s=new mC(r.key,e.batchId);return i=i.delete(s),n.Ii.Fi(t,r.key)}).next(function(){n.qc=i})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new mC(e,0),i=this.qc.Pe(n);return uS.resolve(e.isEqual(i&&i.key))},t.prototype.Oi=function(t){return uS.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),bC=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new eT(Qy.J),this.size=0}return t.prototype.ui=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.jc(e);return this.docs=this.docs.Ht(i,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,i.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return uS.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,i=cT();return e.forEach(function(t){var e=n.docs.get(t);i=i.Ht(t,e?e.li:null)}),uS.resolve(i)},t.prototype.Wr=function(t,e,n){for(var i=lT(),r=new Qy(e.path.child("")),s=this.docs.ne(r);s.ae();){var o=s.ce(),a=o.value,c=a.li,u=a.readTime;if(!e.path.st(o.key.path))break;u.u(n)<=0||c instanceof Av&&fw(e,c)&&(i=i.Ht(c.key,c))}return uS.resolve(i)},t.prototype.Gc=function(t,e){return uS.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new _C(this)},t.prototype.Mr=function(t){return uS.resolve(this.size)},t}(),_C=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(py.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(i,r){r&&r.li?n.push(e.Gr.ui(t,r.li,e.ai(i))):e.Gr._i(i)}),uS.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(gx),yC=function(){function t(t){this.persistence=t,this.zc=new mx(function(t){return Lv(t)},Nv),this.lastRemoteSnapshotVersion=Wy.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new pC,this.targetCount=0,this.Yc=xx.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),uS.resolve()},t.prototype.Ki=function(t){return uS.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return uS.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),uS.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),uS.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new xx(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,uS.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),uS.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,uS.resolve()},t.prototype.Zi=function(t,e,n){var i=this,r=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.zc.delete(o),s.push(i.Xi(t,a.targetId)),r++)}),uS.$n(s).next(function(){return r})},t.prototype.tr=function(t){return uS.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return uS.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),uS.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var i=this.persistence.Ii,r=[];return i&&e.forEach(function(e){r.push(i.Fi(t,e))}),uS.$n(r)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),uS.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return uS.resolve(n)},t.prototype.ki=function(t,e){return uS.resolve(this.Jc.ki(e))},t}(),vC=function(){function t(t,e){var n=this;this.Xc={},this.io=new Gy(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new yC(this),this.Ti=new cx,this.wo=function(t,e){return new bC(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new KS(e),this.Eo=new fC(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new gC(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i=this;by("MemoryPersistence","Starting transaction:",t);var r=new wC(this.io.next());return this.Ii.ta(),n(r).next(function(t){return i.Ii.ea(r).next(function(){return t})}).Mn().then(function(t){return r.ps(),t})},t.prototype.na=function(t,e){return uS.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),wC=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(py.c)(e,t),e}(TS),TC=function(){function t(t){this.persistence=t,this.sa=new pC,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw wy()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),uS.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),uS.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),uS.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var i=this.persistence.Dr();return i.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return i.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return uS.forEach(this.oa,function(i){var r=Qy.ft(i);return e.ca(t,r).next(function(t){t||n._i(r)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return uS.Bn([function(){return uS.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function SC(t,e){return"firestore_clients_"+t+"_"+e}function xC(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.A()&&(i+="_"+e.uid),i}function CC(t,e){return"firestore_targets_"+t+"_"+e}var EC=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.aa=function(e,n,i){var r=JSON.parse(i),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Py(r.error.code,r.error.message)),s?new t(e,n,r.state,o):(_y("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kC=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Py(i.error.code,i.error.message)),r?new t(e,i.state,s):(_y("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),OC=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=gT(),o=0;r&&o<i.activeTargetIds.length;++o)r=dv(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(_y("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),IC=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_y("SharedClientState","Failed to parse online state: "+e),null)},t}(),AC=function(){function t(){this.activeTargetIds=gT()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),PC=function(){function t(t,e,n,i,r){this.window=t,this.eo=e,this.persistenceKey=n,this._a=i,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new eT(Ey),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ma=SC(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new AC),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e,n,i,r,s,o,a,c,u,l=this;return Object(py.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._a&&(r=this.getItem(SC(this.persistenceKey,i)))&&(s=OC.aa(i,r))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),c=0,u=this.Ia;c<u.length;c++)this.Ea(u[c]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(CC(this.persistenceKey,t));if(n){var i=kC.aa(t,n);i&&(e=i.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(CC(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var i=this;e.forEach(function(t){i.Oa(t)}),this.currentUser=t,n.forEach(function(t){i.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return by("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){by("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){by("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(by("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void _y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(py.b)(e,void 0,void 0,function(){var t,e,i,r,s,o;return Object(py.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Ya(n.key,n.newValue)))return[2,this.Xa(i)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(r=this.Za(n.key,n.newValue)))return[2,this.tu(r)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=Gy.U;if(null!=t)try{var n=JSON.parse(t);Ty("number"==typeof n),e=n}catch(t){_y("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gy.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var i=new EC(this.currentUser,t,e,n),r=xC(this.persistenceKey,this.currentUser,t);this.setItem(r,i.ua())},t.prototype.Oa=function(t){var e=xC(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var i=CC(this.persistenceKey,t),r=new kC(t,e,n);this.setItem(i,r.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return OC.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),i=Number(n[1]);return EC.aa(new Fy(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),i=Number(n[1]);return kC.aa(i,e)},t.prototype.ba=function(t){return IC.aa(t)},t.prototype.Xa=function(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(by("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,i=e?this.Ta.Ht(t,e):this.Ta.remove(t),r=this.Da(this.Ta),s=this.Da(i),o=[],a=[];return s.forEach(function(t){r.has(t)||o.push(t)}),r.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=i})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=gT();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),DC=function(){function t(){this.ru=new AC,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new AC,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),RC=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),UC=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){by("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){by("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),LC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NC=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),MC=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(py.c)(e,t),e.prototype.Du=function(t,e,n,i){return new Promise(function(r,s){var o=new fy;o.listenOnce(ly.COMPLETE,function(){try{switch(o.getLastErrorCode()){case uy.NO_ERROR:var e=o.getResponseJson();by("Connection","XHR received:",JSON.stringify(e)),r(e);break;case uy.TIMEOUT:by("Connection",'RPC "'+t+'" timed out'),s(new Py(Ay.DEADLINE_EXCEEDED,"Request time out"));break;case uy.HTTP_ERROR:var n=o.getStatus();if(by("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var i=o.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ay).indexOf(e)>=0?e:Ay.UNKNOWN}(i.status);s(new Py(a,i.message))}else s(new Py(Ay.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Py(Ay.UNAVAILABLE,"Connection failed."));break;default:wy()}}finally{by("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(i);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new ry,r=ab(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(dm.m)()||Object(dm.o)()||Object(dm.k)()||Object(dm.l)()||Object(dm.p)()||Object(dm.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");by("Connection","Creating WebChannel: "+o,s);var a=i.createWebChannel(o,s),c=!1,u=!1,l=new NC({du:function(t){u?by("Connection","Not sending because WebChannel is closed:",t):(c||(by("Connection","Opening WebChannel transport."),a.open(),c=!0),by("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,dy.EventType.OPEN,function(){u||by("Connection","WebChannel transport opened.")}),h(a,dy.EventType.CLOSE,function(){u||(u=!0,by("Connection","WebChannel transport closed"),l.Pu())}),h(a,dy.EventType.ERROR,function(t){u||(u=!0,yy("Connection","WebChannel transport errored:",t),l.Pu(new Py(Ay.UNAVAILABLE,"The operation could not be completed")))}),h(a,dy.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Ty(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){by("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=Kw[t];if(void 0!==e)return tT(e)}(r),o=i.message;void 0===s&&(s=Ay.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),u=!0,l.Pu(new Py(s,o)),a.close()}else by("Connection","WebChannel received:",n),l.yu(n)}}),h(r,hy.STAT_EVENT,function(t){10===t.stat?by("Connection","Detected buffering proxy"):11===t.stat&&by("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,i){var r=this.vu(t,e);by("RestConnection","Sending: ",r,n);var s={};return this.Su(s,i),this.Du(t,r,s,n).then(function(t){return by("RestConnection","Received: ",t),t},function(e){throw yy("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.Cu=function(t,e,n,i){return this.bu(t,e,n,i)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+LC[t]},t}());function jC(){return"undefined"!=typeof window?window:null}function FC(){return"undefined"!=typeof document?document:null}function VC(t){return new PT(t,!0)}var BC=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=i,this.Ou=r,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),i=Math.max(0,Date.now()-this.Lu),r=Math.max(0,n-i);r>0&&by("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Mu=this.eo.Ir(this.ds,r,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),HC=function(){function t(t,e,n,i,r,s){this.eo=t,this.Qu=n,this.Ku=i,this.Wu=r,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new BC(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Ay.RESOURCE_EXHAUSTED?(_y(e.toString()),_y("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ay.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Py(Ay.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(py.b)(t,void 0,void 0,function(){return Object(py.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return by("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(by("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),qC=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).Kt=r,o}return Object(py.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wy()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Ty(void 0===e||"string"==typeof e),Iy.fromBase64String(e||"")):(Ty(void 0===e||e instanceof Uint8Array),Iy.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ay.UNKNOWN:tT(t.code);return new Py(e,t.message||"")}(a);n=new xT(i,r,s,o||null)}else if("documentChange"in e){r=FT(t,(i=e.documentChange).document.name),s=LT(i.document.updateTime);var a=new Ev({mapValue:{fields:i.document.fields}}),c=(o=new Av(r,s,a,{}),i.targetIds||[]);n=new TT(c,i.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)r=FT(t,(i=e.documentDelete).document),s=i.readTime?LT(i.readTime):Wy.min(),a=new Pv(r,s),n=new TT([],o=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=FT(t,(i=e.documentRemove).document),n=new TT([],s=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return wy();var u=e.filter;r=new Qw(i=u.count||0),n=new ST(s=u.targetId,r)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Wy.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wy.min():e.readTime?LT(e.readTime):Wy.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=HT(this.Kt),e.addTarget=function(t,e){var n,i=e.target;return(n=Mv(i)?{documents:KT(t,i)}:{query:$T(t,i)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=RT(t,e.resumeToken):e.Mt.u(Wy.min())>0&&(n.readTime=DT(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wy()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=HT(this.Kt),e.removeTarget=t,this.eh(e)},e}(HC),zC=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).Kt=r,o._h=!1,o}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ty(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ty(void 0!==e),t.map(function(t){return function(t,e){var n=LT(t.updateTime?t.updateTime:e);n.isEqual(Wy.min())&&(n=LT(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new Rw(n,i)}(t,e)})):[]}(t.writeResults,t.commitTime),n=LT(t.commitTime);return this.listener.wh(n,e)}return Ty(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=HT(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return YT(e.Kt,t)})};this.eh(n)},e}(HC),GC=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Ku=n,r.Kt=i,r.Ih=!1,r}return Object(py.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Py(Ay.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then(function(r){return i.Ku.bu(t,e,n,r)}).catch(function(t){throw t.code===Ay.UNAUTHENTICATED&&i.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then(function(r){return i.Ku.Cu(t,e,n,r)}).catch(function(t){throw t.code===Ay.UNAUTHENTICATED&&i.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),YC=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(_y(e),this.Ph=!1):by("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),WC=function(t,e,n,i,r){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=r,this.kh.cu(function(t){n.ys(function(){return Object(py.b)(s,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return nE(this)?(by("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return(e=Sy(t)).Fh.add(4),[4,$C(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,KC(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new YC(n,i)};function KC(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:if(!nE(t))return[3,4];e=0,n=t.Oh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function $C(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:e=0,n=t.Oh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function XC(t,e){var n=Sy(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),eE(n)?tE(n):bE(n).Ju()&&QC(n,e))}function JC(t,e){var n=Sy(t),i=bE(n);n.Nh.delete(e),i.Ju()&&ZC(n,e),0===n.Nh.size&&(i.Ju()?i.Zu():nE(n)&&n.Mh.set("Unknown"))}function QC(t,e){t.Lh.cn(e.targetId),bE(t).hh(e)}function ZC(t,e){t.Lh.cn(e),bE(t).lh(e)}function tE(t){t.Lh=new ET({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),bE(t).start(),t.Mh.yh()}function eE(t){return nE(t)&&!bE(t).Hu()&&t.Nh.size>0}function nE(t){return 0===Sy(t).Fh.size}function iE(t){t.Lh=void 0}function rE(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){return t.Nh.forEach(function(e,n){QC(t,e)}),[2]})})}function sE(t,e){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(n){return iE(t),eE(t)?(t.Mh.ph(e),tE(t)):t.Mh.set("Unknown"),[2]})})}function oE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof xT&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:n=e.cause,i=0,r=e.targetIds,o.label=1;case 1:return i<r.length?t.Nh.has(s=r[i])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),by("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,aE(t,i)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof TT?t.Lh.wn(e):e instanceof ST?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Wy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,eC(t.Sh)];case 8:return r=o.sent(),n.u(r)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,i){if(n.resumeToken.o()>0){var r=t.Nh.get(i);r&&t.Nh.set(i,r.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Iy.h,n.Mt)),ZC(t,e);var i=new gw(n.target,e,1,n.sequenceNumber);QC(t,i)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return by("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,aE(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function aE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i=this;return Object(py.d)(this,function(r){switch(r.label){case 0:if(!pS(e))throw e;return t.Fh.add(1),[4,$C(t)];case 1:return r.sent(),t.Mh.set("Offline"),n||(n=function(){return eC(t.Sh)}),t.fs.bo(function(){return Object(py.b)(i,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return by("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,KC(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function cE(t,e){return e().catch(function(n){return aE(t,n,e)})}function uE(t){return Object(py.b)(this,void 0,void 0,function(){var e,n,i,r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:e=Sy(t),n=_E(e),i=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return nE(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,rC(e.Sh,i)];case 3:return null===(r=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(i=r.batchId,function(t,e){t.xh.push(e);var n=_E(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,r),[3,6]);case 4:return s=o.sent(),[4,aE(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return lE(e)&&hE(e),[2]}})})}function lE(t){return nE(t)&&!_E(t).Hu()&&t.xh.length>0}function hE(t){_E(t).start()}function dE(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){return _E(t).Th(),[2]})})}function fE(t){return Object(py.b)(this,void 0,void 0,function(){var e,n,i;return Object(py.d)(this,function(r){for(e=_E(t),n=0,i=t.xh;n<i.length;n++)e.dh(i[n].mutations);return[2]})})}function pE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return i=t.xh.shift(),r=WS.from(i,e,n),[4,cE(t,function(){return t.Ch.qh(r)})];case 1:return s.sent(),[4,uE(t)];case 2:return s.sent(),[2]}})})}function mE(t,e){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(n){switch(n.label){case 0:return e&&_E(t).fh?[4,function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return Zw(i=e.code)&&i!==Ay.ABORTED?(n=t.xh.shift(),_E(t).Xu(),[4,cE(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,uE(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lE(t)&&hE(t),[2]}})})}function gE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n;return Object(py.d)(this,function(i){switch(i.label){case 0:return n=Sy(t),e?(n.Fh.delete(2),[4,KC(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,$C(n)]);case 3:i.sent(),n.Mh.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function bE(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var i=Sy(t);return i.mh(),new qC(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:rE.bind(null,t),Iu:sE.bind(null,t),uh:oE.bind(null,t)}),t.Oh.push(function(n){return Object(py.b)(e,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),eE(t)?tE(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),iE(t),e.label=3;case 3:return[2]}})})})),t.Qh}function _E(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var i=Sy(t);return i.mh(),new zC(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:dE.bind(null,t),Iu:mE.bind(null,t),Eh:fE.bind(null,t),wh:pE.bind(null,t)}),t.Oh.push(function(n){return Object(py.b)(e,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,uE(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(by("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var yE=function(){this.Wh=void 0,this.listeners=[]},vE=function(){this.queries=new mx(function(t){return hw(t)},lw),this.onlineState="Unknown",this.jh=new Set};function wE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c;return Object(py.d)(this,function(u){switch(u.label){case 0:if(n=Sy(t),r=!1,(s=n.queries.get(i=e.query))||(r=!0,s=new yE),!r)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Gh(i)];case 2:return o.Wh=u.sent(),[3,4];case 3:return a=u.sent(),c=vS(a,"Initialization of query '"+dw(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&CE(n),[2]}})})}function TE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(py.d)(this,function(a){return n=Sy(t),r=!1,(s=n.queries.get(i=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length),r?[2,(n.queries.delete(i),n.Jh(i))]:[2]})})}function SE(t,e){for(var n=Sy(t),i=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hh(o)&&(i=!0);a.Wh=o}}i&&CE(n)}function xE(t,e,n){var i=Sy(t),r=i.queries.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(n);i.queries.delete(e)}function CE(t){t.jh.forEach(function(t){t.next()})}var EE=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new yT(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=yT.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),kE=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),OE=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return FT(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?GT(this.Kt,t.document,!1):new Pv(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return LT(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new OE(this.Kt),i=0,r=t;i<r.length;i++){var s=r[i];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||pT()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return[4,hC(this.Sh,new OE(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,i=this.queries,s.label=2;case 2:return n<i.length?[4,dC(this.Sh,r=i[n],e.get(r.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wx(Object.assign({},this.progress),t))]}})})}}();var IE=function(t){this.key=t},AE=function(t){this.key=t},PE=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=pT(),this.Ce=pT(),this.ll=pw(t),this._l=new bT(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,i=e?e.wl:new _T,r=e?e._l:this._l,s=e?e.Ce:this.Ce,o=r,a=!1,c=nw(this.query)&&r.size===this.query.limit?r.last():null,u=iw(this.query)&&r.size===this.query.limit?r.first():null;if(t.Zt(function(t,e){var l=r.get(t),h=e instanceof Av?e:null;h&&(h=fw(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.El(l,h)||(i.track({type:2,doc:h}),p=!0,(c&&n.ll(h,c)>0||u&&n.ll(h,u)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),nw(this.query)||iw(this.query))for(;o.size>this.query.limit;){var l=nw(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),i.track({type:1,doc:l})}return{_l:o,wl:i,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var i=this,r=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wy()}};return n(t)-n(e)}(t.type,e.type)||i.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==s.length||c?{snapshot:new yT(this.query,t._l,r,s,t.Ce,0===a,c,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new _T,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=pT(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new AE(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new IE(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=pT();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return yT.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),DE=function(t,e,n){this.query=t,this.targetId=e,this.view=n},RE=function(t){this.key=t,this.yl=!1},UE=function(){function t(t,e,n,i,r,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=i,this.currentUser=r,this.bl=s,this.vl={},this.Sl=new mx(function(t){return hw(t)},lw),this.Dl=new Map,this.Cl=[],this.xl=new eT(Qy.J),this.Nl=new Map,this.Fl=new pC,this.Ol={},this.kl=new Map,this.Ml=xx.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function LE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:return n=lk(t),(r=n.Sl.get(e))?(n.pl.ka(r.targetId),i=r.view.Pl(),[3,4]):[3,1];case 1:return[4,sC(n.Sh,cw(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,NE(n,e,s.targetId,"current"===o)];case 3:i=a.sent(),n.$l&&XC(n.gl,s),a.label=4;case 4:return[2,i]}})})}function NE(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s,o,a,c,u;return Object(py.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,i){return function(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:return(r=e.view.dl(n))._c?[4,aC(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,r)})]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return s=i&&i.Oe.get(e.targetId),o=e.view.Ei(r,t.$l,s),[2,($E(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,i)},[4,aC(t.Sh,e,!0)];case 1:return r=l.sent(),s=new PE(e,r.Pc),o=s.dl(r.documents),a=wT.Be(n,i&&"Offline"!==t.onlineState),c=s.Ei(o,t.$l,a),$E(t,n,c.ml),u=new DE(e,n,s),[2,(t.Sl.set(e,u),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}})})}function ME(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return n=Sy(t),i=n.Sl.get(e),(r=n.Dl.get(i.targetId)).length>1?[2,(n.Dl.set(i.targetId,r.filter(function(t){return!lw(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(i.targetId),n.pl.Ca(i.targetId)?[3,2]:[4,oC(n.Sh,i.targetId,!1).then(function(){n.pl.Ba(i.targetId),JC(n.gl,i.targetId),WE(n,i.targetId)}).catch(px)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return WE(n,i.targetId),[4,oC(n.Sh,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function jE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:i=hk(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=Sy(t),r=Yy.now(),s=e.reduce(function(t,e){return t.add(e.key)},pT());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Fw(u,n.get(u.key));null!=l&&o.push(new qw(u.key,l,Ov(l.proto.mapValue),Uw.exists(!0)))}return i.Ho.Pi(t,r,o,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(i.Sh,e)];case 2:return r=a.sent(),i.pl.xa(r.batchId),function(t,e,n){var i=t.Ol[t.currentUser.R()];i||(i=new eT(Ey)),i=i.Ht(e,n),t.Ol[t.currentUser.R()]=i}(i,r.batchId,n),[4,QE(i,r.oi)];case 3:return a.sent(),[4,uE(i.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=vS(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function FE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:n=Sy(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,nC(n.Sh,e)];case 2:return i=r.sent(),e.Oe.forEach(function(t,e){var i=n.Nl.get(e);i&&(Ty(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?i.yl=!0:t.Qe.size>0?Ty(i.yl):t.Ke.size>0&&(Ty(i.yl),i.yl=!1))}),[4,QE(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,px(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function VE(t,e,n){var i=Sy(t);if(i.$l&&0===n||!i.$l&&1===n){var r=[];i.Sl.forEach(function(t,n){var i=n.view.zh(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=Sy(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,s=n.listeners;r<s.length;r++)s[r].zh(e)&&(i=!0)}),i&&CE(n)}(i.Vl,e),r.length&&i.vl.uh(r),i.onlineState=e,i.$l&&i.pl.Ka(e)}}function BE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o,a,c;return Object(py.d)(this,function(u){switch(u.label){case 0:return(i=Sy(t)).pl.qa(e,"rejected",n),r=i.Nl.get(e),(s=r&&r.key)?(o=(o=new eT(Qy.J)).Ht(s,new Pv(s,Wy.min())),a=pT().add(s),c=new vT(Wy.min(),new Map,new rT(Ey),o,a),[4,FE(i,c)]):[3,2];case 1:return u.sent(),i.xl=i.xl.remove(s),i.Nl.delete(e),JE(i),[3,4];case 2:return[4,oC(i.Sh,e,!1).then(function(){return WE(i,e,n)}).catch(px)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function HE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:n=Sy(t),i=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,tC(n.Sh,e)];case 2:return r=s.sent(),YE(n,i,null),GE(n,i),n.pl.Fa(i,"acknowledged"),[4,QE(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,px(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function qE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:i=Sy(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Sy(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n.Ho.yi(t,e).next(function(e){return Ty(null!==e),i=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,i)})})}(i.Sh,e)];case 2:return r=s.sent(),YE(i,e,n),GE(i,e),i.pl.Fa(e,"rejected",n),[4,QE(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,px(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:nE((n=Sy(t)).gl)||by("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Sy(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.kl.get(i)||[]).push(e),n.kl.set(i,r),[3,4]);case 3:return s=a.sent(),o=vS(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function GE(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function YE(t,e,n){var i=Sy(t),r=i.Ol[i.currentUser.R()];if(r){var s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ol[i.currentUser.R()]=r}}function WE(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var i=0,r=t.Dl.get(e);i<r.length;i++){var s=r[i];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||KE(t,e)})}function KE(t,e){var n=t.xl.get(e);null!==n&&(JC(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),JE(t))}function $E(t,e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof IE?(t.Fl.sr(s.key,e),XE(t,s)):s instanceof AE?(by("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.rr(s.key,e),t.Fl.ki(s.key)||KE(t,s.key)):wy()}}function XE(t,e){var n=e.key;t.xl.get(n)||(by("SyncEngine","New document in limbo: "+n),t.Cl.push(n),JE(t))}function JE(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new RE(e)),t.xl=t.xl.Ht(e,n),XC(t.gl,new gw(cw(ew(e.path)),n,2,Gy.U))}}function QE(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:return i=Sy(t),r=[],s=[],o=[],i.Sl.nt()?[3,3]:(i.Sl.forEach(function(t,a){o.push(i.Bl(a,e,n).then(function(t){if(t){i.$l&&i.pl.qa(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=$x.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),i.vl.uh(r),[4,function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c,u;return Object(py.d)(this,function(l){switch(l.label){case 0:n=Sy(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return uS.forEach(e,function(e){return uS.forEach(e.rc,function(i){return n.persistence.Ii.sr(t,e.targetId,i)}).next(function(){return uS.forEach(e.oc,function(i){return n.persistence.Ii.rr(t,e.targetId,i)})})})})];case 2:return l.sent(),[3,4];case 3:if(!pS(i=l.sent()))throw i;return by("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,s=e;r<s.length;r++)a=(o=s[r]).targetId,o.fromCache||(c=n.dc.get(a),u=c.Bt(c.Mt),n.dc=n.dc.Ht(a,u));return[2]}})})}(i.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ZE(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return(n=Sy(t)).currentUser.isEqual(e)?[3,3]:(by("SyncEngine","User change. New user:",e.R()),[4,Zx(n.Sh,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Py(Ay.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,i.Ac,i.Rc),[4,QE(n,i.mc)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function tk(t,e){var n=Sy(t),i=n.Nl.get(e);if(i&&i.yl)return pT().add(i.key);var r=pT(),s=n.Dl.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var c=n.Sl.get(a[o]);r=r.ye(c.view.fl)}return r}function ek(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return[4,aC((n=Sy(t)).Sh,e.query,!0)];case 1:return i=s.sent(),r=e.view.Rl(i),[2,(n.$l&&$E(n,e.targetId,r.ml),r)]}})})}function nk(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){return[2,uC((e=Sy(t)).Sh).then(function(t){return QE(e,t)})]})})}function ik(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Sy(t),i=Sy(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):uS.resolve(null)})})}((r=Sy(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,uE(r.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(YE(r,e,i||null),GE(r,e),function(t,e){Sy(Sy(t).Ho).Ni(e)}(r.Sh,e)):wy(),o.label=4;case 4:return[4,QE(r,s)];case 5:return o.sent(),[3,7];case 6:by("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function rk(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c;return Object(py.d)(this,function(u){switch(u.label){case 0:return lk(n=Sy(t)),hk(n),!0!==e||!0===n.Ll?[3,3]:(i=n.pl.Sa(),[4,sk(n,i.rt())]);case 1:return r=u.sent(),n.Ll=!0,[4,gE(n.gl,!0)];case 2:for(u.sent(),s=0,o=r;s<o.length;s++)XC(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):c=c.then(function(){return WE(n,e),oC(n.Sh,e,!0)}),JC(n.gl,e)}),[4,c]);case 4:return u.sent(),[4,sk(n,a)];case 5:return u.sent(),function(t){var e=Sy(t);e.Nl.forEach(function(t,n){JC(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new eT(Qy.J)}(n),n.Ll=!1,[4,gE(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function sk(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c,u,l,h,d,f,p;return Object(py.d)(this,function(m){switch(m.label){case 0:n=Sy(t),i=[],r=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Dl.get(a=o[s]))&&0!==u.length?[4,sC(n.Sh,cw(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,ek(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&r.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cC(n.Sh,a)];case 8:return p=m.sent(),[4,sC(n.Sh,p)];case 9:return c=m.sent(),[4,NE(n,ok(p),a,!1)];case 10:m.sent(),m.label=11;case 11:i.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(r),i)]}})})}function ok(t){return tw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ak(t){var e=Sy(t);return Sy(Sy(e.Sh).persistence).Qo()}function ck(t,e,n,i){return Object(py.b)(this,void 0,void 0,function(){var r,s,o;return Object(py.d)(this,function(a){switch(a.label){case 0:return(r=Sy(t)).Ll?(by("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,uC(r.Sh)];case 3:return s=a.sent(),o=vT.$e(e,"current"===n),[4,QE(r,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,oC(r.Sh,e,!0)];case 6:return a.sent(),WE(r,e,i),[3,8];case 7:wy(),a.label=8;case 8:return[2]}})})}function uk(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o,a,c,u,l,h;return Object(py.d)(this,function(d){switch(d.label){case 0:if(!(i=lk(t)).Ll)return[3,10];r=0,s=e,d.label=1;case 1:return r<s.length?i.Dl.has(o=s[r])?(by("SyncEngine","Adding an already active target "+o),[3,5]):[4,cC(i.Sh,o)]:[3,6];case 2:return a=d.sent(),[4,sC(i.Sh,a)];case 3:return c=d.sent(),[4,NE(i,ok(a),c.targetId,!1)];case 4:d.sent(),XC(i.gl,c),d.label=5;case 5:return r++,[3,1];case 6:u=function(t){return Object(py.d)(this,function(e){switch(e.label){case 0:return i.Dl.has(t)?[4,oC(i.Sh,t,!1).then(function(){JC(i.gl,t),WE(i,t)}).catch(px)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function lk(t){var e=Sy(t);return e.gl.Ch.Bh=FE.bind(null,e),e.gl.Ch.Sn=tk.bind(null,e),e.gl.Ch.$h=BE.bind(null,e),e.vl.uh=SE.bind(null,e.Vl),e.vl.ql=xE.bind(null,e.Vl),e}function hk(t){var e=Sy(t);return e.gl.Ch.qh=HE.bind(null,e),e.gl.Ch.Uh=qE.bind(null,e),e}var dk=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return this.Kt=VC(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Qx(this.persistence,new Xx,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new vC(TC.ra,this.Kt)},t.prototype.jl=function(t){return new DC},t.prototype.terminate=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),fk=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xl=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(py.c)(e,t),e.prototype.initialize=function(e){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,lC(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,hk(this.Xl.fa)];case 4:return n.sent(),[4,uE(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Qx(this.persistence,new Xx,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Px(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Yx(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?fx.Xs(this.cacheSizeBytes):fx.ei;return new qx(this.synchronizeTabs,e,t.clientId,n,t.fs,jC(),FC(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new DC},e}(dk),pk=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Xl=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(py.c)(e,t),e.prototype.initialize=function(e){return Object(py.b)(this,void 0,void 0,function(){var n,i=this;return Object(py.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Xl.fa,this.pl instanceof PC?(this.pl.fa={nu:ik.bind(null,n),su:ck.bind(null,n),iu:uk.bind(null,n),Qo:ak.bind(null,n),eu:nk.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(py.b)(i,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return[4,rk(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.jl=function(t){var e=jC();if(!PC.Wn(e))throw new Py(Ay.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yx(t.gu.T,t.gu.persistenceKey);return new PC(e,t.fs,n,t.clientId,t.Yl)},e}(fk),mk=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n=this;return Object(py.d)(this,function(i){switch(i.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return VE(n.fa,t,1)},this.gl.Ch.s_=ZE.bind(null,this.fa),[4,gE(this.gl,this.fa.$l)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new vE},t.prototype.Zl=function(t){var e=VC(t.gu.T),n=new MC(t.gu);return function(t,e,n){return new GC(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,i,r,s,o=this;return e=this.Sh,n=this.Dh,i=t.fs,r=function(t){return VE(o.fa,t,0)},s=UC.Wn()?new UC:new RC,new WC(e,n,i,r,s)},t.prototype.n_=function(t,e){return function(t,e,n,i,r,s,o){var a=new UE(t,e,n,i,r,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return e=Sy(t),by("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,$C(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),gk=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),bk=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new cS,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e,n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return[4,this.u_()];case 1:return null===(t=r.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return i=r.sent(),[2,new kE(JSON.parse(i),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e;return Object(py.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e;return Object(py.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Py(Ay.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Jy(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),_k=function(t){this._methodName=t};function yk(t,e,n){if(!n)throw new Py(Ay.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vk(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Py(Ay.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function wk(t,e,n,i){if(!0===e&&!0===i)throw new Py(Ay.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Tk(t){if(!Qy.Et(t))throw new Py(Ay.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sk(t){if(Qy.Et(t))throw new Py(Ay.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xk(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wy()}function Ck(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Py(Ay.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xk(t);throw new Py(Ay.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ek(t,e){if(e<=0)throw new Py(Ay.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var kk=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Py(Ay.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Py(Ay.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,wk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ok=new Map,Ik=function(){function t(t,e){this.w_="(lite)",this.E_=new kk({}),this.T_=!1,t instanceof jy?(this.I_=t,this.m_=new By):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Py(Ay.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jy(t.options.projectId)}(t),this.m_=new Hy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Py(Ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Py(Ay.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new kk(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new By;switch(t.type){case"gapi":var e=t.client;return Ty(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zy(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Py(Ay.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Ok.get(this))&&(by("ComponentProvider","Removing Datastore"),Ok.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ak=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Dk(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Pk=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Dk=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,ew(i))||this).firestore=e,r.D_=i,r.type="collection",r}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Ak(this.firestore,null,new Qy(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Pk);function Rk(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Ry&&(t=t._),yk("collection","path",e),t instanceof Ik)return Sk(n=$y.ct.apply($y,Object(py.g)([e],i))),new Dk(t,null,n);if(!(t instanceof Ak||t instanceof Dk))throw new Py(Ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sk(n=$y.ct.apply($y,Object(py.g)([t.path],i)).child($y.ct(e))),new Dk(t.firestore,null,n)}function Uk(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Ry&&(t=t._),1===arguments.length&&(e=Cy.t()),yk("doc","path",e),t instanceof Ik)return Tk(n=$y.ct.apply($y,Object(py.g)([e],i))),new Ak(t,null,new Qy(n));if(!(t instanceof Ak||t instanceof Dk))throw new Py(Ay.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tk(n=t.D_.child($y.ct.apply($y,Object(py.g)([e],i)))),new Ak(t.firestore,t instanceof Dk?t.v_:null,new Qy(n))}function Lk(t,e){return t instanceof Ry&&(t=t._),e instanceof Ry&&(e=e._),(t instanceof Ak||t instanceof Dk)&&(e instanceof Ak||e instanceof Dk)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Nk(t,e){return t instanceof Ry&&(t=t._),e instanceof Ry&&(e=e._),t instanceof Pk&&e instanceof Pk&&t.firestore===e.firestore&&lw(t.C_,e.C_)&&t.v_===e.v_}var Mk=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Py(Ay.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Py(Ay.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Ey(this.x_,t.x_)||Ey(this.N_,t.N_)},t}(),jk=/^__.*__$/,Fk=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new qw(t,this.data,this.zt,e,this.fieldTransforms):new Hw(t,this.data,e,this.fieldTransforms)},t}(),Vk=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new qw(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wy()}}var Hk=function(){function t(t,e,n,i,r,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.O_(),this.fieldTransforms=r||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.q_(t),i},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.O_(),i},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return cO(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Bk(this.k_)&&jk.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),qk=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||VC(t)}return t.prototype.G_=function(t,e,n,i){return void 0===i&&(i=!1),new Hk({k_:t,methodName:e,j_:n,path:Jy.at(),B_:!1,W_:i},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function zk(t){var e=t.p_(),n=VC(t.I_);return new qk(t.I_,!!e.ignoreUndefinedProperties,n)}function Gk(t,e,n,i,r,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,r);rO("Data must be an object, but it was:",o,i);var a,c,u=nO(i,o);if(s.merge)a=new nv(o.zt),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=sO(e,d[h],n);if(!o.contains(f))throw new Py(Ay.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");uO(l,f)||l.push(f)}a=new nv(l),c=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,c=o.fieldTransforms;return new Fk(new Ev(u),a,c)}var Yk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(_k);function Wk(t,e,n){return new Hk({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Kk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.z_=function(t){return new Dw(t.path,new xw)},e.prototype.isEqual=function(t){return t instanceof e},e}(_k),$k=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(py.c)(e,t),e.prototype.z_=function(t){var e=Wk(this,t,!0),n=this.H_.map(function(t){return eO(t,e)}),i=new Cw(n);return new Dw(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(_k),Xk=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(py.c)(e,t),e.prototype.z_=function(t){var e=Wk(this,t,!0),n=this.H_.map(function(t){return eO(t,e)}),i=new kw(n);return new Dw(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(_k),Jk=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).J_=n,i}return Object(py.c)(e,t),e.prototype.z_=function(t){var e=new Iw(t.Kt,yw(t.Kt,this.J_));return new Dw(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(_k);function Qk(t,e,n,i){var r=t.G_(1,e,n);rO("Data must be an object, but it was:",r,i);var s=[],o=new kv;tv(i,function(t,i){var a=aO(e,t,n);i instanceof Ry&&(i=i._);var c=r.U_(a);if(i instanceof Yk)s.push(a);else{var u=eO(i,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new nv(s);return new Vk(o.yt(),a,r.fieldTransforms)}function Zk(t,e,n,i,r,s){var o=t.G_(1,e,n),a=[sO(e,i,n)],c=[r];if(s.length%2!=0)throw new Py(Ay.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(sO(e,s[u])),c.push(s[u+1]);for(var l=[],h=new kv,d=a.length-1;d>=0;--d)if(!uO(l,a[d])){var f=a[d],p=c[d];p instanceof Ry&&(p=p._);var m=o.U_(f);if(p instanceof Yk)l.push(f);else{var g=eO(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new nv(l);return new Vk(h.yt(),b,o.fieldTransforms)}function tO(t,e,n,i){return void 0===i&&(i=!1),eO(n,t.G_(i?4:3,e))}function eO(t,e){if(t instanceof Ry&&(t=t._),iO(t))return rO("Unsupported field value:",e,t),nO(t,e);if(t instanceof _k)return function(t,e){if(!Bk(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=eO(s[r],e.Q_(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ry&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yw(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Yy.fromDate(t);return{timestampValue:DT(e.Kt,n)}}if(t instanceof Yy)return n=new Yy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:DT(e.Kt,n)};if(t instanceof Mk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dy)return{bytesValue:RT(e.Kt,t.l)};if(t instanceof Ak){var i=t.firestore.I_;if(!i.isEqual(n=e.T))throw e.K_("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:NT(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+xk(t))}(t,e)}function nO(t,e){var n={};return ev(t)?e.path&&e.path.length>0&&e.zt.push(e.path):tv(t,function(t,i){var r=eO(i,e.L_(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function iO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yy||t instanceof Mk||t instanceof Dy||t instanceof Ak||t instanceof _k)}function rO(t,e,n){if(!iO(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=xk(n);throw e.K_("an object"===i?t+" a custom object":t+" "+i)}}function sO(t,e,n){if(e instanceof Ry&&(e=e._),e instanceof bk)return e.d_;if("string"==typeof e)return aO(t,e);throw cO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oO=new RegExp("[~\\*/\\[\\]]");function aO(t,e,n){if(e.search(oO)>=0)throw cO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bk.bind.apply(bk,Object(py.g)([void 0],e.split("."))))).d_}catch(i){throw cO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cO(t,e,n,i,r){var s=i&&!i.nt(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+i),o&&(c+=" in document "+r),c+=")"),new Py(Ay.INVALID_ARGUMENT,(a+=". ")+t+c)}function uO(t,e){return t.some(function(t){return t.isEqual(e)})}var lO=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(py.b)(this,void 0,void 0,function(){var e,n=this;return Object(py.d)(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new Py(Ay.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r,s,o,a;return Object(py.d)(this,function(c){switch(c.label){case 0:return n=Sy(t),i=HT(n.Kt)+"/documents",r={documents:e.map(function(t){return jT(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",i,r)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ty(!!e.found);var n=FT(t,e.found.name),i=LT(e.found.updateTime),r=new Ev({mapValue:{fields:e.found.fields}});return new Av(n,i,r,{})}(t,e):"missing"in e?function(t,e){Ty(!!e.missing),Ty(!!e.readTime);var n=FT(t,e.missing),i=LT(e.readTime);return new Pv(n,i)}(t,e):wy()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Ty(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof Pv||t instanceof Av?n.sf(t):wy()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Xw(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e=this;return Object(py.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=Qy.ft(n);e.mutations.push(new Jw(i,e.Gt(i)))}),[4,function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return n=Sy(t),i=HT(n.Kt)+"/documents",r={writes:e.map(function(t){return YT(n.Kt,t)})},[4,n.bu("Commit",i,r)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Av)e=t.version;else{if(!(t instanceof Pv))throw wy();e=Wy.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Py(Ay.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Uw.updateTime(e):Uw.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Wy.min()))throw new Py(Ay.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uw.updateTime(e)}return Uw.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),hO=function(){function t(t,e,n,i){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=i,this.cf=5,this.zu=new BC(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(py.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(py.d)(this,function(i){return t=new lO(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!lv(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zw(e)}return!1},t}(),dO=function(){function t(t,e,n){var i=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Fy.UNAUTHENTICATED,this.clientId=Cy.t(),this._f=function(){},this.N=new cS,this.credentials.S(function(t){by("FirestoreClient","Received user=",t.uid),i.user=t,i._f(t),i.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Py(Ay.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new cS;return this.fs.Tf(function(){return Object(py.b)(t,void 0,void 0,function(){var t,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=i.sent(),n=vS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function fO(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r=this;return Object(py.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),by("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.Yl,t.ff(function(n){i.isEqual(n)||(i=n,t.fs.bo(function(){return Object(py.b)(r,void 0,void 0,function(){return Object(py.d)(this,function(t){switch(t.label){case 0:return[4,Zx(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function pO(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return t.fs.Af(),[4,mO(t)];case 1:return n=r.sent(),by("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return(n=Sy(t)).fs.Af(),by("RemoteStore","RemoteStore received new credentials"),i=nE(n),n.Fh.add(3),[4,$C(n)];case 1:return r.sent(),i&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return r.sent(),n.Fh.delete(3),[4,KC(n)];case 3:return r.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function mO(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(by("FirestoreClient","Using default OfflineComponentProvider"),[4,fO(t,new dk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function gO(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(by("FirestoreClient","Using default OnlineComponentProvider"),[4,pO(t,new mk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function bO(t){return mO(t).then(function(t){return t.persistence})}function _O(t){return mO(t).then(function(t){return t.Sh})}function yO(t){return gO(t).then(function(t){return t.gl})}function vO(t){return gO(t).then(function(t){return t.fa})}function wO(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return[4,gO(t)];case 1:return e=i.sent(),[2,((n=e.Vl).Gh=LE.bind(null,e.fa),n.Jh=ME.bind(null,e.fa),n)]}})})}function TO(t,e,n){var i=this;void 0===n&&(n={});var r=new cS;return t.fs.ys(function(){return Object(py.b)(i,void 0,void 0,function(){var i;return Object(py.d)(this,function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new gk({next:function(s){e.ys(function(){return TE(t,o)});var a=s.docs.has(n);!a&&s.fromCache?r.reject(new Py(Ay.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Py(Ay.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new EE(ew(n.path),s,{includeMetadataChanges:!0,sl:!0});return wE(t,o)},[4,wO(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.fs,e,n,r])]}})})}),r.promise}function SO(t,e,n){var i=this;void 0===n&&(n={});var r=new cS;return t.fs.ys(function(){return Object(py.b)(i,void 0,void 0,function(){var i;return Object(py.d)(this,function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new gk({next:function(n){e.ys(function(){return TE(t,o)}),n.fromCache&&"server"===i.source?r.reject(new Py(Ay.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),o=new EE(n,s,{includeMetadataChanges:!0,sl:!0});return wE(t,o)},[4,wO(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.fs,e,n,r])]}})})}),r.promise}var xO=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new BC(this,"async_queue_retry"),this.vf=function(){var e=FC();e&&by("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=FC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=FC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e=this;return Object(py.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!pS(t=n.sent()))throw t;return by("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,_y("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var r=yS.Is(this,t,e,n,function(t){return i.xf(t)});return this.gf.push(r),r},t.prototype.Sf=function(){this.Vf&&wy()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(py.b)(this,void 0,void 0,function(){var t;return Object(py.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,i=e.gf;n<i.length;n++){var r=i[n];if(r.Ps(),"all"!==t&&r.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),CO=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).Mf=new xO,i.w_="name"in e?e.name:"[DEFAULT]",i}return Object(py.c)(e,t),e.prototype.b_=function(){return this.Lf||kO(this),this.Lf.terminate()},e}(Ik);function EO(t){return t.Lf||kO(t),t.Lf.df(),t.Lf}function kO(t){var e=t.p_(),n=function(t,e,n){return new My(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new dO(t.m_,t.Mf,n)}function OO(t,e,n){var i=this,r=new cS;return t.fs.enqueue(function(){return Object(py.b)(i,void 0,void 0,function(){var i;return Object(py.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fO(t,n)];case 1:return s.sent(),[4,pO(t,e)];case 2:return s.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ay.FAILED_PRECONDITION||t.code===Ay.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=s.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function IO(t){if(t.R_||t.P_)throw new Py(Ay.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AO=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),fv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sv(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ov(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw wy()}},t.prototype.jf=function(t,e){var n=this,i={};return tv(t.fields||{},function(t,r){i[t]=n.$f(r,e)}),i},t.prototype.Kf=function(t){return new Mk(sv(t.latitude),sv(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=cv(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(uv(t));default:return null}},t.prototype.Bf=function(t){var e=rv(t);return new Yy(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=$y.ct(t);Ty(aS(n));var i=new jy(n.get(1),n.get(3)),r=new Qy(n.X(5));return i.isEqual(e)||_y("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}(),PO=function(){function t(t,e,n,i,r){this.zf=t,this.Hf=e,this.S_=n,this.Jf=i,this.v_=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ak(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new DO(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(RO("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),DO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(PO);function RO(t,e){return"string"==typeof e?aO(t,e):e instanceof Ry?e._.d_:e.d_}function UO(t){if(iw(t)&&0===t.Nt.length)throw new Py(Ay.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LO=function(){};function NO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var s=r[i];t=s.Yf(t)}return t}var MO=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xf=e,r.Zf=n,r.td=i,r.type="where",r}return Object(py.c)(e,t),e.prototype.Yf=function(t){var e=zk(t.firestore),n=function(t,e,n,i,r,s,o){var a;if(r.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Py(Ay.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){zO(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(qO(i,t,l[u]));a={arrayValue:{values:c}}}else a=qO(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zO(o,s),a=tO(n,"where",o,"in"===s||"not-in"===s);var h=jv.create(r,s,a);return function(t,e){if(e.xt()){var n=sw(t);if(null!==n&&!n.isEqual(e.field))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=rw(t);null!==i&&GO(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Py(Ay.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Pk(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Zv(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(LO),jO=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Xf=e,i.ed=n,i.type="orderBy",i}return Object(py.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new $v(e,n);return function(t,e){if(null===rw(t)){var n=sw(t);null!==n&&GO(0,n,e.field)}}(t,i),i}(t.C_,this.Xf,this.ed);return new Pk(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Zv(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(LO),FO=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.nd=n,r.sd=i,r}return Object(py.c)(e,t),e.prototype.Yf=function(t){return new Pk(t.firestore,t.v_,uw(t.C_,this.nd,this.sd))},e}(LO),VO=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(py.c)(e,t),e.prototype.Yf=function(t){var e=HO(t,this.type,this.rd,this.od);return new Pk(t.firestore,t.v_,function(t,e){return new Zv(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(LO),BO=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(py.c)(e,t),e.prototype.Yf=function(t){var e=HO(t,this.type,this.rd,this.od);return new Pk(t.firestore,t.v_,function(t,e){return new Zv(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(LO);function HO(t,e,n,i){if(n[0]instanceof Ry&&(n[0]=n[0]._),n[0]instanceof PO)return function(t,e,n,i,r){if(!i)throw new Py(Ay.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=aw(t);o<a.length;o++){var c=a[o];if(c.field.ht())s.push(vv(e,i.key));else{var u=i.field(c.field);if(av(u))throw new Py(Ay.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.ot();throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Wv(s,r)}(t.C_,t.firestore.I_,e,n[0].Jf,i);var r=zk(t.firestore);return function(t,e,n,i,r,s){var o=t.Nt;if(r.length>o.length)throw new Py(Ay.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var u=r[c];if(o[c].field.ht()){if("string"!=typeof u)throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof u);if(!ow(t)&&-1!==u.indexOf("/"))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child($y.ct(u));if(!Qy.Et(l))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Qy(l);a.push(vv(e,h))}else{var d=tO(n,i,u);a.push(d)}}return new Wv(a,s)}(t.C_,t.firestore.I_,r,e,n,i)}function qO(t,e,n){if(n instanceof Ry&&(n=n._),"string"==typeof n){if(""===n)throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&-1!==n.indexOf("/"))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child($y.ct(n));if(!Qy.Et(i))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return vv(t,new Qy(i))}if(n instanceof Ak)return vv(t,n.S_);throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xk(n)+".")}function zO(t,e){if(!Array.isArray(t)||0===t.length)throw new Py(Ay.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Py(Ay.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function GO(t,e,n){if(!n.isEqual(e))throw new Py(Ay.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function YO(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function WO(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var KO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(py.c)(e,t),e.prototype.Uf=function(t){return new Dy(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ak(this.firestore,null,e)},e}(AO),$O=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),XO=function(t){function e(e,n,i,r,s,o){var a=this;return(a=t.call(this,e,n,i,r,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(py.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new JO(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(RO("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(PO),JO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(XO),QO=function(){function t(t,e,n,i){this.zf=t,this.Hf=e,this.ud=i,this.metadata=new $O(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(i){t.call(e,new JO(n.zf,n.Hf,i.key,i,new $O(n.ud.Ce.has(i.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Py(Ay.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new JO(t.zf,t.Hf,e.doc.key,e.doc,new $O(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var i=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new JO(t.zf,t.Hf,e.doc.key,e.doc,new $O(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:ZO(e.type),doc:n,oldIndex:r,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function ZO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wy()}}function tI(t,e){return t instanceof XO&&e instanceof XO?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof QO&&e instanceof QO&&t.zf===e.zf&&Nk(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var eI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(py.c)(e,t),e.prototype.Uf=function(t){return new Dy(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ak(this.firestore,null,e)},e}(AO);function nI(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Ck(t,Ak);var s=Ck(t.firestore,CO),o=zk(s);return e instanceof Ry&&(e=e._),rI(s,[("string"==typeof e||e instanceof bk?Zk(o,"updateDoc",t.S_,e,n,i):Qk(o,"updateDoc",t.S_,e)).F_(t.S_,Uw.exists(!0))])}function iI(t){for(var e,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];t instanceof Ry&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||YO(r[a])||(o=r[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(YO(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof Ak)u=Ck(t.firestore,CO),l=ew(t.S_.path),c={next:function(e){r[a]&&r[a](sI(u,t,e))},error:r[a+1],complete:r[a+2]};else{var f=Ck(t,Pk);u=Ck(f.firestore,CO),l=f.C_;var p=new eI(u);c={next:function(t){r[a]&&r[a](new QO(u,p,f,t))},error:r[a+1],complete:r[a+2]},UO(t.C_)}return function(t,e,n,i){var r=this,s=new gk(i),o=new EE(e,s,n);return t.fs.ys(function(){return Object(py.b)(r,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return e=wE,[4,wO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(py.b)(r,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return e=TE,[4,wO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(EO(u),l,h,c)}function rI(t,e){return function(t,e){var n=this,i=new cS;return t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var n;return Object(py.d)(this,function(r){switch(r.label){case 0:return n=jE,[4,vO(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(EO(t),e)}function sI(t,e,n){var i=n.docs.get(e.S_),r=new eI(t);return new XO(t,r,e.S_,i,new $O(n.hasPendingWrites,n.fromCache),e.v_)}var oI=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=zk(t)}return t.prototype.set=function(t,e,n){this.Ed();var i=aI(t,this.zf),r=WO(i.v_,e,n),s=Gk(this.wd,"WriteBatch.set",i.S_,r,null!==i.v_,n);return this.fd.push(s.F_(i.S_,Uw.Wt())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.Ed();var s,o=aI(t,this.zf);return e instanceof Ry&&(e=e._),s="string"==typeof e||e instanceof bk?Zk(this.wd,"WriteBatch.update",o.S_,e,n,i):Qk(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,Uw.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=aI(t,this.zf);return this.fd=this.fd.concat(new Xw(e.S_,Uw.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Py(Ay.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function aI(t,e){if(t instanceof Ry&&(t=t._),t.firestore!==e)throw new Py(Ay.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cI=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).zf=e,i}return Object(py.c)(e,t),e.prototype.get=function(e){var n=this,i=aI(e,this.zf),r=new eI(this.zf);return t.prototype.get.call(this,e).then(function(t){return new XO(n.zf,r,i.S_,t.Jf,new $O(!1,!1),i.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=zk(t)}return t.prototype.get=function(t){var e=this,n=aI(t,this.zf),i=new KO(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return wy();var r=t[0];if(r instanceof Pv)return new PO(e.zf,i,n.S_,null,n.v_);if(r instanceof Av)return new PO(e.zf,i,r.key,r,n.v_);throw wy()})},t.prototype.set=function(t,e,n){var i=aI(t,this.zf),r=WO(i.v_,e,n),s=Gk(this.wd,"Transaction.set",i.S_,r,null!==i.v_,n);return this.Td.set(i.S_,s),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var s,o=aI(t,this.zf);return e instanceof Ry&&(e=e._),s="string"==typeof e||e instanceof bk?Zk(this.wd,"Transaction.update",o.S_,e,n,i):Qk(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=aI(t,this.zf);return this.Td.delete(e.S_),this},t}()),uI=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){IO(t=Ck(t,CO));var n=EO(t),i=t.p_(),r=new mk;return OO(n,r,new fk(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){IO(t=Ck(t,CO));var e=EO(t),n=t.p_(),i=new mk;return OO(e,i,new pk(i,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Py(Ay.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cS;return t.Mf.Tf(function(){return Object(py.b)(e,void 0,void 0,function(){var e;return Object(py.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(py.b)(this,void 0,void 0,function(){return Object(py.d)(this,function(e){switch(e.label){case 0:return hS.Wn()?[4,hS.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Yx(t.I_,t.w_))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),lI=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n)||this).Id=i,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof jy||(r.md=e),r}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=Ck(t,Ik)).V_();"firestore.googleapis.com"!==i.host&&i.host!==e&&yy("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(py.b)(e,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return[4,bO(t)];case 1:return e=i.sent(),[4,yO(t)];case 2:return n=i.sent(),[2,(e.Vo(!0),function(t){var e=Sy(t);return e.Fh.delete(0),KC(e)}(n))]}})})})}(EO(Ck(this._,CO)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(py.b)(e,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return[4,bO(t)];case 1:return e=i.sent(),[4,yO(t)];case 2:return n=i.sent(),[2,(e.Vo(!1),function(t){return Object(py.b)(this,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return(e=Sy(t)).Fh.add(0),[4,$C(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(EO(Ck(this._,CO)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&wk("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cS;return t.fs.ys(function(){return Object(py.b)(e,void 0,void 0,function(){var e;return Object(py.d)(this,function(i){switch(i.label){case 0:return e=zE,[4,vO(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(EO(Ck(this._,CO)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new gk(e);return t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sy(t).jh.add(e),e.next()},[4,wO(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.r_(),t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var e;return Object(py.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sy(t).jh.delete(e)},[4,wO(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(EO(t=Ck(t,CO)),YO(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Py(Ay.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xI(this,Rk(this._,t))}catch(t){throw gI(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new mI(this,Uk(this._,t))}catch(t){throw gI(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new wI(this,function(t,e){if(t=Ck(t,Ik),yk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Py(Ay.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pk(t,null,function(t){return new Zv($y.at(),t)}(e))}(this._,t))}catch(t){throw gI(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new cS;return t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var n;return Object(py.d)(this,function(r){switch(r.label){case 0:return[4,function(t){return gO(t).then(function(t){return t.Dh})}(t)];case 1:return n=r.sent(),new hO(t.fs,n,e,i).run(),[2]}})})}),i.promise}(EO(t),function(n){return e(new cI(t,n))})}(this._,function(n){return t(new dI(e,n))})},e.prototype.batch=function(){var t=this;return EO(this._),new fI(new oI(this._,function(e){return rI(t._,e)}))},e.prototype.loadBundle=function(t){throw new Py(Ay.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Py(Ay.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ry),hI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(py.c)(e,t),e.prototype.Uf=function(t){return new Ny(new Dy(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return mI.Ad(e,this.firestore,null)},e}(AO),dI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i.Hf=new hI(e),i}return Object(py.c)(e,t),e.prototype.get=function(t){var e=this,n=CI(t);return this._.get(n).then(function(t){return new yI(e.zf,new XO(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var i=CI(t);return n?(vk("Transaction.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=CI(t);return 2===arguments.length?this._.update(o,e):(i=this._).update.apply(i,Object(py.g)([o,e,n],r)),this},e.prototype.delete=function(t){var e=CI(t);return this._.delete(e),this},e}(Ry),fI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.set=function(t,e,n){var i=CI(t);return n?(vk("WriteBatch.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=CI(t);return 2===arguments.length?this._.update(o,e):(i=this._).update.apply(i,Object(py.g)([o,e,n],r)),this},e.prototype.delete=function(t){var e=CI(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ry),pI=function(t){function e(e,n,i){var r=this;return(r=t.call(this,i)||this).zf=e,r.Hf=n,r}return Object(py.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new JO(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new vI(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var i=e.Pd,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var s=r.get(n);return s||(s=new e(t,new hI(t),n),r.set(n,s)),s},e}(Ry);pI.Pd=new WeakMap;var mI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new hI(e),i}return Object(py.c)(e,t),e.yd=function(t,n,i){if(t.length%2!=0)throw new Py(Ay.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Ak(n._,i,new Qy(t)))},e.Ad=function(t,n,i){return new e(n,new Ak(n._,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xI(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xI(this.firestore,Rk(this._,t))}catch(t){throw gI(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ry&&(t=t._),t instanceof Ak&&Lk(this._,t)},e.prototype.set=function(t,e){e=vk("DocumentReference.set",e);try{return function(t,e,n){t=Ck(t,Ak);var i=Ck(t.firestore,CO),r=WO(t.v_,e,n);return rI(i,[Gk(zk(i),"setDoc",t.S_,r,null!==t.v_,n).F_(t.S_,Uw.Wt())])}(this._,t,e)}catch(t){throw gI(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?nI(this._,t):nI.apply(void 0,Object(py.g)([this._,t,e],n))}catch(t){throw gI(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return rI(Ck((t=this._).firestore,CO),[new Xw(t.S_,Uw.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bI(e),r=_I(e,function(e){return new yI(t.firestore,new XO(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return iI(this._,i,r)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ck(t,Ak);var e=Ck(t.firestore,CO),n=EO(e),i=new eI(e);return function(t,e){var n=this,i=new cS;return t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var n;return Object(py.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Sy(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(r=s.sent())instanceof Av?n.resolve(r):r instanceof Pv?n.resolve(null):n.reject(new Py(Ay.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),r=vS(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,_O(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t.S_).then(function(n){return new XO(e,i,t.S_,n,new $O(n instanceof Av&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ck(t,Ak);var e=Ck(t.firestore,CO);return TO(EO(e),t.S_,{source:"server"}).then(function(n){return sI(e,t,n)})}(this._):function(t){t=Ck(t,Ak);var e=Ck(t.firestore,CO);return TO(EO(e),t.S_).then(function(n){return sI(e,t,n)})}(this._)).then(function(t){return new yI(e.firestore,new XO(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(pI.Rd(this.firestore,t)))},e}(Ry);function gI(t,e,n){return t.message=t.message.replace(e,n),t}function bI(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!YO(i))return i}return{}}function _I(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=YO(t[0])?t[0]:YO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var yI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new mI(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return tI(this._,t._)},e}(Ry),vI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(yI),wI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new hI(e),i}return Object(py.c)(e,t),e.prototype.where=function(t,n,i){try{return new e(this.firestore,NO(this._,function(t,e,n){var i=e,r=RO("where",t);return new MO(r,i,n)}(t,n,i)))}catch(t){throw gI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,NO(this._,function(t,e){void 0===e&&(e="asc");var n=e,i=RO("orderBy",t);return new jO(i,n)}(t,n)))}catch(t){throw gI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,NO(this._,function(t){return Ek("limit",t),new FO("limit",t,"F")}(t)))}catch(t){throw gI(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,NO(this._,function(t){return Ek("limitToLast",t),new FO("limitToLast",t,"L")}(t)))}catch(t){throw gI(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,NO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VO("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw gI(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,NO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VO("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw gI(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,NO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BO("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw gI(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,NO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BO("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw gI(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Nk(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ck(t,Pk);var e=Ck(t.firestore,CO),n=EO(e),i=new eI(e);return function(t,e){var n=this,i=new cS;return t.fs.ys(function(){return Object(py.b)(n,void 0,void 0,function(){var n;return Object(py.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s,o,a;return Object(py.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,aC(t,e,!0)];case 1:return a=c.sent(),i=new PE(e,a.Pc),r=i.dl(a.documents),s=i.Ei(r,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=vS(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,_O(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t.C_).then(function(n){return new QO(e,i,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ck(t,Pk);var e=Ck(t.firestore,CO),n=EO(e),i=new eI(e);return SO(n,t.C_,{source:"server"}).then(function(n){return new QO(e,i,t,n)})}(this._):function(t){t=Ck(t,Pk);var e=Ck(t.firestore,CO),n=EO(e),i=new eI(e);return UO(t.C_),SO(n,t.C_).then(function(n){return new QO(e,i,t,n)})}(this._)).then(function(t){return new SI(e.firestore,new QO(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bI(e),r=_I(e,function(e){return new SI(t.firestore,new QO(t.firestore._,t.Hf,t._,e.ud))});return iI(this._,i,r)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(pI.Rd(this.firestore,t)))},e}(Ry),TI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vI(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ry),SI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new wI(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new vI(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new TI(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(i){t.call(e,new vI(n.zf,i))})},e.prototype.isEqual=function(t){return tI(this._,t._)},e}(Ry),xI=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._=n,i}return Object(py.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new mI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new mI(this.firestore,void 0===t?Uk(this._):Uk(this._,t))}catch(t){throw gI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ck(t.firestore,CO),i=Uk(t),r=WO(t.v_,e);return rI(n,[Gk(zk(t.firestore),"addDoc",i.S_,r,null!==t.v_,{}).F_(i.S_,Uw.exists(!1))]).then(function(){return i})}(this._,t).then(function(t){return new mI(e.firestore,t)})},e.prototype.isEqual=function(t){return Lk(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(pI.Rd(this.firestore,t)))},e}(wI);function CI(t){return t instanceof Ry&&(t=t._),Ck(t,Ak)}var EI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(bk.bind.apply(bk,Object(py.g)([void 0],e))))||this}return Object(py.c)(e,t),e.documentId=function(){return new e(Jy.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ry&&(t=t._),t instanceof bk&&this._.d_.isEqual(t.d_)},e}(Ry),kI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(py.c)(e,t),e.serverTimestamp=function(){var t=new Kk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yk("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $k("arrayUnion",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xk("arrayRemove",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(t){return new Jk("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ry);!function(){function t(){this.gd={},this.Vd=new cS,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var OI,II=n("/6Yf"),AI={Firestore:lI,GeoPoint:Mk,Timestamp:Yy,Blob:Ny,Transaction:dI,WriteBatch:fI,DocumentReference:mI,DocumentSnapshot:yI,Query:wI,QueryDocumentSnapshot:vI,QuerySnapshot:SI,CollectionReference:xI,FieldPath:EI,FieldValue:kI,setLogLevel:function(t){my.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function PI(t,e){return e?Wt(()=>t,e):Wt(()=>t)}(function(t,e){t.INTERNAL.registerComponent(new II.a("firestore",function(t){return function(t,e){return new lI(t,new CO(t,e),new uI)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},AI)))})(OI=lm.a),OI.registerVersion("@firebase/firestore","2.1.4");var DI=n("tf+s");const RI=new i.s("angularfire2.auth.use-emulator"),UI=new i.s("angularfire2.auth.settings"),LI=new i.s("angularfire2.auth.tenant-id"),NI=new i.s("angularfire2.auth.langugage-code"),MI=new i.s("angularfire2.auth.use-device-language"),jI=new i.s("angularfire.auth.persistence");let FI=(()=>{class t{constructor(t,e,i,r,s,o,a,c,u,l){const h=new cm.d(r),d=Object(cm.h)(h),f=new St.a,p=Object(Tt.a)(void 0).pipe(Object(ts.b)(h.outsideAngular),Wt(()=>r.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Gt.a)(()=>Object(cm.g)(t,r,e)),Object(Gt.a)(t=>r.runOutsideAngular(()=>{const e=s,n=o;return Object(cm.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());return e&&i.useEmulator(`http://${e.join(":")}`),a&&(i.tenantId=a),i.languageCode=c,u&&i.useDeviceLanguage(),n&&(i.settings=n),l&&i.setPersistence(l),i},[e,a,c,u,n,l])})),rs({bufferSize:1,refCount:!1}));if(V(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Tt.a)(null);else{p.pipe(Se()).subscribe();const t=p.pipe(Wt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,rs({bufferSize:1,refCount:!1})),e=t=>new Dt.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=p.pipe(Wt(t=>e(t.onAuthStateChanged.bind(t)))),i=p.pipe(Wt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(PI(n),Object(DI.a)(h.outsideAngular),Object(ts.b)(h.insideAngular)),this.user=t.pipe(PI(i),Object(DI.a)(h.outsideAngular),Object(ts.b)(h.insideAngular)),this.idToken=this.user.pipe(Wt(t=>t?Object(wt.a)(t.getIdToken()):Object(Tt.a)(null))),this.idTokenResult=this.user.pipe(Wt(t=>t?Object(wt.a)(t.getIdTokenResult()):Object(Tt.a)(null))),this.credential=Object(Os.a)(t,f,this.authState.pipe(re(t=>!t))).pipe(Object(Gt.a)(t=>(null==t?void 0:t.user)?t:null),Object(DI.a)(h.outsideAngular),Object(ts.b)(h.insideAngular))}return Object(cm.i)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(cm.c),i.Yb(cm.b,8),i.Yb(i.D),i.Yb(i.B),i.Yb(RI,8),i.Yb(UI,8),i.Yb(LI,8),i.Yb(NI,8),i.Yb(MI,8),i.Yb(jI,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(cm.c),Object(i.Yb)(cm.b,8),Object(i.Yb)(i.D),Object(i.Yb)(i.B),Object(i.Yb)(RI,8),Object(i.Yb)(UI,8),Object(i.Yb)(LI,8),Object(i.Yb)(NI,8),Object(i.Yb)(MI,8),Object(i.Yb)(jI,8))},token:t,providedIn:"any"}),t})();Object(cm.e)(FI,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let VI=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[FI]}),t})();function BI(t,e){return function(t,e=Br.b){return new Dt.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function HI(t,e){return BI(t,e).pipe(Object(Gt.a)(t=>({payload:t,type:"query"})))}function qI(t,e){return HI(t,e).pipe(te(void 0),Xr(),Object(Gt.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function zI(t,e,n){return qI(t,n).pipe(ee((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return GI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return GI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),jr(),Object(Gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function GI(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function YI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class WI{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=qI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(te(void 0),Xr(),re(([t,e])=>e.length>0||!t),Object(Gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YI(t);return zI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return HI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(ts.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new KI(this.ref.doc(t),this.afs)}}class KI{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=tA(n,e);return new WI(i,r,this.afs)}snapshotChanges(){return BI(this.ref,this.afs.schedulers.outsideAngular).pipe(te(void 0),Xr(),Object(Gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wt.a)(this.ref.get(t)).pipe(Object(ts.b)(this.afs.schedulers.insideAngular))}}class $I{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),re(t=>t.length>0),this.afs.keepUnstableUntilFirst):qI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YI(t);return zI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return HI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(ts.b)(this.afs.schedulers.insideAngular))}}const XI=new i.s("angularfire2.enableFirestorePersistence"),JI=new i.s("angularfire2.firestore.persistenceSettings"),QI=new i.s("angularfire2.firestore.settings"),ZI=new i.s("angularfire2.firestore.use-emulator");function tA(t,e=(t=>t)){return{query:e(t),ref:t}}let eA=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this.schedulers=new cm.d(s),this.keepUnstableUntilFirst=Object(cm.h)(this.schedulers);const u=Object(cm.g)(t,s,e);!um.a.auth&&c&&Object(cm.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(cm.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(i&&t.settings(i),l&&t.useEmulator(...l),n&&!V(r)){const e=()=>{try{return Object(wt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(OI){return"undefined"!=typeof console&&console.warn(OI),Object(Tt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Tt.a)(!1)]},[i,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=tA(n,e),s=this.schedulers.ngZone.run(()=>i);return new WI(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new $I(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new KI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(cm.c),i.Yb(cm.b,8),i.Yb(XI,8),i.Yb(QI,8),i.Yb(i.D),i.Yb(i.B),i.Yb(JI,8),i.Yb(ZI,8),i.Yb(RI,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(cm.c),Object(i.Yb)(cm.b,8),Object(i.Yb)(XI,8),Object(i.Yb)(QI,8),Object(i.Yb)(i.D),Object(i.Yb)(i.B),Object(i.Yb)(JI,8),Object(i.Yb)(ZI,8),Object(i.Yb)(RI,8))},token:t,providedIn:"any"}),t})(),nA=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:XI,useValue:!0},{provide:JI,useValue:e}]}}}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[eA]}),t})();var iA="firebasestorage.googleapis.com",rA=function(t){function e(n,i){var r=t.call(this,cA(n),"Firebase Storage: "+i+" ("+cA(n)+")")||this;return r.customData={serverResponse:null},Object.setPrototypeOf(r,e.prototype),r}return Object(py.c)(e,t),e.prototype.codeEquals=function(t){return cA(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(dm.c),sA="canceled",oA="invalid-argument",aA="unsupported-environment";function cA(t){return"storage/"+t}function uA(){return new rA("unknown","An unknown error occurred, please check the error payload for server response.")}function lA(){return new rA(sA,"User canceled the upload/download.")}function hA(){return new rA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dA(t){return new rA(oA,t)}function fA(){return new rA("app-deleted","The Firebase app was deleted.")}function pA(t){return new rA("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mA(t,e){return new rA("invalid-format","String does not match format '"+t+"': "+e)}function gA(t){throw new rA("internal-error","Internal error: "+t)}var bA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_A=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function yA(t,e){switch(t){case bA.RAW:return new _A(vA(e));case bA.BASE64:case bA.BASE64URL:return new _A(wA(t,e));case bA.DATA_URL:return new _A((n=new TA(e)).base64?wA(bA.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(OI){throw mA(bA.DATA_URL,"Malformed data URL.")}return vA(e)}(n.rest),new TA(e).contentType)}var n;throw uA()}function vA(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,s=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&s)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function wA(t,e){switch(t){case bA.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw mA(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bA.BASE64URL:var r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw mA(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(OI){throw mA(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var TA=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw mA(bA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}(),SA="running",xA="pausing",CA="paused",EA="success",kA="canceling",OA="canceled",IA="error",AA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PA(t){switch(t){case SA:case xA:case kA:return AA.RUNNING;case CA:return AA.PAUSED;case EA:return AA.SUCCESS;case OA:return AA.CANCELED;case IA:default:return AA.ERROR}}var DA=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),RA=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=DA.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=DA.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=DA.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw gA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gA("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(OI){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gA("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),UA=function(){function t(){}return t.prototype.createXhrIo=function(){return new RA},t}();function LA(t){return"string"==typeof t||t instanceof String}function NA(t){return MA()&&t instanceof Blob}function MA(){return"undefined"!=typeof Blob}function jA(t,e,n,i){if(i<e)throw new rA(oA,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw new rA(oA,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function FA(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function VA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=FA();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(MA())return new Blob(t);throw new rA(aA,"This browser doesn't seem to support creating Blobs")}var BA=function(){function t(t,e){var n=0,i="";NA(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(NA(this.data_)){var i=(s=e,o=n,(r=this.data_).webkitSlice?r.webkitSlice(s,o):r.mozSlice?r.mozSlice(s,o):r.slice?r.slice(s,o):null);return null===i?null:new t(i)}var r,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(MA()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(VA.apply(null,i))}var r=e.map(function(t){return LA(t)?yA(bA.RAW,t).data:t.data_}),s=0;r.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),HA=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(OI){return new t(e,"")}if(""===n.path)return n;throw new rA("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,i="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=iA.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),n=new t(l[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new rA("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function qA(t){var e,n;try{e=JSON.parse(t)}catch(OI){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function zA(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function GA(t){return"https://"+iA+"/v0"+t}function YA(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}function WA(t,e){return e}var KA=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||WA}}(),$A=null;function XA(){if($A)return $A;var t=[];t.push(new KA("bucket")),t.push(new KA("generation")),t.push(new KA("metageneration")),t.push(new KA("name","fullPath",!0));var e=new KA("name");e.xform=function(t,e){return function(t){return!LA(t)||t.length<2?t:zA(t)}(e)},t.push(e);var n=new KA("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new KA("timeCreated")),t.push(new KA("updated")),t.push(new KA("md5Hash",null,!0)),t.push(new KA("cacheControl",null,!0)),t.push(new KA("contentDisposition",null,!0)),t.push(new KA("contentEncoding",null,!0)),t.push(new KA("contentLanguage",null,!0)),t.push(new KA("contentType",null,!0)),t.push(new KA("metadata","customMetadata",!0)),$A=t}function JA(t,e,n){var i=qA(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,s=0;s<r;s++){var o=n[s];i[o.local]=o.xform(i,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new HA(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(i,t),i}(t,i,n)}function QA(t,e){for(var n={},i=e.length,r=0;r<i;r++){var s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var ZA=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function tP(t){if(!t)throw uA()}function eP(t,e){return function(n,i){var r=JA(t,i,e);return tP(null!==r),r}}function nP(t){return function(e,n){var i;return(i=401===e.getStatus()?new rA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new rA("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new rA("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function iP(t){var e=nP(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new rA("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function rP(t,e,n){var i=GA(e.fullServerUrl()),r=t.maxOperationRetryTime,s=new ZA(i,"GET",eP(t,n),r);return s.errorHandler=iP(e),s}function sP(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var oP=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function aP(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(OI){tP(!1)}return tP(!!n&&-1!==(e||["active"]).indexOf(n)),n}var cP=262144,uP=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}(),lP=function(){return function(t,e,n,i,r,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=s}}();function hP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var dP=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=XA(),this._resumable=this._shouldDoResumable(this._blob),this._state=SA,this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t.codeEquals(sA)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition(IA))},this._metadataErrorHandler=function(t){i._request=void 0,t.codeEquals(sA)?i.completeTransitions_():(i._error=t,i._transition(IA))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===SA&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case SA:t(n);break;case kA:e._transition(OA);break;case xA:e._transition(CA)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o=sP(e,i,r),a={name:o.fullPath},c=GA(s),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=QA(o,n),h=new ZA(c,"POST",function(t){var e;aP(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(OI){tP(!1)}return tP(LA(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=nP(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var i=function(t,e,n,i){var r=new ZA(n,"POST",function(t){var e=aP(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(OI){tP(!1)}n||tP(!1);var r=Number(n);return tP(!isNaN(r)),new oP(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=nP(e),r}(t._ref.storage,t._ref._location,e,t._blob),r=t._ref.storage.makeRequest(i,n);t._request=r,r.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=cP*this._chunkMultiplier,n=new oP(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r){var s;try{s=function(t,e,n,i,r,s,o,a){var c=new oP(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new rA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;r>0&&(l=Math.min(l,r));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=i.slice(h,h+l);if(null===f)throw hA();var p=new ZA(n,"POST",function(t,n){var r,o=aP(t,["active","final"]),a=c.current+l,u=i.size();return r="final"===o?eP(e,s)(t,n):null,new oP(a,u,"final"===o,r)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=nP(t),p}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(OI){return t._error=OI,void t._transition(IA)}var o=t._ref.storage.makeRequest(s,r);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(EA)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){cP*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=rP(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(EA)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=sP(e,i,r),u=QA(c,n),l=BA.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===l)throw hA();var h={name:c.fullPath},d=GA(s),f=t.maxUploadRetryTime,p=new ZA(d,"POST",eP(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=nP(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(EA)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case kA:case xA:this._state=t,void 0!==this._request&&this._request.cancel();break;case SA:var e=this._state===CA;this._state=t,e&&(this._notifyObservers(),this._start());break;case CA:this._state=t,this._notifyObservers();break;case OA:this._error=lA(),this._state=t,this._notifyObservers();break;case IA:case EA:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case xA:this._transition(CA);break;case kA:this._transition(OA);break;case SA:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=PA(this._state);return new lP(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,s=new uP(e,n,i);return this._addObserver(s),function(){r._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(PA(this._state)){case AA.SUCCESS:hP(this._resolve.bind(null,this.snapshot))();break;case AA.CANCELED:case AA.ERROR:hP(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(PA(this._state)){case AA.RUNNING:case AA.PAUSED:t.next&&hP(t.next.bind(t,this.snapshot))();break;case AA.SUCCESS:t.complete&&hP(t.complete.bind(t))();break;case AA.CANCELED:case AA.ERROR:t.error&&hP(t.error.bind(t,this._error))();break;default:t.error&&hP(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===CA||this._state===xA;return t&&this._transition(SA),t},t.prototype.pause=function(){var t=this._state===SA;return t&&this._transition(xA),t},t.prototype.cancel=function(){var t=this._state===SA||this._state===xA;return t&&this._transition(kA),t},t}(),fP=function(){function t(t,e){this._service=t,this._location=e instanceof HA?e:HA.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new HA(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return zA(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new HA(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw pA(t)},t}();function pP(t){var e={prefixes:[],items:[]};return mP(t,e).then(function(){return e})}function mP(t,e,n){return Object(py.b)(this,void 0,void 0,function(){var i,r,s;return Object(py.d)(this,function(o){switch(o.label){case 0:return[4,gP(t,{pageToken:n})];case 1:return i=o.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(s=e.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,mP(t,e,i.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function gP(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i,r;return Object(py.d)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&jA("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),r=function(t,e,n,i,r){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var o=GA(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new ZA(o,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=qA(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,s=n.prefixes;r<s.length;r++){var o=s[r].replace(/\/$/,""),a=t.makeStorageReference(new HA(e,o));i.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t.makeStorageReference(new HA(e,u[c].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return tP(null!==r),r}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=nP(e),c}(t.storage,t._location,"/",(i=e||{}).pageToken,i.maxResults),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function bP(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new HA(t._location.bucket,n);return new fP(t.storage,i)}var _P=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),yP=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new _P(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new _P(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new _P(t,r,r._ref))}:{next:e.next?function(t){return e.next(new _P(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,i||void 0)},t}(),vP=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new wP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new wP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),wP=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(bP(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new yP(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new dP(t,new BA(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=bA.RAW),this._throwIfRoot("putString"),new yP(function(t,e,n,i){void 0===n&&(n=bA.RAW),t._throwIfRoot("putString");var r=yA(n,e),s=Object(py.a)({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new dP(t,new BA(r.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return pP(this._delegate).then(function(e){return new vP(e,t.storage)})},t.prototype.list=function(t){var e=this;return gP(this._delegate,t).then(function(t){return new vP(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=i.sent(),n=rP(t.storage,t._location,XA()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(py.b)(this,void 0,void 0,function(){var n,i;return Object(py.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=r.sent(),i=function(t,e,n,i){var r=GA(e.fullServerUrl()),s=QA(n,i),o=t.maxOperationRetryTime,a=new ZA(r,"PATCH",eP(t,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=iP(e),a}(t.storage,t._location,e,XA()),[2,t.storage.makeRequest(i,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=i.sent(),n=function(t,e,n){var i=GA(e.fullServerUrl()),r=t.maxOperationRetryTime,s=new ZA(i,"GET",function(t,e){return function(n,i){var r=JA(t,i,e);return tP(null!==r),function(t,e){var n=qA(e);if(null===n)return null;if(!LA(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return GA("/b/"+r(t.bucket)+"/o/"+r(n))+YA({alt:"media",token:e})})[0]}(r,i)}}(t,n),r);return s.errorHandler=iP(e),s}(t.storage,t._location,XA()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new rA("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(py.b)(this,void 0,void 0,function(){var e,n;return Object(py.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=i.sent(),n=function(t,e){var n=GA(e.fullServerUrl()),i=new ZA(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=iP(e),i}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw pA(t)},t}(),TP=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),SP=function(){function t(t,e,n,i,r,s,o,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(OI){s(OI)}else null!==o?((i=uA()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,i):i)):s(i=n.canceled?t.appDelete_?fA():lA():new rA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new xP(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,s=null,o=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new xP(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===DA.NO_ERROR,s=n.getStatus();if(i&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new xP(o,n))}else{var a=n.getErrorCode()===DA.ABORT;e(!1,new xP(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(py.g)([null,t],e));else{var i;c()||o?l.call.apply(l,Object(py.g)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},i),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),xP=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function CP(t){return/^[A-Za-z]+:\/\//.test(t)}function EP(t,e){if(t instanceof AP){var n=t;if(null==n._bucket)throw new rA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new fP(n,n._bucket);return null!=e?EP(i,e):i}if(void 0!==e){if(e.includes(".."))throw dA('`path` param cannot contain ".."');return bP(t,e)}return t}function kP(t,e){if(e&&CP(e)){if(t instanceof AP)return new fP(t,e);throw dA("To use ref(service, url), the first argument must be a Storage instance.")}return EP(t,e)}var OP,IP,AP=function(){function t(t,e,n,i){var r,s;this.app=t,this._authProvider=e,this._pool=n,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?HA.makeFromBucketSpec(i):null==(s=null==(r=this.app.options)?void 0:r.storageBucket)?null:HA.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){jA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){jA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(py.b)(this,void 0,void 0,function(){var t,e;return Object(py.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new fP(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new TP(fA());var i=function(t,e,n,i){var r=YA(t.urlParams),s=t.url+r,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==lm.a?lm.a.SDK_VERSION:"AppManager")}(o),new SP(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,this._pool);return this._requests.add(i),i.getPromise().then(function(){return n._requests.delete(i)},function(){return n._requests.delete(i)}),i},t}(),PP=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(CP(t))throw dA("ref() expected a child path but got a URL, use refFromURL instead.");return new wP(kP(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!CP(t))throw dA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{HA.makeFromUrl(t)}catch(OI){throw dA("refFromUrl() expected a valid full URL but got an invalid one.")}return new wP(kP(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function DP(t){const e=function(t){return new Dt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe(Qa(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Gt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function RP(t,e,n){return{getDownloadURL:()=>Object(Tt.a)(void 0).pipe(Object(ts.b)(e.outsideAngular),Wt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Tt.a)(void 0).pipe(Object(ts.b)(e.outsideAngular),Wt(()=>t.getMetadata()),n),delete:()=>Object(wt.a)(t.delete()),child:i=>RP(t.child(i),e,n),updateMetadata:e=>Object(wt.a)(t.updateMetadata(e)),put:(e,n)=>DP(t.put(e,n)),putString:(e,n,i)=>DP(t.putString(e,n,i)),listAll:()=>Object(wt.a)(t.listAll())}}IP={TaskState:AA,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:bA,Storage:AP,Reference:wP},(OP=lm.a).INTERNAL.registerComponent(new II.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new PP(n,new AP(n,i,new UA,e))},"PUBLIC").setServiceProps(IP).setMultipleInstances(!0)),OP.registerVersion("@firebase/storage","0.4.2");const UP=new i.s("angularfire2.storageBucket"),LP=new i.s("angularfire2.storage.maxUploadRetryTime"),NP=new i.s("angularfire2.storage.maxOperationRetryTime");let MP=(()=>{class t{constructor(t,e,n,i,r,s,o){this.schedulers=new cm.d(r),this.keepUnstableUntilFirst=Object(cm.h)(this.schedulers);const a=Object(cm.g)(t,r,e);this.storage=Object(cm.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=r.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return RP(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return RP(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return RP(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(cm.c),i.Yb(cm.b,8),i.Yb(UP,8),i.Yb(i.D),i.Yb(i.B),i.Yb(LP,8),i.Yb(NP,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(cm.c),Object(i.Yb)(cm.b,8),Object(i.Yb)(UP,8),Object(i.Yb)(i.D),Object(i.Yb)(i.B),Object(i.Yb)(LP,8),Object(i.Yb)(NP,8))},token:t,providedIn:"any"}),t})(),jP=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})(),FP=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[MP],imports:[jP]}),t})(),VP=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.USER_DATA="User_Data",this.CODE_DATA="Code_Data",this.LEVEL_DATA="Level_Data"}queryDocument(t,e){return this.db.collection(t).doc(e).get()}deleteDocument(t,e){return this.db.collection(t).doc(e).delete()}updateDocument(t,e,n){return this.db.collection(t).doc(e).set(n)}doesDocumentExist(t,e){return new Promise((n,i)=>{this.db.collection(t).doc(e).get().subscribe(t=>{n(t.exists)})})}queryDocumentsFromCollection(t){return this.db.collection(t).get()}getUserData(t,e){this.queryDocument(this.USER_DATA,t).subscribe(t=>{if(t.exists){var n=t.data();e({Username:n.Username,CompletedLevels:n.CompletedLevels,Programs:n.OwnedCodes,Level:n.Level,Description:n.description})}else e(null)})}getProgramData(t,e){this.queryDocument(this.CODE_DATA,t).subscribe(t=>{for(var n=t.data(),i=[],r=0;r<n.units.length;r++)i.push({TroopType:n.units[r].type,CodeBlocks:n.units[r].blocks,CodeType:na[n.units[r].ctype],CodeFile:n.units[r].codeFile,location:n.units[r].location});e({Name:n.name,Verified:n.verified,Units:i})})}getLevelData(t,e){this.queryDocument(this.LEVEL_DATA,t).subscribe(t=>{var n=t.data();e({ProgramId:n.Code})})}getLevelProgram(t,e){var n=this;this.getLevelData(t,function(t){n.getProgramData(t.ProgramId.toString(),e)})}getUserCodeFromStorage(t,e,n){this.storage.ref(t).getDownloadURL().subscribe(t=>{let i=new XMLHttpRequest;i.responseType="text",i.onload=function(t){let r=new File([i.response],e,{type:"text/javascript"}),s=window.URL.createObjectURL(r);n(new Worker(s))},i.open("GET",t),i.send()},t=>{console.log(t)})}getAllLevels(t){this.queryDocumentsFromCollection(this.LEVEL_DATA).subscribe(e=>{t(e)})}doesProgramExist(t,e){this.doesDocumentExist(this.CODE_DATA,t).then(t=>{e(t)})}setUserData(t,e){return this.updateDocument(this.USER_DATA,t,{Username:e.Username,CompletedLevels:e.CompletedLevels,OwnedCodes:e.Programs,Level:e.Level,description:e.Description})}setProgramData(t,e){for(var n=[],i=0;i<e.Units.length;i++)n.push({blocks:e.Units[i].CodeBlocks,location:e.Units[i].location,type:e.Units[i].TroopType,ctype:na[e.Units[i].CodeType],codeFile:e.Units[i].CodeFile});return this.updateDocument(this.CODE_DATA,t,{name:e.Name,verified:e.Verified,units:n})}storeCodeAtLocation(t,e){this.storage.upload(t,e)}deleteProgramData(t){return this.deleteDocument(this.CODE_DATA,t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(eA),i.Yb(MP))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),BP=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e}checkSigninStatus(){if(null==t.user){var e=sessionStorage.getItem(t.SESSION_STORAGE_USER_ID);return null!=e&&(t.user=JSON.parse(e),!0)}return!0}AuthLogin(e){if(null==t.user){var n=sessionStorage.getItem(t.SESSION_STORAGE_USER_ID);null!=n?(t.user=JSON.parse(n),this.router.navigate([e])):this.afAuth.signInWithPopup(new um.a.auth.GoogleAuthProvider).then(n=>{t.user=new HP,t.user.uid=n.user.uid,t.user.authDisplayName=n.user.displayName,sessionStorage.setItem(t.SESSION_STORAGE_USER_ID,JSON.stringify(t.user)),this.router.navigate([e]),console.log("Logged in user "+t.user.authDisplayName)}).catch(t=>{console.log("Could not login due to "+t)})}else this.router.navigate([e])}logout(){this.afAuth.signOut().then(()=>{t.user=null,sessionStorage.removeItem(t.SESSION_STORAGE_USER_ID),console.log("User signout"),this.router.navigate([""])})}getUser(){return t.user}}return t.SESSION_STORAGE_USER_ID="ScriptSAuthCred",t.user=null,t.\u0275fac=function(e){return new(e||t)(i.Yb(FI),i.Yb(er))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class HP{}window.createjs=ia;let qP=(()=>{class t{constructor(){}static loadSpriteSheets(){let t=[{id:ra.archer,src:"assets/animations/archer sprite sheet.png"},{id:ra.swordsmen,src:"assets/animations/swordsman sprite sheet.png"},{id:ra.tower,src:"assets/animations/tower sprite sheet.png"},{id:ra.testMap,src:"assets/maps/test map.png"}],e=new ia.LoadQueue;return e.loadManifest(t),e}initSpritesForAll(t,e){for(let n of t)null!==n&&n.initSprite(e.getResult(n.constructor.name))}flipSpriteInPlace(t){t.sprite.scaleX=-t.sprite.scaleX}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zP=(()=>{class t extends oa{constructor(){super(),this.id=-1,this.maxHealth=100,this.health=100,this.defense=5,this.strength=15,this.attackRange=4,this.walk_frames=[12,19],this.attack_frames=[24,35]}}return t.dbid=btoa(t.name),t})(),GP=(()=>{class t extends oa{constructor(){super(),this.id=-1,this.maxHealth=100,this.health=80,this.defense=30,this.strength=15,this.attackRange=5,this.walk_frames=[0,1],this.attack_frames=[2,5]}}return t.dbid=btoa(t.name),t})(),YP=(()=>{class t{constructor(t,e){this.database=t,this.codeServ=e}getGameInfo(e,n){var i=this,r=0;return new Promise((s,o)=>{var a={team1Units:[],team2Units:[],griddimensions:t.PLAYSPACE_SIZE};this.database.getLevelProgram(e,function(t){for(var e=[],o=0;o<t.Units.length;o++){var c=i.newUnitOnType(t.Units[o].TroopType);if(c.id=r++,c.team=2,c.location=t.Units[o].location,t.Units[o].CodeType===na.BLOCK)c.codeType=na.BLOCK,c.activecode=i.deserializeBlockCode(t.Units[o].CodeBlocks);else{if(t.Units[o].CodeType!==na.FILE){console.log("Illegal code type, continuing");continue}c.codeType=na.FILE,e.push(i.getStorageReadPromise(t.Units[o].CodeFile.storageRef,t.Units[o].CodeFile.filename,c))}a.team2Units.push(c)}i.database.getProgramData(n,function(t){for(var n=0;n<t.Units.length;n++){var o=i.newUnitOnType(t.Units[n].TroopType);if(o.id=r++,o.team=1,o.location=t.Units[n].location,t.Units[n].CodeType==na.BLOCK)o.codeType=na.BLOCK,o.activecode=i.deserializeBlockCode(t.Units[n].CodeBlocks);else{if(t.Units[n].CodeType!=na.FILE){console.log("Illegal code type, continuing of type "+t.Units[n].CodeType.toString());continue}o.codeType=na.FILE,e.push(i.getStorageReadPromise(t.Units[n].CodeFile.storageRef,t.Units[n].CodeFile.filename,o))}a.team1Units.push(o)}Promise.all(e).then(function(t){s(a)})})})})}getGameInfoTesting(e){return new Promise((n,i)=>{var r=new zP;r.codeType=na.BLOCK,r.activecode=[new Ro],r.team=2,r.location={x:10,y:9};for(var s={team1Units:[],team2Units:[r],griddimensions:t.TESTGRID_SIZE},o=[],a=0,c=0;c<e.Units.length;c++){var u=this.newUnitOnType(e.Units[c].TroopType);if(u.id=a++,u.team=1,u.location=e.Units[c].location,e.Units[c].CodeType==na.BLOCK)u.codeType=na.BLOCK,u.activecode=this.deserializeBlockCode(e.Units[c].CodeBlocks);else{if(e.Units[c].CodeType!=na.FILE){console.log("Illegal code type, continuing");continue}u.codeType=na.FILE,u.fileUrl=e.Units[c].CodeFile.storageRef,u.fileUrl.startsWith("blob")?u.activecode=new Worker(u.fileUrl):o.push(this.getStorageReadPromise(e.Units[c].CodeFile.storageRef,e.Units[c].CodeFile.filename,u))}s.team1Units.push(u),Promise.all(o).then(function(t){n(s)})}})}newUnitOnType(t){switch(t){case zP.dbid:return new zP;case aa.dbid:return new aa;case GP.dbid:return new GP;default:return new oa}}deserializeBlockCode(t){return this.codeServ.deserializeToBlocks(t)}getStorageReadPromise(t,e,n){var i=this;return new Promise((r,s)=>{i.database.getUserCodeFromStorage(t,e,function(t){console.log("recieved "+e),n.activecode=t,r()})})}}return t.PLAYSPACE_SIZE={x:15,y:15},t.TESTGRID_SIZE={x:15,y:10},t.\u0275fac=function(e){return new(e||t)(i.Yb(VP),i.Yb(om))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class WP{constructor(){this.store=[]}push(t){this.store.push(t)}pop(){return this.store.pop()}peek(){return this.store[this.store.length-1]}size(){return this.store.length}clear(){this.store=[]}}class KP{constructor(t){this.id=-1,this.team=-1,this.location={x:0,y:0},this.maxHealth=100,this.health=100,this.defense=10,this.strength=20,this.attackRange=1,this.id=t.id,this.team=t.team,this.location=t.location,this.maxHealth=t.maxHealth,this.health=t.health,this.strength=t.strength,this.attackRange=t.attackRange}}let $P,XP=(()=>{class t{constructor(t,e){this.LevelInterface=t,this.blockServ=e,this.WORKER_TIMEOUT_TIME=5e3}loadData(t,e){return new Promise((n,i)=>{this.LevelInterface.getGameInfo(t,e).then(t=>{this.gameData=t,n()})})}loadTestData(t){return new Promise((e,n)=>{this.LevelInterface.getGameInfoTesting(t).then(t=>{this.gameData=t,e()})})}prepLoop(){try{var t=this.gameData;this.isTeam1Active=!0,this.unitIndex=0,this.codeIndex=0,this.lastAction=null,this.team1units=t.team1Units,this.team2units=t.team2Units,this.grid=this.create2DArray(t.griddimensions.x,t.griddimensions.y),this.currentConditions=new WP;for(var e=0;e<this.team1units.length;e++)this.grid[(n=this.team1units[e]).location.x][n.location.y]=n;for(e=0;e<this.team2units.length;e++){var n;this.grid[(n=this.team2units[e]).location.x][n.location.y]=n}}catch(i){return console.log("Failed: "+i),!1}return!0}stepGame(){var t=this;return new Promise((e,n)=>{Promise.race([this.baseStepPromise(),new Promise((e,n)=>{setTimeout(function(){e(new Do("RanOutOfTimeError",(t.isTeam1Active?t.team1units:t.team2units)[t.unitIndex],null,!1))},this.WORKER_TIMEOUT_TIME)})]).then(n=>{if("RanOutOfTimeError"===n.actionId){var i=t.isTeam1Active?t.team1units:t.team2units;t.unitIndex++,t.codeIndex=0,i.length<=t.unitIndex&&(t.unitIndex=0,t.isTeam1Active=!t.isTeam1Active),t.currentConditions.clear(),null!=t.workerRunning&&t.workerRunning.terminate()}e(n)})})}baseStepPromise(){return new Promise((t,e)=>{try{if(0===this.team1units.length)return void t(new Do("GameEnd2",null,null,!1));if(0===this.team2units.length)return void t(new Do("GameEnd1",null,null,!1));var n=(this.isTeam1Active?this.team1units:this.team2units)[this.unitIndex];if(n.codeType==na.BLOCK){var i=null;do{i=(n=(this.isTeam1Active?this.team1units:this.team2units)[this.unitIndex]).activecode[this.codeIndex]}while(this.evalCodeBlock(i,n));var r=this.lastAction;null==r&&(r=new Do("NoEvent",null,null,!1)),this.lastAction=null,r.hasDied&&this.deleteUnit(r.receiver);var s=this.isTeam1Active?this.team1units:this.team2units;this.unitIndex++,this.codeIndex=0,s.length<=this.unitIndex&&(this.unitIndex=0,this.isTeam1Active=!this.isTeam1Active),this.currentConditions.clear(),t(r)}else{if(n.codeType!==na.FILE)throw new Error("Unexpected Nonetype code");this.workerRunning=n.activecode,this.workerRunning.postMessage(JSON.stringify({grid:this.convertGridToReadOnly(this.grid),unit:new KP(n)}));var o=this,a=!1;this.workerRunning.onmessage=function(e){if(!a){o.workerRunning=null,console.log("Unit request "+e.data.result);var i=o.convertWorkerMessageToAction(e.data,o.grid,n);o.lastAction=i,i.hasDied&&o.deleteUnit(i.receiver);var r=o.isTeam1Active?o.team1units:o.team2units;o.unitIndex++,o.codeIndex=0,r.length<=o.unitIndex&&(o.unitIndex=0,o.isTeam1Active=!o.isTeam1Active),t(o.lastAction)}a=!0},this.workerRunning.onerror=function(t){throw o.workerRunning=null,new Error("Written Code has encountered an error")}}}catch(c){r=null,console.log("Error running unit index "+this.unitIndex.toString()+" on team "+this.isTeam1Active+" "+c),s=this.isTeam1Active?this.team1units:this.team2units,this.unitIndex++,this.codeIndex=0,s.length<=this.unitIndex&&(this.unitIndex=0,this.isTeam1Active=!this.isTeam1Active),this.currentConditions.clear(),t(new Do("Error",null,null,!1))}})}evalCodeBlock(t,e){var n=!1;if(this.blockServ.isConditional(t)){if(t instanceof Ao)return this.handleIfStatement(t,e);if(t instanceof Po){if(!this.currentConditions.peek().preCondition)return this.currentConditions.pop(),this.handleIfStatement(t,e);this.seekToEndIf(e)}else t instanceof ko&&(this.currentConditions.peek().preCondition?this.seekToEndIf(e):n=!0)}else this.blockServ.isTerminal(t)?(n=!0,this.currentConditions.pop()):(this.lastAction=t.execute(this.grid,e),n=!1);return this.codeIndex++,!(e.activecode.length<=this.codeIndex)&&n}convertGridToReadOnly(t){let e=[];for(let n of t){let t=[];for(let e of n)t.push(null!==e?new KP(e):e);e.push(t)}return e}create2DArray(t,e){for(var n=[],i=0;i<t;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=null}return n}handleIfStatement(t,e){return this.currentConditions.push(new JP(t,this.codeIndex)),t.condition.evaluation(this.grid,e)?(this.currentConditions.peek().preCondition=!0,this.codeIndex++,!0):(this.currentConditions.peek().preCondition=!1,this.seekToEndIf(e),!0)}seekToEndIf(t){var e,n=1;do{this.codeIndex++,(e=t.activecode[this.codeIndex])instanceof Ao?n++:this.blockServ.isTerminal(e)&&n--}while(!((this.blockServ.isTerminal(e)||e instanceof ko||e instanceof Po)&&n<=0))}convertWorkerMessageToAction(t,e,n){let i=t.result;try{let t=this.blockServ.getById(btoa(i));if(this.blockServ.isExecutable(t))return t.execute(e,n);throw new Error}catch(r){return(new Ro).execute(e,n)}}deleteUnit(t){console.log("Deleting unit "+t.id+" of team "+t.team);var e=1===t.team?this.team1units:this.team2units;console.log("Looked at team "+e+" of type "+JSON.stringify(e===this.team1units?"1":"2"));for(let n=0;n<e.length;n++)e[n].id===t.id&&(console.log("Deleted unit "+t.id+" at index "+n),e.splice(n,1));this.grid[t.location.x][t.location.y]=null,console.log("end")}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(YP),i.Yb(Jo))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class JP{constructor(t,e){this.preCondition=!1,this.elseMet=!1,this.conditional=t,this.conditionCodeIndex=e}}window.createjs=ia;let QP=YP.TESTGRID_SIZE.x,ZP=YP.TESTGRID_SIZE.y,tD=40*QP,eD=40*ZP,nD=(()=>{class t{constructor(t,e,n){this.sprite=t,this.code=e,this.loopservice=n,this.loading="loading",this.gameStart=!1,this.width=tD,this.height=eD,this.codeIndexGraphics=[],this.tickCount=0,this.unitClickEvent=new i.o,this.saveStateEvent=new i.o,this.gameActionLogger=new i.o,this.gridDataEvent=new i.o,this.contextMenu=null,this.contextMenuBounds={x:0,y:0,w:0,h:0},this.unitsLeft=5,this.imageQueue=null}ngOnDestroy(){this.gameStart=!1}ngOnInit(){if(void 0===this.testMode||void 0===this.programData)throw new Error("display mode and program data must be defined in the component");if(this.loadGridData(this.programData),void 0!==this.run&&this.run.subscribe(t=>{"done"===this.loading&&(this.gameStart?this.resetGame():(this.startGame(),this.closeContextMenu()))}),void 0!==this.unitCodeChange&&this.testMode&&this.unitCodeChange.subscribe(t=>{this.changeCodeIndexOfUnit(t.unit,t.index,t.color)}),void 0!==this.saveFormationsAndCode)this.saveFormationsAndCode.subscribe(t=>{this.saveStateEvent.emit(this.grid)});else if(this.testMode)throw new Error("Save Formation And Code Subject must be defined in test mode");void 0!==this.updateProgramData&&this.testMode&&this.updateProgramData.subscribe(t=>{this.programData=t}),void 0!==this.giveGridData&&this.testMode&&this.giveGridData.subscribe(t=>{this.gridDataEvent.emit(this.grid)}),ia.Ticker.on("tick",t=>{void 0!==$P&&($P.update(),this.tickCount+=1,void 0!==this.lastAction&&"GameEnd2"!==this.lastAction.actionId&&"GameEnd1"!==this.lastAction.actionId&&this.gameStart&&this.tickCount%20==0&&"done"===this.loading&&this.step())})}initGridSize(){this.testMode?(QP=YP.TESTGRID_SIZE.x,ZP=YP.TESTGRID_SIZE.y):(QP=YP.PLAYSPACE_SIZE.x,ZP=YP.PLAYSPACE_SIZE.y),tD=40*QP,eD=40*ZP,this.width=tD,this.height=eD}loadGridData(t){if(this.initGridSize(),this.testMode){let e=this;this.loopservice.loadTestData(t).then(t=>{e.gameInit()})}else{let t=this;if(void 0===this.gameLevelDataNum||void 0===this.gamePlayerDataNum)throw new Error("a level number and program number for the player must be defined when not in test mode");this.loopservice.loadData(this.gameLevelDataNum,this.gamePlayerDataNum).then(e=>{t.gameInit()})}}gameInit(){var t=this;if(this.loopservice.prepLoop()){t.grid=t.loopservice.grid;let e=qP.loadSpriteSheets();$P=new ia.Stage("battlegrounds"),e.on("complete",()=>{let n=new ia.Shape;n.graphics.beginBitmapFill(e.getResult(ra.testMap)).drawRect(0,0,tD,eD),$P.addChild(n),this.drawGrid(),this.imageQueue=e;for(let i of t.grid)this.sprite.initSpritesForAll(i,e),t.placeAllOnScreen(i);t.addAllCodeIndexGraphics()}),this.loading="done"}}placeOnScreen(t){let e=ra.spriteSize/2;if(t.sprite.x=t.location.x*ra.spriteSize+e,t.sprite.y=t.location.y*ra.spriteSize+e,this.testMode&&!this.gameStart){let n=10,i=8;if(!this.codeIndexGraphicExistsForUnit(t)){let e=new ia.Text(`${void 0!==t.testCodeIndex?t.testCodeIndex:""}`,"13px Roboto","#7A3DB8");e.x=t.sprite.x+n,e.y=t.sprite.y+i,this.codeIndexGraphics.push({number:e,location:t.location}),$P.addChild(e)}t.sprite.on("pressmove",e=>{this.gameStart||1!==t.team||(e.target.x=e.stageX,e.target.y=e.stageY)}),t.sprite.on("pressup",r=>{if(!this.gameStart&&1===t.team){let s=r.target,o=40*Math.floor(r.stageX/40)+e;o=o<400?o:360+e;let a=40*Math.floor(r.stageY/40)+e,c={x:Math.floor((o-e)/ra.spriteSize),y:Math.floor((a-e)/ra.spriteSize)};if(null===this.grid[c.x][c.y]){this.grid[t.location.x][t.location.y]=null;for(let e of this.codeIndexGraphics)if(e.location===t.location){e.number.x=o+n,e.number.y=a+i,e.location=c;break}t.location=c,this.grid[t.location.x][t.location.y]=t,s.x=o,s.y=a,this.giveGridData.next(!0)}else t.sprite.x=t.location.x*ra.spriteSize+e,t.sprite.y=t.location.y*ra.spriteSize+e}})}}placeAllOnScreen(t){for(let e of t)null!==e&&(this.placeOnScreen(e),$P.addChild(e.sprite),2===e.team&&this.sprite.flipSpriteInPlace(e))}drawGrid(){for(let e=0;e<QP;e++)for(let t=0;t<ZP;t++){let n=new ia.Shape;n.graphics.beginStroke("black").drawRect(e*ra.spriteSize,t*ra.spriteSize,ra.spriteSize,ra.spriteSize),$P.addChild(n)}let t=new ia.Shape;t.graphics.setStrokeDash([2,2]),t.graphics.setStrokeStyle(1).beginStroke("red").moveTo(400,0).lineTo(400,eD).endStroke(),$P.addChild(t)}step(){this.loading="loading";var t=this.loopservice.stepGame();t.then(t=>{this.lastAction=t,this.loading="done",this.gameActionLogger.emit(this.lastAction),null!==this.lastAction.doer&&(this.placeOnScreen(this.lastAction.doer),this.placeOnGrid(this.lastAction.doer)),this.lastAction.hasDied&&($P.removeChild(this.lastAction.receiver.sprite),console.log("Death happened"))}),t.catch(t=>{this.loading="error last action!"})}startGame(){if(this.step(),0!==this.codeIndexGraphics.length)for(let t of this.codeIndexGraphics)$P.removeChild(t.number);this.gameStart=!0}resetGame(){this.loading="loading",this.grid=null,this.loopservice.grid=null,this.gameStart=!1,$P.removeAllChildren(),this.loadGridData(this.programData),this.tickCount=0,this.lastAction=void 0}placeOnGrid(t){this.grid[t.location.x][t.location.y]=t}onGridClick(t){let e=Math.floor((t.pageX-t.target.offsetLeft)/40),n=Math.floor((t.pageY-t.target.offsetTop)/40);this.inContextMenuBounds(40*e,40*n)||this.closeContextMenu();let i=this.grid[e][n];null!=i&&this.unitClickEvent.emit(i)}changeCodeIndexOfUnit(t,e,n){t.testCodeIndex=e;for(let i of this.codeIndexGraphics)i.location===t.location&&(i.number.text=`${e}`,i.number.color=n)}codeIndexGraphicExistsForUnit(t){for(let e of this.codeIndexGraphics)if(e.location===t.location)return!0;return!1}removeCodeIndexGraphicForUnit(t){let e=this.codeIndexGraphics.findIndex(e=>e.location===t.location);$P.removeChild(this.codeIndexGraphics[e].number),this.codeIndexGraphics.splice(e,1)}addAllCodeIndexGraphics(){for(let t of this.codeIndexGraphics)$P.addChild(t.number)}renderContextMenuAt(t,e,n,i){let r=new ia.Container,s={w:100,h:100,absx:t,absy:e};r.x=s.absx,r.y=s.absy;let o=new ia.Shape;o.graphics.beginFill("#BEBEBE").drawRect(0,0,s.w,s.h),o.graphics.beginStroke("black").drawRect(0,0,s.w,s.h),r.addChild(o);let a=new ia.Text;a.font="12px JetBrains Mono",a.text=`Units Left: ${this.unitsLeft}`,a.color="black",a.x=3,a.y=10,r.addChild(a);let c=new ia.Shape;c.graphics.beginFill("white").drawRect(5,25,90,20),c.graphics.beginStroke("black").drawRect(5,25,90,20),r.addChild(c);let u=this;c.on("click",t=>{if(null===u.loopservice.grid[n][i]&&null!==this.imageQueue&&this.unitsLeft>0){let t=new zP;t.team=1;let e=u.loopservice.team1units;t.id=e.length>0?e[e.length-1].id+1:0,t.activecode=[new Mo],t.location.x=n,t.codeType=na.BLOCK,t.location.y=i,t.initSprite(u.imageQueue.getResult(ra.archer)),u.loopservice.team1units.push(t),u.loopservice.grid[n][i]=t,u.placeOnGrid(t),u.placeAllOnScreen([t]),u.closeContextMenu(),u.unitsLeft-=1,u.giveGridData.next(!0)}});let l=new ia.Text;l.font="11px JetBrains Mono",l.text="Add Archer",l.color="black",l.x=17,l.y=30,r.addChild(l);let h=new ia.Shape;h.graphics.beginFill("white").drawRect(5,50,90,20),h.graphics.beginStroke("black").drawRect(5,50,90,20),r.addChild(h),h.on("click",t=>{if(null===u.loopservice.grid[n][i]&&null!==this.imageQueue&&this.unitsLeft>0){let t=new aa;t.team=1;let e=u.loopservice.team1units;t.id=e.length>0?e[e.length-1].id+1:0,t.activecode=[new Mo],t.location.x=n,t.codeType=na.BLOCK,t.location.y=i,t.initSprite(u.imageQueue.getResult(ra.swordsmen)),u.loopservice.team1units.push(t),u.loopservice.grid[n][i]=t,u.placeOnGrid(t),u.placeAllOnScreen([t]),u.closeContextMenu(),u.unitsLeft-=1,u.giveGridData.next(!0)}});let d=new ia.Text;d.font="11px JetBrains Mono",d.text="Add Swordsman",d.color="black",d.x=7,d.y=55,r.addChild(d);let f=new ia.Shape,p=new ia.Text;f.graphics.beginFill("white").drawRect(0,0,90,20),f.graphics.beginStroke("black").drawRect(0,0,90,20),f.x=5,f.y=75,r.addChild(f),f.on("click",t=>{if(null!==u.loopservice.grid[n][i]&&2!==u.loopservice.grid[n][i].team&&5!==this.unitsLeft){let t=u.loopservice.grid[n][i];$P.removeChild(t.sprite),this.loopservice.deleteUnit(t),u.removeCodeIndexGraphicForUnit(t),u.unitsLeft+=1,u.closeContextMenu(),u.giveGridData.next(!0)}}),p.font="11px JetBrains Mono",p.text="Delete Unit",p.color="black",p.x=13,p.y=80,r.addChild(p),this.contextMenu=r,this.contextMenuBounds.x=s.absx,this.contextMenuBounds.y=s.absy,this.contextMenuBounds.w=s.w,this.contextMenuBounds.h=s.h,$P.addChild(r)}onContextMenuOpen(t){t.preventDefault(),null===this.contextMenu&&!this.gameStart&&this.testMode&&"done"===this.loading&&this.renderContextMenuAt(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop,Math.floor((t.pageX-t.target.offsetLeft)/40),Math.floor((t.pageY-t.target.offsetTop)/40))}inContextMenuBounds(t,e){return t>=this.contextMenuBounds.x&&t<=this.contextMenuBounds.x+this.contextMenuBounds.w&&e>=this.contextMenuBounds.y&&e<=this.contextMenuBounds.y+this.contextMenuBounds.h}closeContextMenu(){$P.removeChild(this.contextMenu),this.contextMenu=null}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(qP),i.Ob(om),i.Ob(XP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-level"]],inputs:{testMode:"testMode",programData:"programData",run:"run",unitCodeChange:"unitCodeChange",saveFormationsAndCode:"saveFormationsAndCode",gameLevelDataNum:"gameLevelDataNum",gamePlayerDataNum:"gamePlayerDataNum",updateProgramData:"updateProgramData",giveGridData:"giveGridData"},outputs:{unitClickEvent:"unitClickEvent",saveStateEvent:"saveStateEvent",gameActionLogger:"gameActionLogger",gridDataEvent:"gridDataEvent"},decls:1,vars:2,consts:[["id","battlegrounds",3,"width","height","click","contextmenu"]],template:function(t,e){1&t&&(i.Ub(0,"canvas",0),i.bc("click",function(t){return e.onGridClick(t)})("contextmenu",function(t){return e.onContextMenuOpen(t)}),i.Tb()),2&t&&i.ic("width",e.width)("height",e.height)},styles:[""]}),t})();const iD=["mat-button",""],rD=["*"],sD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class oD{constructor(t){this._elementRef=t}}const aD=wh(vh(Th(oD)));let cD=(()=>{class t extends aD{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of sD)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(vc),i.Ob(hh,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&i.yc(Rh,1),2&t){let t;i.lc(t=i.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Eb("disabled",e.disabled||null),i.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.Ab],attrs:iD,ngContentSelectors:rD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.hc(),i.Ub(0,"span",0),i.gc(1),i.Tb(),i.Pb(2,"span",1),i.Pb(3,"span",2)),2&t&&(i.Db(2),i.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.ic("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Rh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),uD=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[Uh,yh],yh]}),t})();const lD=["*",[["mat-card-footer"]]],hD=["*","mat-card-footer"];let dD=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(hh,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:hD,decls:2,vars:0,template:function(t,e){1&t&&(i.hc(lD),i.gc(0),i.gc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),fD=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[yh],yh]}),t})();const pD=["input"],mD=function(){return{enterDuration:150}},gD=["*"],bD=new i.s("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let _D=0;const yD={provide:Uf,useExisting:Object(i.W)(()=>SD),multi:!0};class vD{constructor(t,e){this.source=t,this.value=e}}const wD=new i.s("MatRadioGroup");let TD=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+_D++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.o}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Sr(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Sr(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new vD(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),SD=(()=>{class t extends TD{}return t.\u0275fac=function(e){return xD(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,OD,1),2&t){let t;i.lc(t=i.cc())&&(e._radios=t)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i.Cb([yD,{provide:wD,useExisting:t}]),i.Ab]}),t})();const xD=i.Wb(SD);class CD{constructor(t){this._elementRef=t}}const ED=Th(Sh(CD));let kD=(()=>{class t extends ED{constructor(t,e,n,r,s,o,a,c){super(e),this._changeDetector=n,this._focusMonitor=r,this._radioDispatcher=s,this._animationMode=o,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++_D,this.id=this._uniqueId,this.change=new i.o,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,c&&(this.tabIndex=xr(c,0)),this._removeUniqueSelectionListener=s.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=Sr(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Sr(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Sr(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new vD(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(TD),i.Ob(i.l),i.Ob(i.h),i.Ob(vc),i.Ob(ws),i.Ob(String),i.Ob(void 0),i.Ob(String))},t.\u0275dir=i.Jb({type:t,viewQuery:function(t,e){if(1&t&&i.yc(pD,1),2&t){let t;i.lc(t=i.cc())&&(e._inputElement=t.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[i.Ab]}),t})(),OD=(()=>{class t extends kD{constructor(t,e,n,i,r,s,o,a){super(t,e,n,i,r,s,o,a)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(wD,8),i.Ob(i.l),i.Ob(i.h),i.Ob(vc),i.Ob(ws),i.Ob(hh,8),i.Ob(bD,8),i.Zb("tabindex"))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&i.bc("focus",function(){return e._inputElement.nativeElement.focus()}),2&t&&(i.Eb("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.Gb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.Ab],ngContentSelectors:gD,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(i.hc(),i.Ub(0,"label",0,1),i.Ub(2,"div",2),i.Pb(3,"div",3),i.Pb(4,"div",4),i.Ub(5,"input",5,6),i.bc("change",function(t){return e._onInputChange(t)})("click",function(t){return e._onInputClick(t)}),i.Tb(),i.Ub(7,"div",7),i.Pb(8,"div",8),i.Tb(),i.Tb(),i.Ub(9,"div",9),i.Ub(10,"span",10),i.uc(11,"\xa0"),i.Tb(),i.gc(12),i.Tb(),i.Tb()),2&t){const t=i.mc(1);i.Eb("for",e.inputId),i.Db(5),i.ic("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),i.Eb("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),i.Db(2),i.ic("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.jc(18,mD)),i.Db(2),i.Gb("mat-radio-label-before","before"==e.labelPosition)}},directives:[Rh],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),ID=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[Uh,yh],yh]}),t})();const AD=["trigger"],PD=["panel"];function DD(t,e){if(1&t&&(i.Ub(0,"span",8),i.uc(1),i.Tb()),2&t){const t=i.fc();i.Db(1),i.vc(t.placeholder||"\xa0")}}function RD(t,e){if(1&t&&(i.Ub(0,"span"),i.uc(1),i.Tb()),2&t){const t=i.fc(2);i.Db(1),i.vc(t.triggerValue||"\xa0")}}function UD(t,e){1&t&&i.gc(0,0,["*ngSwitchCase","true"])}function LD(t,e){if(1&t&&(i.Ub(0,"span",9),i.tc(1,RD,2,1,"span",10),i.tc(2,UD,1,0,"ng-content",11),i.Tb()),2&t){const t=i.fc();i.ic("ngSwitch",!!t.customTrigger),i.Db(2),i.ic("ngSwitchCase",!0)}}function ND(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",12),i.Ub(1,"div",13,14),i.bc("@transformPanel.done",function(e){return i.nc(t),i.fc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return i.nc(t),i.fc()._handleKeydown(e)}),i.gc(3,1),i.Tb(),i.Tb()}if(2&t){const t=i.fc();i.ic("@transformPanelWrap",void 0),i.Db(1),i.Fb("mat-select-panel ",t._getPanelTheme(),""),i.qc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),i.ic("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),i.Eb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const MD=[[["mat-select-trigger"]],"*"],jD=["mat-select-trigger","*"],FD={transformPanelWrap:Ic("transformPanelWrap",[Lc("* => void",Mc("@transformPanel",[Nc()],{optional:!0}))]),transformPanel:Ic("transformPanel",[Uc("void",Rc({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Uc("showing",Rc({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Uc("showing-multiple",Rc({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Lc("void => *",Ac("120ms cubic-bezier(0, 0, 0.2, 1)")),Lc("* => void",Ac("100ms 25ms linear",Rc({opacity:0})))])};let VD=0;const BD=256,HD=new i.s("mat-select-scroll-strategy"),qD=new i.s("MAT_SELECT_CONFIG"),zD={provide:HD,deps:[Ga],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class GD{constructor(t,e){this.source=t,this.value=e}}class YD{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const WD=Th(Sh(vh(xh(YD)))),KD=new i.s("MatSelectTrigger");let $D=(()=>{class t extends WD{constructor(t,e,n,r,s,o,a,c,u,l,h,d,f,p){super(s,r,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+VD++,this._triggerAriaLabelledBy=null,this._destroy=new St.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+VD++,this._transformOrigin="top",this._panelDoneAnimatingStream=new St.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=qt(()=>{const t=this.options;return t?t.changes.pipe(te(t),Wt(()=>Object(Os.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Jt(1),Wt(()=>this.optionSelectionChanges))}),this.openedChange=new i.o,this._openedStream=this.openedChange.pipe(re(t=>t),Object(Gt.a)(()=>{})),this._closedStream=this.openedChange.pipe(re(t=>!t),Object(Gt.a)(()=>{})),this.selectionChange=new i.o,this.valueChange=new i.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Sr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Sr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Sr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=xr(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new vs(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(jr(),Wr(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Wr(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wr(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(te(null),Wr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Jt(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!_a(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||_a(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Jt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t)Array.isArray(t),this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues();else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new ac(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Wr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Wr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Os.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wr(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Os.a)(...this.options.map(t=>t._stateChanges)).pipe(Wr(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new GD(this,e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Kh(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,s;this.panel.nativeElement.scrollTop=(r=n,(i=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?i:i+r>s+256?Math.max(0,i-256+r):s)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,BD),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=Kh(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(BD/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-BD)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,BD)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(xs),i.Ob(i.h),i.Ob(i.B),i.Ob(Ch),i.Ob(i.l),i.Ob(gs,8),i.Ob(qp,8),i.Ob(Kp,8),i.Ob(Of,8),i.Ob(sp,10),i.Zb("tabindex"),i.Ob(HD),i.Ob(gc),i.Ob(qD,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,KD,1),i.Hb(n,Wh,1),i.Hb(n,Hh,1)),2&t){let t;i.lc(t=i.cc())&&(e.customTrigger=t.first),i.lc(t=i.cc())&&(e.options=t),i.lc(t=i.cc())&&(e.optionGroups=t)}},viewQuery:function(t,e){if(1&t&&(i.yc(AD,1),i.yc(PD,1),i.yc($a,1)),2&t){let t;i.lc(t=i.cc())&&(e.trigger=t.first),i.lc(t=i.cc())&&(e.panel=t.first),i.lc(t=i.cc())&&(e.overlayDir=t.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&i.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(i.Eb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),i.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[i.Cb([{provide:_f,useExisting:t},{provide:Gh,useExisting:t}]),i.Ab,i.Bb],ngContentSelectors:jD,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(i.hc(MD),i.Ub(0,"div",0,1),i.bc("click",function(){return e.toggle()}),i.Ub(3,"div",2),i.tc(4,DD,2,1,"span",3),i.tc(5,LD,3,2,"span",4),i.Tb(),i.Ub(6,"div",5),i.Pb(7,"div",6),i.Tb(),i.Tb(),i.tc(8,ND,4,14,"ng-template",7),i.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=i.mc(1);i.Db(3),i.ic("ngSwitch",e.empty),i.Eb("id",e._valueId),i.Db(1),i.ic("ngSwitchCase",!0),i.Db(1),i.ic("ngSwitchCase",!1),i.Db(3),i.ic("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Ka,N,M,$a,j,O],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[FD.transformPanelWrap,FD.transformPanel]},changeDetection:0}),t})(),XD=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[zD],imports:[[F,Ja,$h,yh],Cs,Af,$h,yh]}),t})();const JD=["input"],QD=function(){return{enterDuration:150}},ZD=["*"],tR=new i.s("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),eR=new i.s("mat-checkbox-click-action");let nR=0;const iR={provide:Uf,useExisting:Object(i.W)(()=>aR),multi:!0};class rR{}class sR{constructor(t){this._elementRef=t}}const oR=Sh(wh(Th(vh(sR))));let aR=(()=>{class t extends oR{constructor(t,e,n,r,s,o,a,c){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=r,this._clickAction=o,this._animationMode=a,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++nR,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new i.o,this.indeterminateChange=new i.o,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(s)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Sr(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=Sr(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=Sr(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new rR;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(vc),i.Ob(i.B),i.Zb("tabindex"),i.Ob(eR,8),i.Ob(hh,8),i.Ob(tR,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(i.yc(JD,1),i.yc(Rh,1)),2&t){let t;i.lc(t=i.cc())&&(e._inputElement=t.first),i.lc(t=i.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(i.Xb("id",e.id),i.Eb("tabindex",null),i.Gb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[i.Cb([iR]),i.Ab],ngContentSelectors:ZD,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(i.hc(),i.Ub(0,"label",0,1),i.Ub(2,"div",2),i.Ub(3,"input",3,4),i.bc("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),i.Tb(),i.Ub(5,"div",5),i.Pb(6,"div",6),i.Tb(),i.Pb(7,"div",7),i.Ub(8,"div",8),i.ec(),i.Ub(9,"svg",9),i.Pb(10,"path",10),i.Tb(),i.dc(),i.Pb(11,"div",11),i.Tb(),i.Tb(),i.Ub(12,"span",12,13),i.bc("cdkObserveContent",function(){return e._onLabelTextChange()}),i.Ub(14,"span",14),i.uc(15,"\xa0"),i.Tb(),i.gc(16),i.Tb(),i.Tb()),2&t){const t=i.mc(1),n=i.mc(13);i.Eb("for",e.inputId),i.Db(2),i.Gb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),i.Db(1),i.ic("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),i.Eb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),i.Db(2),i.ic("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",i.jc(19,QD))}},directives:[Rh,rc],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),cR=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})(),uR=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[Uh,yh,sc,cR],yh,cR]}),t})();function lR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",20),i.bc("click",function(){i.nc(t);const n=e.$implicit,r=e.index;return i.fc().changeTab(n,r)}),i.Ub(1,"h3"),i.uc(2),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=i.fc();i.Gb("tab-not-selected",t!==r.currentCode)("tab-selected",t===r.currentCode),i.Db(2),i.wc(" ",n+1," ")}}function hR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",21),i.bc("contextmenu",function(e){return i.nc(t),i.fc().onSelectJsCode(e)}),i.Ub(1,"pre"),i.Ub(2,"code",22),i.uc(3),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.fc();i.Gb("code-select",t.selected),i.Db(3),i.vc(t.jsCodeTabs[t.tabIndex-1].content)}}function dR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",34),i.Ub(1,"button",35),i.bc("click",function(){i.nc(t);const e=i.fc(3),n=e.$implicit,r=e.index;return i.fc().deleteCondition(n.conditions,r)}),i.Ub(2,"mat-icon"),i.uc(3,"close"),i.Tb(),i.Tb(),i.Ub(4,"mat-radio-group",36),i.bc("change",function(e){i.nc(t);const n=i.fc().index,r=i.fc(2),s=r.$implicit,o=r.index;return i.fc().setConjunction(s.conditions[n],e.value,o)}),i.Ub(5,"mat-radio-button",37),i.uc(6,"And"),i.Tb(),i.Ub(7,"mat-radio-button",38),i.uc(8,"Or"),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.fc().$implicit;i.Db(5),i.ic("checked","&"===t.conjunction),i.Db(2),i.ic("checked","|"===t.conjunction)}}function fR(t,e){if(1&t&&(i.Ub(0,"mat-option",42),i.uc(1),i.Tb()),2&t){const t=e.$implicit,n=i.fc(5);i.ic("value",n.blockService.cloneBlock(t)),i.Db(1),i.wc(" ",t.getLabel()," ")}}function pR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-form-field",39),i.Ub(1,"mat-label"),i.uc(2,"Select Condition:"),i.Tb(),i.Ub(3,"mat-select",40),i.bc("selectionChange",function(e){i.nc(t);const n=i.fc().index,r=i.fc(2),s=r.$implicit,o=r.index;return i.fc().onChangeCondition(s,e.value,n,o)}),i.tc(4,fR,2,2,"mat-option",41),i.Tb(),i.Tb()}if(2&t){const t=i.fc().index,e=i.fc(2).$implicit,n=i.fc();i.Db(3),i.ic("value",e.conditions[t]),i.Db(1),i.ic("ngForOf",n.predicates)}}function mR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-checkbox",43),i.bc("ngModelChange",function(e){return i.nc(t),i.fc().$implicit.negate=e})("change",function(){i.nc(t);const e=i.fc(3).index;return i.fc().refreshCode(e)}),i.uc(1," Negate condition (not) "),i.Tb()}if(2&t){const t=i.fc().$implicit;i.ic("ngModel",t.negate)}}function gR(t,e){if(1&t&&(i.Ub(0,"div",29),i.tc(1,dR,9,2,"div",30),i.Ub(2,"p",31),i.uc(3),i.Tb(),i.tc(4,pR,5,2,"mat-form-field",32),i.tc(5,mR,2,1,"mat-checkbox",33),i.Tb()),2&t){const t=e.index,n=i.fc(2).$implicit,r=i.fc();i.Db(1),i.ic("ngIf",t>0),i.Db(2),i.xc(" ",n.conditions[t].negate?"Not":""," ",n.conditions[t].getLabel()," "),i.Db(1),i.ic("ngIf",r.isConditional(n)),i.Db(1),i.ic("ngIf",r.isConditional(n))}}function bR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",26),i.tc(1,gR,6,5,"div",27),i.Ub(2,"button",28),i.bc("click",function(){i.nc(t);const e=i.fc().$implicit;return i.fc().addCondition(e.conditions)}),i.uc(3," add condition "),i.Tb(),i.Tb()}if(2&t){const t=i.fc().$implicit;i.Db(1),i.ic("ngForOf",t.conditions)}}function _R(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",44),i.bc("click",function(){i.nc(t);const e=i.fc().index;return i.fc().onDeleteBlock(e)}),i.Ub(1,"mat-icon"),i.uc(2,"delete"),i.Tb(),i.Tb()}}function yR(t,e){if(1&t&&(i.Ub(0,"mat-card",23),i.uc(1),i.tc(2,bR,4,1,"div",24),i.tc(3,_R,3,0,"button",25),i.Tb()),2&t){const t=e.$implicit,n=i.fc();i.qc("left",50*t.indentationLevel+"px"),i.Gb("executable-block",!n.isEndBlock(t)&&!n.isConditional(t)&&!n.isTerminalBlock(t))("end-code-block",n.isEndBlock(t))("code-select",n.selected)("conditional-code-block",(n.isConditional(t)||n.isTerminalBlock(t))&&!n.isEndBlock(t)),i.Db(1),i.wc(" ",t.getLabel()," "),i.Db(1),i.ic("ngIf",n.isConditional(t)),i.Db(1),i.ic("ngIf",!n.isEndBlock(t))}}function vR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",51),i.bc("click",function(){i.nc(t);const n=e.index;return i.fc(2).updateCategorySelected(n)}),i.Ub(1,"h3"),i.uc(2),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit;i.Gb("tab-not-selected",!t.selected)("tab-selected",t.selected),i.Eb("id",t.type),i.Db(2),i.vc(t.type)}}function wR(t,e){if(1&t&&(i.Ub(0,"mat-card",52),i.uc(1),i.Tb()),2&t){const t=e.$implicit;i.Db(1),i.vc(t.getLabel())}}function TR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",45),i.Ub(1,"div",46),i.tc(2,vR,3,6,"div",47),i.Tb(),i.Ub(3,"div",48),i.Ub(4,"div",49),i.bc("cdkDropListDropped",function(e){return i.nc(t),i.fc().onDrop(e)}),i.tc(5,wR,2,1,"mat-card",50),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.fc(),e=i.mc(8);i.Db(2),i.ic("ngForOf",t.blockCategories),i.Db(2),i.ic("cdkDropListData",t.getBlocksOfSelectedCategory())("cdkDropListConnectedTo",e),i.Db(1),i.ic("ngForOf",t.getBlocksOfSelectedCategory())}}function SR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",53),i.bc("click",function(){return i.nc(t),i.fc().uploadJavascript()}),i.Ub(1,"input",54),i.bc("change",function(e){return i.nc(t),i.fc().retrieveJavascriptCode(e)}),i.Tb(),i.uc(2," upload code "),i.Tb()}}function xR(t,e){if(1&t&&(i.Ub(0,"p",56),i.uc(1),i.Tb()),2&t){const t=e.$implicit;i.qc("left",10*t.indentationLevel+"px"),i.Db(1),i.wc(" ",t.code," ")}}function CR(t,e){if(1&t&&(i.Ub(0,"div",55),i.Ub(1,"p",56),i.uc(2,"// This is your block code as actual javascript code!"),i.Tb(),i.tc(3,xR,2,3,"p",57),i.Tb()),2&t){const t=i.fc();i.qc("height",200+15*t.realCode.length+"px"),i.Db(3),i.ic("ngForOf",t.realCode)}}let ER=(()=>{class t{constructor(t,e,n,i,r,s){this.codeService=t,this.blockService=e,this.dialog=n,this.db=i,this.auth=r,this.router=s,this.codeBlocks=Jo.placeableBlocks,this.predicates=Jo.predicates,this.codeTabs=[[new xo,new So],[new xo,new So],[new xo,new So],[new xo,new So]],this.jsCodeTabs=this.codeBlocks.map(t=>({content:"",file:null,ref:"",rawFile:null})),this.verified=this.codeTabs.map(t=>!1),this.selected=!1,this.currentCode=this.codeTabs[0],this.blockCategories=[{type:"Action",selected:!0},{type:"Conditional",selected:!1}],this.selectedCategory=this.blockCategories[0],this.realCode=this.currentCode.map(t=>new Qo(t)),this.extraLinesAdded=3,this.hasHealthFunc=!1,this.hasEnemyNearFunc=!1,this.hasLocationAvailableFunc=!1,this.tabIndex=1,this.run=new St.a,this.gameRun=!1,this.unitCodeChange=new St.a,this.saveFormationsAndCode=new St.a,this.javascriptMode=!1,this.giveGridData=new St.a,this.updateProgramData=new St.a}ngOnInit(){if(this.auth.checkSigninStatus()){this.programData=new ta,this.programData.Name="Test";let t=new ea;t.CodeBlocks=["RWFzdA=="],t.CodeType=na.BLOCK,t.TroopType=aa.dbid,t.location={x:1,y:2},this.programData.Units=[t],this.initStarterCode()}else this.router.navigate(["signin"])}unverifyCode(){this.verified[this.tabIndex-1]=!1,this.selected=!1}onDrop(t){if(t.container.data===this.currentCode&&0!=t.currentIndex&&!(t.currentIndex>=this.currentCode.length)){this.unverifyCode();let e=t.previousContainer.data[t.previousIndex],n=this.blockService.cloneBlock(e);this.setIndentationLevel(t,e),this.blockService.isConditional(e)&&(n.conditions=[new Eo],n.condition=new Eo),t.previousContainer.data.push(n),function(t,e,n,i){const r=Zs(n,t.length-1),s=Zs(i,e.length);t.length&&e.splice(s,0,t.splice(r,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.realCode.splice(t.currentIndex+this.extraLinesAdded,0,new Qo(n))}}onDeleteBlock(t){this.unverifyCode(),this.currentCode.splice(t,1),this.realCode.splice(t+this.extraLinesAdded,1),this.recalculateIndentation()}exportCode(){this.saveFormationsAndCode.next(!0)}saveProgramData(t,e=!1,n="test"){this.programData=new ta,this.programData.Name=n,this.programData.Verified=!0,this.programData.Units=[];let i=[];for(let r of t)for(let t of r)if(null!=t&&1===t.team){let n=new ea;if(n.TroopType=btoa(t.constructor.name),t.codeType===na.BLOCK)n.CodeType=na.BLOCK,n.CodeBlocks=this.codeService.serializeBlocks(t.activecode);else if(t.codeType===na.FILE){if(n.CodeType=na.FILE,e)for(let e of this.jsCodeTabs)e.file===t.fileUrl&&(t.fileUrl=e.ref);if(n.CodeFile={storageRef:t.fileUrl,filename:t.fileUrl.split("/")[3]},e){let e=null;for(let n of this.jsCodeTabs)n.ref===t.fileUrl&&(e=n.rawFile);if(null===e)throw new Error("Couldn't find file. Something went wrong. Your code is spaghetti lel");i.includes(t.fileUrl)||(this.db.storeCodeAtLocation(t.fileUrl,e),i.push(t.fileUrl))}}n.location=Object.freeze(t.location),this.programData.Units.push(n)}this.updateProgramData.next(this.programData)}saveState(t){let e={name:"",cancelled:!1};this.dialog.open(rm,{data:e}).afterClosed().subscribe(n=>{if(""!==e.name&&!e.cancelled){let n=this;n.saveProgramData(t,!0,e.name),function t(e){n.db.doesProgramExist(`${e}`,i=>{i?t(n.getRandomInt(200)):n.db.setProgramData(`${e}`,n.programData).then(t=>{let i=n.auth.getUser().uid;n.db.getUserData(i,t=>{let r=t;r.Programs.push(e),n.db.setUserData(i,r).then(t=>{n.dialog.open(sm,{data:"Code and formation saved successfully!"})}).catch(t=>{n.dialog.open(bd,{data:"Whoops! Something went wrong on our end. Please try again or send a bug report"})})})})})}(0)}})}onChangeCondition(t,e,n,i){console.log("HERE");let r=t.conditions[n].conjunction;t.conditions[n]=e,t.conditions[n].conjunction=r,this.unverifyCode(),this.refreshCode(i),e.getLabel()!==Bo.label||this.hasHealthFunc?e.getLabel()!==Vo.label||this.hasEnemyNearFunc?[$o.label,Xo.label,Wo.label,Ko.label].includes(e.getLabel())&&!this.hasLocationAvailableFunc&&(this.addFunctionToRealCode("function locationAvailable(grid, location){@^return grid[location.x][location.y] === null && location.x >= 0 && location.x < grid.length && location.y >= 0 && location.y < grid[0].length;@}"),this.hasLocationAvailableFunc=!0):(this.addFunctionToRealCode("function enemyInRange(grid, you){@^for(let x = 0; x < grid.length; x++){@^^for(let y = 0; y < grid[0].length; y++){@^^^let other = grid[x][y];@^^^if(!((you.location.x === x && you.location.y === y) || other === null || you.team === other.team)){@^^^^if((x >= you.location.x - you.attackRange && x <= you.location.x + you.attackRange) &&@^^^^^(y >= you.location.y - you.attackRange && y <= you.location.y + you.attackRange)){@^^^^^^return true;@^^^^^}@^^^^}@^^^}@^^}@^return false;@}"),this.hasEnemyNearFunc=!0):(this.addFunctionToRealCode("function healthLessThan30Percent(you){@^return ((you.health / you.maxHealth) * 100) < 30;@}"),this.hasHealthFunc=!0)}isConditional(t){return this.blockService.isConditional(t)&&!(t.getLabel()===ko.label)}isEndBlock(t){return t.getLabel()===xo.label||t.getLabel()===So.label}isTerminalBlock(t){return this.blockService.isTerminal(t)}setIndentationLevel(t,e,n=null){let i=n;null!==t&&(i=t.currentIndex);let r=this.currentCode[i-1];e.indentationLevel=1===i?1:this.blockService.isConditional(r)&&!this.blockService.isTerminal(e)?r.indentationLevel+1:this.blockService.isTerminal(e)&&1!==r.indentationLevel&&!this.blockService.isConditional(r)?r.indentationLevel-1:r.indentationLevel}recalculateIndentation(){for(let t=1;t<this.currentCode.length-1;t++){let e=this.currentCode[t];this.setIndentationLevel(null,e,t),this.realCode[t+this.extraLinesAdded].indentationLevel=e.indentationLevel}}initStarterCode(){let t=new Qo(null,"let data = JSON.parse(turnEvent.data);");t.indentationLevel=1,this.realCode.splice(1,0,t);let e=new Qo(null,"let grid = data.grid;");e.indentationLevel=1,this.realCode.splice(2,0,e);let n=new Qo(null,"let me = data.unit;");n.indentationLevel=1,this.realCode.splice(this.extraLinesAdded,0,n)}addFunctionToRealCode(t){let e=Qo.funcToRealCodeRepr(t);for(let n of e)this.realCode.push(n)}addCondition(t){t.push(new Eo)}setConjunction(t,e,n){t.conjunction=e,this.refreshCode(n)}deleteCondition(t,e){t.splice(e,1),this.refreshCode(e)}refreshCode(t){this.realCode[t+this.extraLinesAdded].code=this.currentCode[t].getAsCode()}refreshAllCode(){this.realCode=[];for(let t of this.currentCode)this.realCode.push(new Qo(t));this.initStarterCode()}updateCategorySelected(t){for(let e of this.blockCategories)e.selected=!1;this.blockCategories[t].selected=!0,this.selectedCategory=this.blockCategories[t]}getBlocksOfSelectedCategory(){return this.selectedCategory===this.blockCategories[0]?Jo.actionBlocks:Jo.conditionalBlocks}changeTab(t,e){this.currentCode=t,this.tabIndex=e+1,this.unverifyCode(),this.refreshAllCode()}updateSelected(){this.selected=!this.selected}onSelectBlockCode(t){this.javascriptMode||(t.preventDefault(),this.updateSelected(),this.verifyCode())}onSelectJsCode(t){t.preventDefault(),this.updateSelected()}verifyCode(){if(!this.verified[this.tabIndex-1])try{this.codeService.compileToExecutableCode(this.currentCode),this.verified[this.tabIndex-1]=!0}catch(t){this.dialog.open(bd,{data:t.message}).afterClosed().subscribe(t=>{this.updateSelected()})}}addCodeToUnit(t){let e=!1;this.selected&&(this.verified[this.tabIndex-1]&&!this.javascriptMode||this.javascriptMode)&&(this.javascriptMode?null!==this.jsCodeTabs[this.tabIndex-1].file?(t.codeType=na.FILE,t.activecode=new Worker(this.jsCodeTabs[this.tabIndex-1].file),t.fileUrl=this.jsCodeTabs[this.tabIndex-1].file):e=!0:this.verified[this.tabIndex-1]?(t.codeType=na.BLOCK,t.activecode=[...this.currentCode]):e=!0,this.updateSelected(),e||(this.unitCodeChange.next({unit:t,index:this.tabIndex,color:this.javascriptMode?"#7A3DB8":"#A4000F"}),this.giveGridData.next(!0)))}runOrResetTest(){this.run.next(!0),this.gameRun=!this.gameRun}switchEditorMode(){this.javascriptMode=!this.javascriptMode,this.selected=!1}uploadJavascript(){document.getElementById("file").click()}retrieveJavascriptCode(t){let e=t.target.files[0],n=new FileReader,i=this;n.onload=function(t){if("string"==typeof t.target.result){let n=i.jsCodeTabs[i.tabIndex-1];n.content=t.target.result,n.file=window.URL.createObjectURL(e),console.log(n.file),n.rawFile=e,n.ref=`/user_code/${i.auth.getUser().uid}/${(new Date).getTime()}`}},n.readAsText(e)}getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))}goToHelpPage(){this.router.navigate(["using-the-code-editor"]),window.scroll(0,0)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(om),i.Ob(Jo),i.Ob(hd),i.Ob(VP),i.Ob(BP),i.Ob(er))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-block-code"]],decls:24,vars:28,consts:[["id","content-wrapper"],["id","left-content"],["id","top-left-content"],[1,"tabs"],["class","tab tab-not-selected",3,"tab-not-selected","tab-selected","click",4,"ngFor","ngForOf"],["id","code-boundary"],["id","user-js-code-console",3,"code-select","contextmenu",4,"ngIf"],["cdkDrag","","cdkDropList","","cdkDropListOrientation","vertical","id","current-code-list","cdkDragBoundary","#code-boundary",3,"cdkDropListData","cdkDropListDropped","contextmenu"],["yourCode","cdkDropList"],["cdkDrag","","cdkDragDisabled","","class","code-block-used",3,"executable-block","end-code-block","code-select","conditional-code-block","left",4,"ngFor","ngForOf"],["id","bottom-left-content",4,"ngIf"],["id","right-content"],["id","map",3,"testMode","programData","run","unitCodeChange","saveFormationsAndCode","giveGridData","updateProgramData","unitClickEvent","saveStateEvent","gridDataEvent"],["id","options"],["mat-raised-button","","color","primary","id","export",3,"click"],["mat-raised-button","","id","run",3,"click"],["mat-raised-button","","id","upload",3,"click",4,"ngIf"],["mat-raised-button","","id","help",3,"click"],["mat-raised-button","","id","switch",3,"click"],["id","actual-code",3,"height",4,"ngIf"],[1,"tab","tab-not-selected",3,"click"],["id","user-js-code-console",3,"contextmenu"],["id","user-js-code"],["cdkDrag","","cdkDragDisabled","",1,"code-block-used"],["class","conditional-options-wrapper",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],[1,"conditional-options-wrapper"],["class","conditional-options",4,"ngFor","ngForOf"],["mat-raised-button","",1,"add-condition",3,"click"],[1,"conditional-options"],["class","further-conditions",4,"ngIf"],[1,"condition-label"],["appearance","fill",4,"ngIf"],["name","negate",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"further-conditions"],["mat-button","",3,"click"],[1,"and-or",3,"change"],["value","&",3,"checked"],["value","|",3,"checked"],["appearance","fill"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","negate",3,"ngModel","ngModelChange","change"],["mat-button","","color","primary",3,"click"],["id","bottom-left-content"],["id","lower-tabs",1,"tabs"],["class","tab",3,"tab-not-selected","tab-selected","click",4,"ngFor","ngForOf"],["id","card-list-boundary"],["cdkDropList","","cdkDropListOrientation","horizontal","id","card-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["cdkDrag","","class","code-block-unused",4,"ngFor","ngForOf"],[1,"tab",3,"click"],["cdkDrag","",1,"code-block-unused"],["mat-raised-button","","id","upload",3,"click"],["id","file","type","file","hidden","","accept",".js",3,"change"],["id","actual-code"],[1,"code"],["class","code",3,"left",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.tc(4,lR,3,5,"div",4),i.Tb(),i.Ub(5,"div",5),i.tc(6,hR,4,3,"div",6),i.Ub(7,"div",7,8),i.bc("cdkDropListDropped",function(t){return e.onDrop(t)})("contextmenu",function(t){return e.onSelectBlockCode(t)}),i.tc(9,yR,4,13,"mat-card",9),i.Tb(),i.Tb(),i.Tb(),i.tc(10,TR,6,4,"div",10),i.Tb(),i.Ub(11,"div",11),i.Ub(12,"app-level",12),i.bc("unitClickEvent",function(t){return e.addCodeToUnit(t)})("saveStateEvent",function(t){return e.saveState(t)})("gridDataEvent",function(t){return e.saveProgramData(t)}),i.Tb(),i.Ub(13,"div",13),i.Ub(14,"button",14),i.bc("click",function(){return e.exportCode()}),i.uc(15," save "),i.Tb(),i.Ub(16,"button",15),i.bc("click",function(){return e.runOrResetTest()}),i.uc(17),i.Tb(),i.tc(18,SR,3,0,"button",16),i.Ub(19,"button",17),i.bc("click",function(){return e.goToHelpPage()}),i.uc(20," help "),i.Tb(),i.Ub(21,"button",18),i.bc("click",function(){return e.switchEditorMode()}),i.uc(22),i.Tb(),i.Tb(),i.tc(23,CR,4,3,"div",19),i.Tb(),i.Tb()),2&t&&(i.Db(2),i.qc("height",e.javascriptMode?"90%":"60%"),i.Db(1),i.qc("height",e.javascriptMode?"5%":"7%"),i.Db(1),i.ic("ngForOf",e.codeTabs),i.Db(1),i.qc("scrollbar-width",e.javascriptMode?"none":""),i.Db(1),i.ic("ngIf",e.javascriptMode),i.Db(1),i.Gb("cdk-visually-hidden",e.javascriptMode),i.ic("cdkDropListData",e.currentCode),i.Db(2),i.ic("ngForOf",e.currentCode),i.Db(1),i.ic("ngIf",!e.javascriptMode),i.Db(2),i.ic("testMode",!0)("programData",e.programData)("run",e.run)("unitCodeChange",e.unitCodeChange)("saveFormationsAndCode",e.saveFormationsAndCode)("giveGridData",e.giveGridData)("updateProgramData",e.updateProgramData),i.Db(4),i.Gb("run-test",!e.gameRun)("test-running",e.gameRun),i.Db(1),i.wc(" ",e.gameRun?"reset":"run"," "),i.Db(1),i.ic("ngIf",e.javascriptMode),i.Db(4),i.wc(" ",e.javascriptMode?"go to blocks":"go to js"," "),i.Db(1),i.ic("ngIf",!e.javascriptMode))},directives:[A,D,vo,go,nD,cD,dD,Xd,SD,OD,If,vf,$D,Wh,aR,op,Yp],styles:["#content-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}#left-content[_ngcontent-%COMP%]{margin-top:50px;flex-basis:80%;flex-grow:4;height:100%}#bottom-left-content[_ngcontent-%COMP%]{height:30%;margin-top:10px}#top-left-content[_ngcontent-%COMP%]{width:100%}#code-boundary[_ngcontent-%COMP%]{background-color:#3a506b;width:95%;height:93%;max-width:900px;border-radius:2px;margin:0 auto;overflow-y:scroll;overflow-x:auto;box-shadow:2px 2px #000}#code-boundary[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}#card-list-boundary[_ngcontent-%COMP%]{background-color:#3a506b;width:95%;height:90%;border-radius:2px;margin:0 auto;box-shadow:2px 2px #000}#right-content[_ngcontent-%COMP%]{margin-top:50px;flex-basis:20%;flex-grow:1}.code-block-unused[_ngcontent-%COMP%]{color:#2cdd3e;font-family:codefont;flex-grow:1;flex-shrink:1;flex-basis:10%;margin-left:2px}.end-code-block[_ngcontent-%COMP%]{background-color:#10c6f9}.conditional-code-block[_ngcontent-%COMP%]{background-color:#7a3db8}.executable-block[_ngcontent-%COMP%]{background-color:#edf67d}.code-block-used[_ngcontent-%COMP%]{color:#000;font-family:codefont;width:250px;position:relative;margin:auto}#card-list[_ngcontent-%COMP%]{position:relative;top:25%;flex-wrap:wrap}#card-list[_ngcontent-%COMP%], .tabs[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:row;margin:0 auto}.tabs[_ngcontent-%COMP%]{height:20%}#top-left-content[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{height:7%}.tab[_ngcontent-%COMP%]{text-align:center;color:#2cdd3e;margin-right:5px;flex-basis:10%;border-radius:2px;height:100%}.tab-not-selected[_ngcontent-%COMP%]{background-color:#1c2541}.tab-selected[_ngcontent-%COMP%]{background-color:#3a506b}.tab[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:codefont;font-size:12px}#lower-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;top:5px}#current-code-list[_ngcontent-%COMP%]{width:75%;margin:auto;text-align:center}#options[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}#options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:codefont;font-size:15px;margin-right:5px;flex-basis:10%;flex-grow:1;text-align:center;margin-bottom:5px;padding:2px}#switch[_ngcontent-%COMP%]{background-color:#3a506b}#export[_ngcontent-%COMP%]{background-color:#10c6f9}#upload[_ngcontent-%COMP%]{background-color:#7a3db8}#help[_ngcontent-%COMP%]{background-color:orange}.run-test[_ngcontent-%COMP%]{background-color:#2cdd3e;color:#038c1f}.test-running[_ngcontent-%COMP%]{background-color:red;color:#a4000f}#actual-code[_ngcontent-%COMP%]{background-color:#000;width:600px;height:200px;font-size:13px;overflow-y:scroll}.code[_ngcontent-%COMP%]{color:#2cdd3e;position:relative;margin-bottom:0;font-family:codefont}.and-or[_ngcontent-%COMP%]{display:inline-block;margin-top:5px;margin-bottom:20px}.and-or[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{padding:5px}.conditional-options[_ngcontent-%COMP%]{padding-bottom:5px;border-bottom:1px solid #1c2541}.add-condition[_ngcontent-%COMP%]{margin-top:10px}.condition-label[_ngcontent-%COMP%]{display:block}.further-conditions[_ngcontent-%COMP%]{position:relative;right:40px}.code-select[_ngcontent-%COMP%]{border:1px solid #fff}#map[_ngcontent-%COMP%]{overflow:scroll}#user-js-code-console[_ngcontent-%COMP%]{background-color:#000;font-size:13px;overflow-y:scroll;overflow-x:auto;width:90%;height:90%;margin:25px auto;position:relative}#user-js-code[_ngcontent-%COMP%]{font-family:codefont;color:#2cdd3e}"]}),t})(),kR=(()=>{class t{constructor(t){this.authyService=t,this.routeToAfterLogin="/profile",this.authyService.checkSigninStatus()&&this.authyService.router.navigate([this.routeToAfterLogin])}loginUser(){this.authyService.AuthLogin(this.routeToAfterLogin)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(BP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-signin-page"]],decls:6,vars:0,consts:[["id","background"],["id","centerElement"],["id","buttonSign","type","image","src","assets/google/auth/btn_google_signin_light_normal_web@2x.png",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"h1"),i.uc(3,"Start Learning today with Scripting Siege"),i.Tb(),i.Pb(4,"hr"),i.Ub(5,"input",2),i.bc("click",function(){return e.loginUser()}),i.Tb(),i.Tb(),i.Tb())},styles:["#background[_ngcontent-%COMP%]{height:100%;overflow:auto}#centerElement[_ngcontent-%COMP%]{background-color:#1c2541;margin:5% auto auto;width:25%;height:50%}h1[_ngcontent-%COMP%]{margin-top:20px;display:inline-block;text-align:center;font-family:Roboto;width:100%}h1[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{color:#fff}#buttonSign[_ngcontent-%COMP%]{display:block;margin:20% auto auto;width:200px}"]}),t})();function OR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"li",12),i.bc("click",function(){i.nc(t);const n=e.index;return i.fc(2).changeSelected(n)}),i.uc(1),i.Tb()}if(2&t){const t=e.$implicit;i.Db(1),i.vc(t.Name)}}function IR(t,e){if(1&t&&(i.Ub(0,"ul"),i.tc(1,OR,2,1,"li",11),i.Tb()),2&t){const t=i.fc();i.Db(1),i.ic("ngForOf",t.codes)}}function AR(t,e){1&t&&(i.Ub(0,"div"),i.Ub(1,"li",13),i.uc(2,"No Programs Avaliable"),i.Tb(),i.Tb())}let PR=(()=>{class t{constructor(t,e,n){this.Auth=t,this.router=e,this.db=n,this.username="User",this.levelStatus="Level: 9000+",this.profileDescription="I am a user",this.codes=[],this.selected=-1;var i=this;t.checkSigninStatus()?n.getUserData(t.getUser().uid,function(e){var r;null==e?((r=new Zo).CompletedLevels=[],r.Description="I am a user",r.Level=1,r.Programs=[],r.Username=t.getUser().authDisplayName,i.db.setUserData(t.getUser().uid,r).catch(t=>{console.log("database write failed due to "+t)})):r=e,i.username=r.Username,i.levelStatus="Level: "+r.Level.toString(),i.profileDescription=r.Description;for(var s=0;s<r.Programs.length;s++)n.getProgramData(r.Programs[s].toString(),function(t){i.codes.push(t)})}):e.navigate(["/signin"])}changeSelected(t){this.selected=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(BP),i.Ob(er),i.Ob(VP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-profilepages"]],decls:19,vars:5,consts:[["id","backgrounddiv"],[1,"row"],[1,"SideCol"],["id","DescriptionBox"],["src","./assets/stockimages/pexels-mood-valley-4399983.jpg","alt","avatar",1,"avatar"],[1,"verticalRow"],[1,"verticalRowElement"],["id","ProgramLabel"],["id","CodeArea"],["id","CodeSelection"],[4,"ngIf"],["mat-button","","class","ProgramButton",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"ProgramButton",3,"click"],["mat-button","",1,"ProgramButton"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"section",1),i.Ub(2,"section",2),i.Ub(3,"h1"),i.uc(4),i.Tb(),i.Ub(5,"h2"),i.uc(6),i.Tb(),i.Ub(7,"div",3),i.uc(8),i.Tb(),i.Tb(),i.Ub(9,"section",2),i.Pb(10,"img",4),i.Tb(),i.Tb(),i.Ub(11,"section",5),i.Ub(12,"section",6),i.Ub(13,"h1",7),i.uc(14,"Programs"),i.Tb(),i.Ub(15,"div",8),i.Ub(16,"div",9),i.tc(17,IR,2,1,"ul",10),i.tc(18,AR,3,0,"div",10),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Db(4),i.vc(e.username),i.Db(2),i.vc(e.levelStatus),i.Db(2),i.vc(e.profileDescription),i.Db(9),i.ic("ngIf",e.codes.length>0),i.Db(1),i.ic("ngIf",0==e.codes.length))},directives:[D,A],styles:["#backgrounddiv[_ngcontent-%COMP%]{background-color:#0b132b;margin-top:0;overflow:auto}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:500}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2cdd3e;font-family:Roboto}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:300}.row[_ngcontent-%COMP%]{width:80%;display:flex}.row[_ngcontent-%COMP%], .verticalRow[_ngcontent-%COMP%]{margin:100px auto 50px}.verticalRow[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;width:80%}.SideCol[_ngcontent-%COMP%]{margin:auto;display:inline-block;padding-left:25px;padding-right:25px}.verticalRowElement[_ngcontent-%COMP%]{display:block;margin:0 auto;width:-webkit-max-content;width:max-content}.avatar[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%}#DescriptionBox[_ngcontent-%COMP%]{background-color:#1c2541;height:200px;width:400px;padding:20px 40px;color:#2cdd3e;font-size:18px;font-family:Roboto}#CodeArea[_ngcontent-%COMP%]{background-color:#1c2541;height:500px;width:940px;padding:30px;overflow-x:auto;overflow-y:auto}#DisplayArea[_ngcontent-%COMP%]{background-color:#3a506b;width:100%;height:100%}#CodeSelection[_ngcontent-%COMP%]{float:left}h3[_ngcontent-%COMP%]{text-align:center;color:#10c6f9;font-size:20px;font-family:Roboto}#RightArea[_ngcontent-%COMP%]{width:810px;height:460px;float:left}.ProgramButton[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Roboto;margin-bottom:10px}"]}),t})(),DR=(()=>{class t{constructor(t,e,n){this.viewPortScroller=t,this.router=e,this.auth=n}ngOnInit(){this.auth.checkSigninStatus()||this.router.navigate([""])}scrollToSection(t){this.viewPortScroller.scrollToAnchor(t)}goToJavascriptGuide(){this.router.navigate(["learn-js"]),window.scroll(0,0)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(B),i.Ob(er),i.Ob(BP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-docs"]],decls:1789,vars:11,consts:[["id","main-header"],["id","title"],["id","main-content"],["id","book-marks"],[3,"click"],["id","docs-content"],["id","getting-started-with-coding-a-scripting-siege-unit"],[1,"link",3,"click"],["id","how-this-works"],[1,"lang-javascript"],[1,"hljs-title"],[1,"hljs-class"],[1,"hljs-keyword"],[1,"hljs-type"],["href","https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#web_workers_api",1,"link"],["id","receiving-and-sending-messages",1,"page-ref"],[1,"hljs-function"],[1,"hljs-params"],[1,"hljs-string"],["id","reading-message-data",1,"page-ref"],[1,"lang-json"],[1,"hljs-attr"],[1,"hljs-literal"],[1,"hljs-number"],[1,"hljs-attribute"],[1,"hljs-built_in"],["id","sending-back-a-response",1,"page-ref"],[1,"hljs-selector-tag"],[1,"hljs-selector-class"],["id","conclusion",1,"page-ref"],["href","https://github.com/john-amiscaray/Scripting-Siege-API-Docs-With-A-Usable-Example",1,"link"]],template:function(t,e){if(1&t){i.Ub(0,"header",0),i.Ub(1,"h1",1),i.uc(2,"Documentation"),i.Tb(),i.Tb(),i.Ub(3,"div",2),i.Ub(4,"div",3),i.Ub(5,"a",4),i.bc("click",function(){return e.scrollToSection("receiving-and-sending-messages")}),i.Ub(6,"h3"),i.uc(7,"Receiving And Sending messages"),i.Tb(),i.Tb(),i.Ub(8,"a",4),i.bc("click",function(){return e.scrollToSection("reading-message-data")}),i.Ub(9,"h3"),i.uc(10,"Reading Message Data"),i.Tb(),i.Tb(),i.Ub(11,"a",4),i.bc("click",function(){return e.scrollToSection("sending-back-a-response")}),i.Ub(12,"h3"),i.uc(13,"Sending Back A Response"),i.Tb(),i.Tb(),i.Ub(14,"a",4),i.bc("click",function(){return e.scrollToSection("conclusion")}),i.Ub(15,"h3"),i.uc(16,"Conclusion"),i.Tb(),i.Tb(),i.Tb(),i.Ub(17,"div",5),i.Ub(18,"h1",6),i.uc(19,"Getting Started With Coding a Scripting Siege Unit"),i.Tb(),i.Ub(20,"p"),i.uc(21,"This guide will teach you how to get started writing real code to use for your scripting siege units. By the end of this guide, you will be able to learn and practice Javascript by just playing a video game! Although if you don't know the basics of Javascript, first have a look at our "),i.Ub(22,"a",7),i.bc("click",function(){return e.goToJavascriptGuide()}),i.uc(23,"free guide."),i.Tb(),i.Tb(),i.Ub(24,"h2",8),i.uc(25,"How this works"),i.Tb(),i.Ub(26,"p"),i.uc(27,"Every turn, the game will send a message with specific data about everything on the grid and the unit whose turn started. This data is in the form of a JSON payload. All it is is some text representing the data in a specific format, specifically in the form of a Javascript object. For you to read this data, (or at least in a non-infuriating way) you need to first convert it to a real Javascript object and not a text representation of it. Fortunately, it\u2019s as easy as a single line of code:"),i.Tb(),i.Ub(28,"pre"),i.Ub(29,"code",9),i.Ub(30,"span",10),i.uc(31,"let"),i.Tb(),i.uc(32," "),i.Ub(33,"span",11),i.Ub(34,"span",12),i.uc(35,"data"),i.Tb(),i.uc(36," = "),i.Ub(37,"span",13),i.uc(38,"JSON"),i.Tb(),i.uc(39,".parse('"),i.Ub(40,"span",13),i.uc(41,"JSON"),i.Tb(),i.uc(42," "),i.Ub(43,"span",10),i.uc(44,"goes"),i.Tb(),i.uc(45," "),i.Ub(46,"span",10),i.uc(47,"here'"),i.Tb(),i.uc(48,");"),i.Tb(),i.uc(49,"\n"),i.Tb(),i.Tb(),i.Ub(50,"p"),i.uc(51,"With this data, you can analyze it to make the best decision possible for your unit. Once you\u2019ve figured out what you want to do, you will send a message back to the unit telling it what you want them to do. But, if the game does not recognize what move your code is telling it to perform, then your unit will just wait around confused about what you told them. The same is true if you tell it to perform an action that is not possible like attacking when nothing is in range. As well, you need to make sure you are sending one message at a time. If you try to cheat the system and send multiple messages for one turn the game will only accept the first one. Also, if your code takes too long to return an action then your unit will just wait. In the heat of the battle, your unit can't wait for you forever! As a last note for the more knowledgeable or curious among you, the code you will be writing is for the game to create a "),i.Ub(52,"a",14),i.uc(53,"Web Worker"),i.Tb(),i.uc(54,". Although you don\u2019t have to necessarily understand Web Workers to write your own code for this game."),i.Tb(),i.Ub(55,"a",15),i.Ub(56,"h2"),i.uc(57,"Receiving and Sending messages"),i.Tb(),i.Tb(),i.Ub(58,"p"),i.uc(59,"In your code, you need to provide a function (a collection of related code) to perform whenever you receive a message. Within the function, you would post a message back to the server using the "),i.Ub(60,"code"),i.uc(61,"postMessage"),i.Tb(),i.uc(62," function with text representing the action. For example, you use a code file that looks something like this:"),i.Tb(),i.Ub(63,"pre"),i.Ub(64,"code",9),i.Ub(65,"span",12),i.uc(66,"this"),i.Tb(),i.uc(67,".onmessage = "),i.Ub(68,"span",16),i.Ub(69,"span",12),i.uc(70,"function"),i.Tb(),i.uc(71," "),i.Ub(72,"span",17),i.uc(73,"(turnEvent)"),i.Tb(),i.Tb(),i.uc(74),i.Ub(75,"span",12),i.uc(76,"this"),i.Tb(),i.uc(77),i.Ub(78,"span",18),i.uc(79,"'East'"),i.Tb(),i.uc(80,"});\n\n}\n"),i.Tb(),i.Tb(),i.Ub(81,"p"),i.uc(82,"Here, whenever we get a message indicating it\u2019s our unit\u2019s turn, we just tell it to go forward."),i.Tb(),i.Ub(83,"a",19),i.Ub(84,"h2"),i.uc(85,"Reading Message Data"),i.Tb(),i.Tb(),i.Ub(86,"p"),i.uc(87,"In the code example above, you will notice in our function there is something called "),i.Ub(88,"code"),i.uc(89,"turnEvent"),i.Tb(),i.uc(90," in brackets. This indicates that our function will take the game data as an object called "),i.Ub(91,"code"),i.uc(92,"turnEvent"),i.Tb(),i.uc(93,". Within the "),i.Ub(94,"code"),i.uc(95,"turnEvent"),i.Tb(),i.uc(96," object is the data the game gives you about the state of the game. Recall that the data sent is in the form of JSON and we need to first convert it to a Javascript object to more easily read it. We would so like this:"),i.Tb(),i.Ub(97,"pre"),i.Ub(98,"code",9),i.uc(99,"\n"),i.Ub(100,"span",10),i.uc(101,"let"),i.Tb(),i.uc(102," "),i.Ub(103,"span",11),i.Ub(104,"span",12),i.uc(105,"data"),i.Tb(),i.uc(106," = "),i.Ub(107,"span",13),i.uc(108,"JSON"),i.Tb(),i.uc(109,".parse("),i.Ub(110,"span",10),i.uc(111,"turnEvent"),i.Tb(),i.uc(112,"."),i.Ub(113,"span",10),i.uc(114,"data"),i.Tb(),i.uc(115,");"),i.Tb(),i.uc(116,"\n"),i.Tb(),i.Tb(),i.Ub(117,"p"),i.uc(118,"For you to understand the data you will receive, let's have a look at the format of the data so we can discuss its significance:"),i.Tb(),i.Ub(119,"pre"),i.Ub(120,"code",20),i.uc(121),i.Ub(122,"span",21),i.uc(123,'"grid"'),i.Tb(),i.uc(124,": [\n    ["),i.Ub(125,"span",22),i.uc(126,"null"),i.Tb(),i.uc(127,","),i.Ub(128,"span",22),i.uc(129,"null"),i.Tb(),i.uc(130,","),i.Ub(131,"span",22),i.uc(132,"null"),i.Tb(),i.uc(133,","),i.Ub(134,"span",22),i.uc(135,"null"),i.Tb(),i.uc(136,","),i.Ub(137,"span",22),i.uc(138,"null"),i.Tb(),i.uc(139,","),i.Ub(140,"span",22),i.uc(141,"null"),i.Tb(),i.uc(142,","),i.Ub(143,"span",22),i.uc(144,"null"),i.Tb(),i.uc(145,","),i.Ub(146,"span",22),i.uc(147,"null"),i.Tb(),i.uc(148,","),i.Ub(149,"span",22),i.uc(150,"null"),i.Tb(),i.uc(151,","),i.Ub(152,"span",22),i.uc(153,"null"),i.Tb(),i.uc(154,","),i.Ub(155,"span",22),i.uc(156,"null"),i.Tb(),i.uc(157,","),i.Ub(158,"span",22),i.uc(159,"null"),i.Tb(),i.uc(160,","),i.Ub(161,"span",22),i.uc(162,"null"),i.Tb(),i.uc(163,","),i.Ub(164,"span",22),i.uc(165,"null"),i.Tb(),i.uc(166,","),i.Ub(167,"span",22),i.uc(168,"null"),i.Tb(),i.uc(169,","),i.Ub(170,"span",22),i.uc(171,"null"),i.Tb(),i.uc(172,","),i.Ub(173,"span",22),i.uc(174,"null"),i.Tb(),i.uc(175,","),i.Ub(176,"span",22),i.uc(177,"null"),i.Tb(),i.uc(178,","),i.Ub(179,"span",22),i.uc(180,"null"),i.Tb(),i.uc(181,","),i.Ub(182,"span",22),i.uc(183,"null"),i.Tb(),i.uc(184,"],\n    ["),i.Ub(185,"span",22),i.uc(186,"null"),i.Tb(),i.uc(187,","),i.Ub(188,"span",22),i.uc(189,"null"),i.Tb(),i.uc(190,","),i.Ub(191,"span",22),i.uc(192,"null"),i.Tb(),i.uc(193,","),i.Ub(194,"span",22),i.uc(195,"null"),i.Tb(),i.uc(196,","),i.Ub(197,"span",22),i.uc(198,"null"),i.Tb(),i.uc(199,","),i.Ub(200,"span",22),i.uc(201,"null"),i.Tb(),i.uc(202,","),i.Ub(203,"span",22),i.uc(204,"null"),i.Tb(),i.uc(205,","),i.Ub(206,"span",22),i.uc(207,"null"),i.Tb(),i.uc(208,","),i.Ub(209,"span",22),i.uc(210,"null"),i.Tb(),i.uc(211,","),i.Ub(212,"span",22),i.uc(213,"null"),i.Tb(),i.uc(214,","),i.Ub(215,"span",22),i.uc(216,"null"),i.Tb(),i.uc(217,","),i.Ub(218,"span",22),i.uc(219,"null"),i.Tb(),i.uc(220,","),i.Ub(221,"span",22),i.uc(222,"null"),i.Tb(),i.uc(223,","),i.Ub(224,"span",22),i.uc(225,"null"),i.Tb(),i.uc(226,","),i.Ub(227,"span",22),i.uc(228,"null"),i.Tb(),i.uc(229,","),i.Ub(230,"span",22),i.uc(231,"null"),i.Tb(),i.uc(232,","),i.Ub(233,"span",22),i.uc(234,"null"),i.Tb(),i.uc(235,","),i.Ub(236,"span",22),i.uc(237,"null"),i.Tb(),i.uc(238,","),i.Ub(239,"span",22),i.uc(240,"null"),i.Tb(),i.uc(241,","),i.Ub(242,"span",22),i.uc(243,"null"),i.Tb(),i.uc(244,"],\n    ["),i.Ub(245,"span",22),i.uc(246,"null"),i.Tb(),i.uc(247,","),i.Ub(248,"span",22),i.uc(249,"null"),i.Tb(),i.uc(250,","),i.Ub(251,"span",22),i.uc(252,"null"),i.Tb(),i.uc(253,","),i.Ub(254,"span",22),i.uc(255,"null"),i.Tb(),i.uc(256,","),i.Ub(257,"span",22),i.uc(258,"null"),i.Tb(),i.uc(259),i.Ub(260,"span",21),i.uc(261,'"id"'),i.Tb(),i.uc(262,": "),i.Ub(263,"span",23),i.uc(264,"0"),i.Tb(),i.uc(265,",\n        "),i.Ub(266,"span",21),i.uc(267,'"team"'),i.Tb(),i.uc(268,": "),i.Ub(269,"span",23),i.uc(270,"2"),i.Tb(),i.uc(271,",\n        "),i.Ub(272,"span",21),i.uc(273,'"location"'),i.Tb(),i.uc(274),i.Ub(275,"span",21),i.uc(276,'"x"'),i.Tb(),i.uc(277,": "),i.Ub(278,"span",23),i.uc(279,"2"),i.Tb(),i.uc(280,",\n            "),i.Ub(281,"span",21),i.uc(282,'"y"'),i.Tb(),i.uc(283,": "),i.Ub(284,"span",23),i.uc(285,"5"),i.Tb(),i.uc(286,"\n           },\n        "),i.Ub(287,"span",21),i.uc(288,'"maxHealth"'),i.Tb(),i.uc(289,": "),i.Ub(290,"span",23),i.uc(291,"100"),i.Tb(),i.uc(292,",\n        "),i.Ub(293,"span",21),i.uc(294,'"health"'),i.Tb(),i.uc(295,": "),i.Ub(296,"span",23),i.uc(297,"100"),i.Tb(),i.uc(298,",\n        "),i.Ub(299,"span",21),i.uc(300,'"defense"'),i.Tb(),i.uc(301,": "),i.Ub(302,"span",23),i.uc(303,"10"),i.Tb(),i.uc(304,",\n        "),i.Ub(305,"span",21),i.uc(306,'"strength"'),i.Tb(),i.uc(307,": "),i.Ub(308,"span",23),i.uc(309,"15"),i.Tb(),i.uc(310,",\n        "),i.Ub(311,"span",21),i.uc(312,'"attackRange"'),i.Tb(),i.uc(313,": "),i.Ub(314,"span",23),i.uc(315,"4"),i.Tb(),i.uc(316,"\n      },\n      "),i.Ub(317,"span",22),i.uc(318,"null"),i.Tb(),i.uc(319,","),i.Ub(320,"span",22),i.uc(321,"null"),i.Tb(),i.uc(322,","),i.Ub(323,"span",22),i.uc(324,"null"),i.Tb(),i.uc(325,","),i.Ub(326,"span",22),i.uc(327,"null"),i.Tb(),i.uc(328,","),i.Ub(329,"span",22),i.uc(330,"null"),i.Tb(),i.uc(331,","),i.Ub(332,"span",22),i.uc(333,"null"),i.Tb(),i.uc(334),i.Ub(335,"span",21),i.uc(336,'"id"'),i.Tb(),i.uc(337,": "),i.Ub(338,"span",23),i.uc(339,"1"),i.Tb(),i.uc(340,",\n        "),i.Ub(341,"span",21),i.uc(342,'"team"'),i.Tb(),i.uc(343,": "),i.Ub(344,"span",23),i.uc(345,"1"),i.Tb(),i.uc(346,",\n        "),i.Ub(347,"span",21),i.uc(348,'"location"'),i.Tb(),i.uc(349),i.Ub(350,"span",21),i.uc(351,'"x"'),i.Tb(),i.uc(352,": "),i.Ub(353,"span",23),i.uc(354,"12"),i.Tb(),i.uc(355,",\n            "),i.Ub(356,"span",21),i.uc(357,'"y"'),i.Tb(),i.uc(358,": "),i.Ub(359,"span",23),i.uc(360,"5"),i.Tb(),i.uc(361,"\n          },\n        "),i.Ub(362,"span",21),i.uc(363,'"maxHealth"'),i.Tb(),i.uc(364,": "),i.Ub(365,"span",23),i.uc(366,"100"),i.Tb(),i.uc(367,",\n        "),i.Ub(368,"span",21),i.uc(369,'"health"'),i.Tb(),i.uc(370,": "),i.Ub(371,"span",23),i.uc(372,"100"),i.Tb(),i.uc(373,","),i.Ub(374,"span",21),i.uc(375,'"defense"'),i.Tb(),i.uc(376,": "),i.Ub(377,"span",23),i.uc(378,"10"),i.Tb(),i.uc(379,",\n        "),i.Ub(380,"span",21),i.uc(381,'"strength"'),i.Tb(),i.uc(382,": "),i.Ub(383,"span",23),i.uc(384,"15"),i.Tb(),i.uc(385,","),i.Ub(386,"span",21),i.uc(387,'"attackRange"'),i.Tb(),i.uc(388,": "),i.Ub(389,"span",23),i.uc(390,"4"),i.Tb(),i.uc(391,"\n      },\n      "),i.Ub(392,"span",22),i.uc(393,"null"),i.Tb(),i.uc(394,","),i.Ub(395,"span",22),i.uc(396,"null"),i.Tb(),i.uc(397,","),i.Ub(398,"span",22),i.uc(399,"null"),i.Tb(),i.uc(400,","),i.Ub(401,"span",22),i.uc(402,"null"),i.Tb(),i.uc(403,","),i.Ub(404,"span",22),i.uc(405,"null"),i.Tb(),i.uc(406,","),i.Ub(407,"span",22),i.uc(408,"null"),i.Tb(),i.uc(409,","),i.Ub(410,"span",22),i.uc(411,"null"),i.Tb(),i.uc(412,"],\n    ["),i.Ub(413,"span",22),i.uc(414,"null"),i.Tb(),i.uc(415,","),i.Ub(416,"span",22),i.uc(417,"null"),i.Tb(),i.uc(418,","),i.Ub(419,"span",22),i.uc(420,"null"),i.Tb(),i.uc(421,","),i.Ub(422,"span",22),i.uc(423,"null"),i.Tb(),i.uc(424,","),i.Ub(425,"span",22),i.uc(426,"null"),i.Tb(),i.uc(427,","),i.Ub(428,"span",22),i.uc(429,"null"),i.Tb(),i.uc(430,","),i.Ub(431,"span",22),i.uc(432,"null"),i.Tb(),i.uc(433,","),i.Ub(434,"span",22),i.uc(435,"null"),i.Tb(),i.uc(436,","),i.Ub(437,"span",22),i.uc(438,"null"),i.Tb(),i.uc(439,","),i.Ub(440,"span",22),i.uc(441,"null"),i.Tb(),i.uc(442,","),i.Ub(443,"span",22),i.uc(444,"null"),i.Tb(),i.uc(445,","),i.Ub(446,"span",22),i.uc(447,"null"),i.Tb(),i.uc(448,","),i.Ub(449,"span",22),i.uc(450,"null"),i.Tb(),i.uc(451,","),i.Ub(452,"span",22),i.uc(453,"null"),i.Tb(),i.uc(454,","),i.Ub(455,"span",22),i.uc(456,"null"),i.Tb(),i.uc(457,","),i.Ub(458,"span",22),i.uc(459,"null"),i.Tb(),i.uc(460,","),i.Ub(461,"span",22),i.uc(462,"null"),i.Tb(),i.uc(463,","),i.Ub(464,"span",22),i.uc(465,"null"),i.Tb(),i.uc(466,","),i.Ub(467,"span",22),i.uc(468,"null"),i.Tb(),i.uc(469,","),i.Ub(470,"span",22),i.uc(471,"null"),i.Tb(),i.uc(472,"],\n    ["),i.Ub(473,"span",22),i.uc(474,"null"),i.Tb(),i.uc(475,","),i.Ub(476,"span",22),i.uc(477,"null"),i.Tb(),i.uc(478,","),i.Ub(479,"span",22),i.uc(480,"null"),i.Tb(),i.uc(481,","),i.Ub(482,"span",22),i.uc(483,"null"),i.Tb(),i.uc(484,","),i.Ub(485,"span",22),i.uc(486,"null"),i.Tb(),i.uc(487,","),i.Ub(488,"span",22),i.uc(489,"null"),i.Tb(),i.uc(490,","),i.Ub(491,"span",22),i.uc(492,"null"),i.Tb(),i.uc(493,","),i.Ub(494,"span",22),i.uc(495,"null"),i.Tb(),i.uc(496,","),i.Ub(497,"span",22),i.uc(498,"null"),i.Tb(),i.uc(499,","),i.Ub(500,"span",22),i.uc(501,"null"),i.Tb(),i.uc(502,","),i.Ub(503,"span",22),i.uc(504,"null"),i.Tb(),i.uc(505,","),i.Ub(506,"span",22),i.uc(507,"null"),i.Tb(),i.uc(508,","),i.Ub(509,"span",22),i.uc(510,"null"),i.Tb(),i.uc(511,","),i.Ub(512,"span",22),i.uc(513,"null"),i.Tb(),i.uc(514,","),i.Ub(515,"span",22),i.uc(516,"null"),i.Tb(),i.uc(517,","),i.Ub(518,"span",22),i.uc(519,"null"),i.Tb(),i.uc(520,","),i.Ub(521,"span",22),i.uc(522,"null"),i.Tb(),i.uc(523,","),i.Ub(524,"span",22),i.uc(525,"null"),i.Tb(),i.uc(526,","),i.Ub(527,"span",22),i.uc(528,"null"),i.Tb(),i.uc(529,","),i.Ub(530,"span",22),i.uc(531,"null"),i.Tb(),i.uc(532,"],\n    ["),i.Ub(533,"span",22),i.uc(534,"null"),i.Tb(),i.uc(535,","),i.Ub(536,"span",22),i.uc(537,"null"),i.Tb(),i.uc(538,","),i.Ub(539,"span",22),i.uc(540,"null"),i.Tb(),i.uc(541,","),i.Ub(542,"span",22),i.uc(543,"null"),i.Tb(),i.uc(544,","),i.Ub(545,"span",22),i.uc(546,"null"),i.Tb(),i.uc(547,","),i.Ub(548,"span",22),i.uc(549,"null"),i.Tb(),i.uc(550,","),i.Ub(551,"span",22),i.uc(552,"null"),i.Tb(),i.uc(553,","),i.Ub(554,"span",22),i.uc(555,"null"),i.Tb(),i.uc(556,","),i.Ub(557,"span",22),i.uc(558,"null"),i.Tb(),i.uc(559,","),i.Ub(560,"span",22),i.uc(561,"null"),i.Tb(),i.uc(562,","),i.Ub(563,"span",22),i.uc(564,"null"),i.Tb(),i.uc(565,","),i.Ub(566,"span",22),i.uc(567,"null"),i.Tb(),i.uc(568,","),i.Ub(569,"span",22),i.uc(570,"null"),i.Tb(),i.uc(571,","),i.Ub(572,"span",22),i.uc(573,"null"),i.Tb(),i.uc(574,","),i.Ub(575,"span",22),i.uc(576,"null"),i.Tb(),i.uc(577,","),i.Ub(578,"span",22),i.uc(579,"null"),i.Tb(),i.uc(580,","),i.Ub(581,"span",22),i.uc(582,"null"),i.Tb(),i.uc(583,","),i.Ub(584,"span",22),i.uc(585,"null");i.Tb(),i.uc(586,","),i.Ub(587,"span",22),i.uc(588,"null"),i.Tb(),i.uc(589,","),i.Ub(590,"span",22),i.uc(591,"null"),i.Tb(),i.uc(592,"],\n    ["),i.Ub(593,"span",22),i.uc(594,"null"),i.Tb(),i.uc(595,","),i.Ub(596,"span",22),i.uc(597,"null"),i.Tb(),i.uc(598,","),i.Ub(599,"span",22),i.uc(600,"null"),i.Tb(),i.uc(601,","),i.Ub(602,"span",22),i.uc(603,"null"),i.Tb(),i.uc(604,","),i.Ub(605,"span",22),i.uc(606,"null"),i.Tb(),i.uc(607,","),i.Ub(608,"span",22),i.uc(609,"null"),i.Tb(),i.uc(610,","),i.Ub(611,"span",22),i.uc(612,"null"),i.Tb(),i.uc(613,","),i.Ub(614,"span",22),i.uc(615,"null"),i.Tb(),i.uc(616,","),i.Ub(617,"span",22),i.uc(618,"null"),i.Tb(),i.uc(619,","),i.Ub(620,"span",22),i.uc(621,"null"),i.Tb(),i.uc(622,","),i.Ub(623,"span",22),i.uc(624,"null"),i.Tb(),i.uc(625,","),i.Ub(626,"span",22),i.uc(627,"null"),i.Tb(),i.uc(628,","),i.Ub(629,"span",22),i.uc(630,"null"),i.Tb(),i.uc(631,","),i.Ub(632,"span",22),i.uc(633,"null"),i.Tb(),i.uc(634,","),i.Ub(635,"span",22),i.uc(636,"null"),i.Tb(),i.uc(637,","),i.Ub(638,"span",22),i.uc(639,"null"),i.Tb(),i.uc(640,","),i.Ub(641,"span",22),i.uc(642,"null"),i.Tb(),i.uc(643,","),i.Ub(644,"span",22),i.uc(645,"null"),i.Tb(),i.uc(646,","),i.Ub(647,"span",22),i.uc(648,"null"),i.Tb(),i.uc(649,","),i.Ub(650,"span",22),i.uc(651,"null"),i.Tb(),i.uc(652,"],\n    ["),i.Ub(653,"span",22),i.uc(654,"null"),i.Tb(),i.uc(655,","),i.Ub(656,"span",22),i.uc(657,"null"),i.Tb(),i.uc(658,","),i.Ub(659,"span",22),i.uc(660,"null"),i.Tb(),i.uc(661,","),i.Ub(662,"span",22),i.uc(663,"null"),i.Tb(),i.uc(664,","),i.Ub(665,"span",22),i.uc(666,"null"),i.Tb(),i.uc(667,","),i.Ub(668,"span",22),i.uc(669,"null"),i.Tb(),i.uc(670,","),i.Ub(671,"span",22),i.uc(672,"null"),i.Tb(),i.uc(673,","),i.Ub(674,"span",22),i.uc(675,"null"),i.Tb(),i.uc(676,","),i.Ub(677,"span",22),i.uc(678,"null"),i.Tb(),i.uc(679,","),i.Ub(680,"span",22),i.uc(681,"null"),i.Tb(),i.uc(682,","),i.Ub(683,"span",22),i.uc(684,"null"),i.Tb(),i.uc(685,","),i.Ub(686,"span",22),i.uc(687,"null"),i.Tb(),i.uc(688,","),i.Ub(689,"span",22),i.uc(690,"null"),i.Tb(),i.uc(691,","),i.Ub(692,"span",22),i.uc(693,"null"),i.Tb(),i.uc(694,","),i.Ub(695,"span",22),i.uc(696,"null"),i.Tb(),i.uc(697,","),i.Ub(698,"span",22),i.uc(699,"null"),i.Tb(),i.uc(700,","),i.Ub(701,"span",22),i.uc(702,"null"),i.Tb(),i.uc(703,","),i.Ub(704,"span",22),i.uc(705,"null"),i.Tb(),i.uc(706,","),i.Ub(707,"span",22),i.uc(708,"null"),i.Tb(),i.uc(709,","),i.Ub(710,"span",22),i.uc(711,"null"),i.Tb(),i.uc(712,"],\n    ["),i.Ub(713,"span",22),i.uc(714,"null"),i.Tb(),i.uc(715,","),i.Ub(716,"span",22),i.uc(717,"null"),i.Tb(),i.uc(718,","),i.Ub(719,"span",22),i.uc(720,"null"),i.Tb(),i.uc(721,","),i.Ub(722,"span",22),i.uc(723,"null"),i.Tb(),i.uc(724,","),i.Ub(725,"span",22),i.uc(726,"null"),i.Tb(),i.uc(727,","),i.Ub(728,"span",22),i.uc(729,"null"),i.Tb(),i.uc(730,","),i.Ub(731,"span",22),i.uc(732,"null"),i.Tb(),i.uc(733,","),i.Ub(734,"span",22),i.uc(735,"null"),i.Tb(),i.uc(736,","),i.Ub(737,"span",22),i.uc(738,"null"),i.Tb(),i.uc(739,","),i.Ub(740,"span",22),i.uc(741,"null"),i.Tb(),i.uc(742,","),i.Ub(743,"span",22),i.uc(744,"null"),i.Tb(),i.uc(745,","),i.Ub(746,"span",22),i.uc(747,"null"),i.Tb(),i.uc(748,","),i.Ub(749,"span",22),i.uc(750,"null"),i.Tb(),i.uc(751,","),i.Ub(752,"span",22),i.uc(753,"null"),i.Tb(),i.uc(754,","),i.Ub(755,"span",22),i.uc(756,"null"),i.Tb(),i.uc(757,","),i.Ub(758,"span",22),i.uc(759,"null"),i.Tb(),i.uc(760,","),i.Ub(761,"span",22),i.uc(762,"null"),i.Tb(),i.uc(763,","),i.Ub(764,"span",22),i.uc(765,"null"),i.Tb(),i.uc(766,","),i.Ub(767,"span",22),i.uc(768,"null"),i.Tb(),i.uc(769,","),i.Ub(770,"span",22),i.uc(771,"null"),i.Tb(),i.uc(772,"],\n    ["),i.Ub(773,"span",22),i.uc(774,"null"),i.Tb(),i.uc(775,","),i.Ub(776,"span",22),i.uc(777,"null"),i.Tb(),i.uc(778,","),i.Ub(779,"span",22),i.uc(780,"null"),i.Tb(),i.uc(781,","),i.Ub(782,"span",22),i.uc(783,"null"),i.Tb(),i.uc(784,","),i.Ub(785,"span",22),i.uc(786,"null"),i.Tb(),i.uc(787,","),i.Ub(788,"span",22),i.uc(789,"null"),i.Tb(),i.uc(790,","),i.Ub(791,"span",22),i.uc(792,"null"),i.Tb(),i.uc(793,","),i.Ub(794,"span",22),i.uc(795,"null"),i.Tb(),i.uc(796,","),i.Ub(797,"span",22),i.uc(798,"null"),i.Tb(),i.uc(799,","),i.Ub(800,"span",22),i.uc(801,"null"),i.Tb(),i.uc(802,","),i.Ub(803,"span",22),i.uc(804,"null"),i.Tb(),i.uc(805,","),i.Ub(806,"span",22),i.uc(807,"null"),i.Tb(),i.uc(808,","),i.Ub(809,"span",22),i.uc(810,"null"),i.Tb(),i.uc(811,","),i.Ub(812,"span",22),i.uc(813,"null"),i.Tb(),i.uc(814,","),i.Ub(815,"span",22),i.uc(816,"null"),i.Tb(),i.uc(817,","),i.Ub(818,"span",22),i.uc(819,"null"),i.Tb(),i.uc(820,","),i.Ub(821,"span",22),i.uc(822,"null"),i.Tb(),i.uc(823,","),i.Ub(824,"span",22),i.uc(825,"null"),i.Tb(),i.uc(826,","),i.Ub(827,"span",22),i.uc(828,"null"),i.Tb(),i.uc(829,","),i.Ub(830,"span",22),i.uc(831,"null"),i.Tb(),i.uc(832,"],\n    ["),i.Ub(833,"span",22),i.uc(834,"null"),i.Tb(),i.uc(835,","),i.Ub(836,"span",22),i.uc(837,"null"),i.Tb(),i.uc(838,","),i.Ub(839,"span",22),i.uc(840,"null"),i.Tb(),i.uc(841,","),i.Ub(842,"span",22),i.uc(843,"null"),i.Tb(),i.uc(844,","),i.Ub(845,"span",22),i.uc(846,"null"),i.Tb(),i.uc(847,","),i.Ub(848,"span",22),i.uc(849,"null"),i.Tb(),i.uc(850,","),i.Ub(851,"span",22),i.uc(852,"null"),i.Tb(),i.uc(853,","),i.Ub(854,"span",22),i.uc(855,"null"),i.Tb(),i.uc(856,","),i.Ub(857,"span",22),i.uc(858,"null"),i.Tb(),i.uc(859,","),i.Ub(860,"span",22),i.uc(861,"null"),i.Tb(),i.uc(862,","),i.Ub(863,"span",22),i.uc(864,"null"),i.Tb(),i.uc(865,","),i.Ub(866,"span",22),i.uc(867,"null"),i.Tb(),i.uc(868,","),i.Ub(869,"span",22),i.uc(870,"null"),i.Tb(),i.uc(871,","),i.Ub(872,"span",22),i.uc(873,"null"),i.Tb(),i.uc(874,","),i.Ub(875,"span",22),i.uc(876,"null"),i.Tb(),i.uc(877,","),i.Ub(878,"span",22),i.uc(879,"null"),i.Tb(),i.uc(880,","),i.Ub(881,"span",22),i.uc(882,"null"),i.Tb(),i.uc(883,","),i.Ub(884,"span",22),i.uc(885,"null"),i.Tb(),i.uc(886,","),i.Ub(887,"span",22),i.uc(888,"null"),i.Tb(),i.uc(889,","),i.Ub(890,"span",22),i.uc(891,"null"),i.Tb(),i.uc(892,"],\n    ["),i.Ub(893,"span",22),i.uc(894,"null"),i.Tb(),i.uc(895,","),i.Ub(896,"span",22),i.uc(897,"null"),i.Tb(),i.uc(898,","),i.Ub(899,"span",22),i.uc(900,"null"),i.Tb(),i.uc(901,","),i.Ub(902,"span",22),i.uc(903,"null"),i.Tb(),i.uc(904,","),i.Ub(905,"span",22),i.uc(906,"null"),i.Tb(),i.uc(907,","),i.Ub(908,"span",22),i.uc(909,"null"),i.Tb(),i.uc(910,","),i.Ub(911,"span",22),i.uc(912,"null"),i.Tb(),i.uc(913,","),i.Ub(914,"span",22),i.uc(915,"null"),i.Tb(),i.uc(916,","),i.Ub(917,"span",22),i.uc(918,"null"),i.Tb(),i.uc(919,","),i.Ub(920,"span",22),i.uc(921,"null"),i.Tb(),i.uc(922,","),i.Ub(923,"span",22),i.uc(924,"null"),i.Tb(),i.uc(925,","),i.Ub(926,"span",22),i.uc(927,"null"),i.Tb(),i.uc(928,","),i.Ub(929,"span",22),i.uc(930,"null"),i.Tb(),i.uc(931,","),i.Ub(932,"span",22),i.uc(933,"null"),i.Tb(),i.uc(934,","),i.Ub(935,"span",22),i.uc(936,"null"),i.Tb(),i.uc(937,","),i.Ub(938,"span",22),i.uc(939,"null"),i.Tb(),i.uc(940,","),i.Ub(941,"span",22),i.uc(942,"null"),i.Tb(),i.uc(943,","),i.Ub(944,"span",22),i.uc(945,"null"),i.Tb(),i.uc(946,","),i.Ub(947,"span",22),i.uc(948,"null"),i.Tb(),i.uc(949,","),i.Ub(950,"span",22),i.uc(951,"null"),i.Tb(),i.uc(952,"],\n    ["),i.Ub(953,"span",22),i.uc(954,"null"),i.Tb(),i.uc(955,","),i.Ub(956,"span",22),i.uc(957,"null"),i.Tb(),i.uc(958,","),i.Ub(959,"span",22),i.uc(960,"null"),i.Tb(),i.uc(961,","),i.Ub(962,"span",22),i.uc(963,"null"),i.Tb(),i.uc(964,","),i.Ub(965,"span",22),i.uc(966,"null"),i.Tb(),i.uc(967,","),i.Ub(968,"span",22),i.uc(969,"null"),i.Tb(),i.uc(970,","),i.Ub(971,"span",22),i.uc(972,"null"),i.Tb(),i.uc(973,","),i.Ub(974,"span",22),i.uc(975,"null"),i.Tb(),i.uc(976,","),i.Ub(977,"span",22),i.uc(978,"null"),i.Tb(),i.uc(979,","),i.Ub(980,"span",22),i.uc(981,"null"),i.Tb(),i.uc(982,","),i.Ub(983,"span",22),i.uc(984,"null"),i.Tb(),i.uc(985,","),i.Ub(986,"span",22),i.uc(987,"null"),i.Tb(),i.uc(988,","),i.Ub(989,"span",22),i.uc(990,"null"),i.Tb(),i.uc(991,","),i.Ub(992,"span",22),i.uc(993,"null"),i.Tb(),i.uc(994,","),i.Ub(995,"span",22),i.uc(996,"null"),i.Tb(),i.uc(997,","),i.Ub(998,"span",22),i.uc(999,"null"),i.Tb(),i.uc(1e3,","),i.Ub(1001,"span",22),i.uc(1002,"null"),i.Tb(),i.uc(1003,","),i.Ub(1004,"span",22),i.uc(1005,"null"),i.Tb(),i.uc(1006,","),i.Ub(1007,"span",22),i.uc(1008,"null"),i.Tb(),i.uc(1009,","),i.Ub(1010,"span",22),i.uc(1011,"null"),i.Tb(),i.uc(1012,"],\n    ["),i.Ub(1013,"span",22),i.uc(1014,"null"),i.Tb(),i.uc(1015,","),i.Ub(1016,"span",22),i.uc(1017,"null"),i.Tb(),i.uc(1018,","),i.Ub(1019,"span",22),i.uc(1020,"null"),i.Tb(),i.uc(1021,","),i.Ub(1022,"span",22),i.uc(1023,"null"),i.Tb(),i.uc(1024,","),i.Ub(1025,"span",22),i.uc(1026,"null"),i.Tb(),i.uc(1027,","),i.Ub(1028,"span",22),i.uc(1029,"null"),i.Tb(),i.uc(1030,","),i.Ub(1031,"span",22),i.uc(1032,"null"),i.Tb(),i.uc(1033,","),i.Ub(1034,"span",22),i.uc(1035,"null"),i.Tb(),i.uc(1036,","),i.Ub(1037,"span",22),i.uc(1038,"null"),i.Tb(),i.uc(1039,","),i.Ub(1040,"span",22),i.uc(1041,"null"),i.Tb(),i.uc(1042,","),i.Ub(1043,"span",22),i.uc(1044,"null"),i.Tb(),i.uc(1045,","),i.Ub(1046,"span",22),i.uc(1047,"null"),i.Tb(),i.uc(1048,","),i.Ub(1049,"span",22),i.uc(1050,"null"),i.Tb(),i.uc(1051,","),i.Ub(1052,"span",22),i.uc(1053,"null"),i.Tb(),i.uc(1054,","),i.Ub(1055,"span",22),i.uc(1056,"null"),i.Tb(),i.uc(1057,","),i.Ub(1058,"span",22),i.uc(1059,"null"),i.Tb(),i.uc(1060,","),i.Ub(1061,"span",22),i.uc(1062,"null"),i.Tb(),i.uc(1063,","),i.Ub(1064,"span",22),i.uc(1065,"null"),i.Tb(),i.uc(1066,","),i.Ub(1067,"span",22),i.uc(1068,"null"),i.Tb(),i.uc(1069,","),i.Ub(1070,"span",22),i.uc(1071,"null"),i.Tb(),i.uc(1072,"],\n    ["),i.Ub(1073,"span",22),i.uc(1074,"null"),i.Tb(),i.uc(1075,","),i.Ub(1076,"span",22),i.uc(1077,"null"),i.Tb(),i.uc(1078,","),i.Ub(1079,"span",22),i.uc(1080,"null"),i.Tb(),i.uc(1081,","),i.Ub(1082,"span",22),i.uc(1083,"null"),i.Tb(),i.uc(1084,","),i.Ub(1085,"span",22),i.uc(1086,"null"),i.Tb(),i.uc(1087,","),i.Ub(1088,"span",22),i.uc(1089,"null"),i.Tb(),i.uc(1090,","),i.Ub(1091,"span",22),i.uc(1092,"null"),i.Tb(),i.uc(1093,","),i.Ub(1094,"span",22),i.uc(1095,"null"),i.Tb(),i.uc(1096,","),i.Ub(1097,"span",22),i.uc(1098,"null"),i.Tb(),i.uc(1099,","),i.Ub(1100,"span",22),i.uc(1101,"null"),i.Tb(),i.uc(1102,","),i.Ub(1103,"span",22),i.uc(1104,"null"),i.Tb(),i.uc(1105,","),i.Ub(1106,"span",22),i.uc(1107,"null"),i.Tb(),i.uc(1108,","),i.Ub(1109,"span",22),i.uc(1110,"null"),i.Tb(),i.uc(1111,","),i.Ub(1112,"span",22),i.uc(1113,"null"),i.Tb(),i.uc(1114,","),i.Ub(1115,"span",22),i.uc(1116,"null"),i.Tb(),i.uc(1117,","),i.Ub(1118,"span",22),i.uc(1119,"null"),i.Tb(),i.uc(1120,","),i.Ub(1121,"span",22),i.uc(1122,"null"),i.Tb(),i.uc(1123,","),i.Ub(1124,"span",22),i.uc(1125,"null"),i.Tb(),i.uc(1126,","),i.Ub(1127,"span",22),i.uc(1128,"null"),i.Tb(),i.uc(1129,","),i.Ub(1130,"span",22),i.uc(1131,"null"),i.Tb(),i.uc(1132,"],\n    ["),i.Ub(1133,"span",22),i.uc(1134,"null"),i.Tb(),i.uc(1135,","),i.Ub(1136,"span",22),i.uc(1137,"null"),i.Tb(),i.uc(1138,","),i.Ub(1139,"span",22),i.uc(1140,"null"),i.Tb(),i.uc(1141,","),i.Ub(1142,"span",22),i.uc(1143,"null"),i.Tb(),i.uc(1144,","),i.Ub(1145,"span",22),i.uc(1146,"null"),i.Tb(),i.uc(1147,","),i.Ub(1148,"span",22),i.uc(1149,"null"),i.Tb(),i.uc(1150,","),i.Ub(1151,"span",22),i.uc(1152,"null"),i.Tb(),i.uc(1153,","),i.Ub(1154,"span",22),i.uc(1155,"null"),i.Tb(),i.uc(1156,","),i.Ub(1157,"span",22),i.uc(1158,"null"),i.Tb(),i.uc(1159,","),i.Ub(1160,"span",22),i.uc(1161,"null"),i.Tb(),i.uc(1162,","),i.Ub(1163,"span",22),i.uc(1164,"null"),i.Tb(),i.uc(1165,","),i.Ub(1166,"span",22),i.uc(1167,"null"),i.Tb(),i.uc(1168,","),i.Ub(1169,"span",22),i.uc(1170,"null"),i.Tb(),i.uc(1171,","),i.Ub(1172,"span",22),i.uc(1173,"null"),i.Tb(),i.uc(1174,","),i.Ub(1175,"span",22),i.uc(1176,"null"),i.Tb(),i.uc(1177,","),i.Ub(1178,"span",22),i.uc(1179,"null"),i.Tb(),i.uc(1180,","),i.Ub(1181,"span",22),i.uc(1182,"null"),i.Tb(),i.uc(1183,","),i.Ub(1184,"span",22),i.uc(1185,"null");i.Tb(),i.uc(1186,","),i.Ub(1187,"span",22),i.uc(1188,"null"),i.Tb(),i.uc(1189,","),i.Ub(1190,"span",22),i.uc(1191,"null"),i.Tb(),i.uc(1192,"],\n    ["),i.Ub(1193,"span",22),i.uc(1194,"null"),i.Tb(),i.uc(1195,","),i.Ub(1196,"span",22),i.uc(1197,"null"),i.Tb(),i.uc(1198,","),i.Ub(1199,"span",22),i.uc(1200,"null"),i.Tb(),i.uc(1201,","),i.Ub(1202,"span",22),i.uc(1203,"null"),i.Tb(),i.uc(1204,","),i.Ub(1205,"span",22),i.uc(1206,"null"),i.Tb(),i.uc(1207,","),i.Ub(1208,"span",22),i.uc(1209,"null"),i.Tb(),i.uc(1210,","),i.Ub(1211,"span",22),i.uc(1212,"null"),i.Tb(),i.uc(1213,","),i.Ub(1214,"span",22),i.uc(1215,"null"),i.Tb(),i.uc(1216,","),i.Ub(1217,"span",22),i.uc(1218,"null"),i.Tb(),i.uc(1219,","),i.Ub(1220,"span",22),i.uc(1221,"null"),i.Tb(),i.uc(1222,","),i.Ub(1223,"span",22),i.uc(1224,"null"),i.Tb(),i.uc(1225,","),i.Ub(1226,"span",22),i.uc(1227,"null"),i.Tb(),i.uc(1228,","),i.Ub(1229,"span",22),i.uc(1230,"null"),i.Tb(),i.uc(1231,","),i.Ub(1232,"span",22),i.uc(1233,"null"),i.Tb(),i.uc(1234,","),i.Ub(1235,"span",22),i.uc(1236,"null"),i.Tb(),i.uc(1237,","),i.Ub(1238,"span",22),i.uc(1239,"null"),i.Tb(),i.uc(1240,","),i.Ub(1241,"span",22),i.uc(1242,"null"),i.Tb(),i.uc(1243,","),i.Ub(1244,"span",22),i.uc(1245,"null"),i.Tb(),i.uc(1246,","),i.Ub(1247,"span",22),i.uc(1248,"null"),i.Tb(),i.uc(1249,","),i.Ub(1250,"span",22),i.uc(1251,"null"),i.Tb(),i.uc(1252,"],\n    ["),i.Ub(1253,"span",22),i.uc(1254,"null"),i.Tb(),i.uc(1255,","),i.Ub(1256,"span",22),i.uc(1257,"null"),i.Tb(),i.uc(1258,","),i.Ub(1259,"span",22),i.uc(1260,"null"),i.Tb(),i.uc(1261,","),i.Ub(1262,"span",22),i.uc(1263,"null"),i.Tb(),i.uc(1264,","),i.Ub(1265,"span",22),i.uc(1266,"null"),i.Tb(),i.uc(1267,","),i.Ub(1268,"span",22),i.uc(1269,"null"),i.Tb(),i.uc(1270,","),i.Ub(1271,"span",22),i.uc(1272,"null"),i.Tb(),i.uc(1273,","),i.Ub(1274,"span",22),i.uc(1275,"null"),i.Tb(),i.uc(1276,","),i.Ub(1277,"span",22),i.uc(1278,"null"),i.Tb(),i.uc(1279,","),i.Ub(1280,"span",22),i.uc(1281,"null"),i.Tb(),i.uc(1282,","),i.Ub(1283,"span",22),i.uc(1284,"null"),i.Tb(),i.uc(1285,","),i.Ub(1286,"span",22),i.uc(1287,"null"),i.Tb(),i.uc(1288,","),i.Ub(1289,"span",22),i.uc(1290,"null"),i.Tb(),i.uc(1291,","),i.Ub(1292,"span",22),i.uc(1293,"null"),i.Tb(),i.uc(1294,","),i.Ub(1295,"span",22),i.uc(1296,"null"),i.Tb(),i.uc(1297,","),i.Ub(1298,"span",22),i.uc(1299,"null"),i.Tb(),i.uc(1300,","),i.Ub(1301,"span",22),i.uc(1302,"null"),i.Tb(),i.uc(1303,","),i.Ub(1304,"span",22),i.uc(1305,"null"),i.Tb(),i.uc(1306,","),i.Ub(1307,"span",22),i.uc(1308,"null"),i.Tb(),i.uc(1309,","),i.Ub(1310,"span",22),i.uc(1311,"null"),i.Tb(),i.uc(1312,"],\n    ["),i.Ub(1313,"span",22),i.uc(1314,"null"),i.Tb(),i.uc(1315,","),i.Ub(1316,"span",22),i.uc(1317,"null"),i.Tb(),i.uc(1318,","),i.Ub(1319,"span",22),i.uc(1320,"null"),i.Tb(),i.uc(1321,","),i.Ub(1322,"span",22),i.uc(1323,"null"),i.Tb(),i.uc(1324,","),i.Ub(1325,"span",22),i.uc(1326,"null"),i.Tb(),i.uc(1327,","),i.Ub(1328,"span",22),i.uc(1329,"null"),i.Tb(),i.uc(1330,","),i.Ub(1331,"span",22),i.uc(1332,"null"),i.Tb(),i.uc(1333,","),i.Ub(1334,"span",22),i.uc(1335,"null"),i.Tb(),i.uc(1336,","),i.Ub(1337,"span",22),i.uc(1338,"null"),i.Tb(),i.uc(1339,","),i.Ub(1340,"span",22),i.uc(1341,"null"),i.Tb(),i.uc(1342,","),i.Ub(1343,"span",22),i.uc(1344,"null"),i.Tb(),i.uc(1345,","),i.Ub(1346,"span",22),i.uc(1347,"null"),i.Tb(),i.uc(1348,","),i.Ub(1349,"span",22),i.uc(1350,"null"),i.Tb(),i.uc(1351,","),i.Ub(1352,"span",22),i.uc(1353,"null"),i.Tb(),i.uc(1354,","),i.Ub(1355,"span",22),i.uc(1356,"null"),i.Tb(),i.uc(1357,","),i.Ub(1358,"span",22),i.uc(1359,"null"),i.Tb(),i.uc(1360,","),i.Ub(1361,"span",22),i.uc(1362,"null"),i.Tb(),i.uc(1363,","),i.Ub(1364,"span",22),i.uc(1365,"null"),i.Tb(),i.uc(1366,","),i.Ub(1367,"span",22),i.uc(1368,"null"),i.Tb(),i.uc(1369,","),i.Ub(1370,"span",22),i.uc(1371,"null"),i.Tb(),i.uc(1372,"],\n    ["),i.Ub(1373,"span",22),i.uc(1374,"null"),i.Tb(),i.uc(1375,","),i.Ub(1376,"span",22),i.uc(1377,"null"),i.Tb(),i.uc(1378,","),i.Ub(1379,"span",22),i.uc(1380,"null"),i.Tb(),i.uc(1381,","),i.Ub(1382,"span",22),i.uc(1383,"null"),i.Tb(),i.uc(1384,","),i.Ub(1385,"span",22),i.uc(1386,"null"),i.Tb(),i.uc(1387,","),i.Ub(1388,"span",22),i.uc(1389,"null"),i.Tb(),i.uc(1390,","),i.Ub(1391,"span",22),i.uc(1392,"null"),i.Tb(),i.uc(1393,","),i.Ub(1394,"span",22),i.uc(1395,"null"),i.Tb(),i.uc(1396,","),i.Ub(1397,"span",22),i.uc(1398,"null"),i.Tb(),i.uc(1399,","),i.Ub(1400,"span",22),i.uc(1401,"null"),i.Tb(),i.uc(1402,","),i.Ub(1403,"span",22),i.uc(1404,"null"),i.Tb(),i.uc(1405,","),i.Ub(1406,"span",22),i.uc(1407,"null"),i.Tb(),i.uc(1408,","),i.Ub(1409,"span",22),i.uc(1410,"null"),i.Tb(),i.uc(1411,","),i.Ub(1412,"span",22),i.uc(1413,"null"),i.Tb(),i.uc(1414,","),i.Ub(1415,"span",22),i.uc(1416,"null"),i.Tb(),i.uc(1417,","),i.Ub(1418,"span",22),i.uc(1419,"null"),i.Tb(),i.uc(1420,","),i.Ub(1421,"span",22),i.uc(1422,"null"),i.Tb(),i.uc(1423,","),i.Ub(1424,"span",22),i.uc(1425,"null"),i.Tb(),i.uc(1426,","),i.Ub(1427,"span",22),i.uc(1428,"null"),i.Tb(),i.uc(1429,","),i.Ub(1430,"span",22),i.uc(1431,"null"),i.Tb(),i.uc(1432,"]\n  ],\n  "),i.Ub(1433,"span",21),i.uc(1434,'"unit"'),i.Tb(),i.uc(1435),i.Ub(1436,"span",21),i.uc(1437,'"id"'),i.Tb(),i.uc(1438,": "),i.Ub(1439,"span",23),i.uc(1440,"1"),i.Tb(),i.uc(1441,",\n    "),i.Ub(1442,"span",21),i.uc(1443,'"team"'),i.Tb(),i.uc(1444,": "),i.Ub(1445,"span",23),i.uc(1446,"1"),i.Tb(),i.uc(1447,",\n    "),i.Ub(1448,"span",21),i.uc(1449,'"location"'),i.Tb(),i.uc(1450),i.Ub(1451,"span",21),i.uc(1452,'"y"'),i.Tb(),i.uc(1453,": "),i.Ub(1454,"span",23),i.uc(1455,"5"),i.Tb(),i.uc(1456,",\n  "),i.Ub(1457,"span",21),i.uc(1458,'"x"'),i.Tb(),i.uc(1459,": "),i.Ub(1460,"span",23),i.uc(1461,"12"),i.Tb(),i.uc(1462,"\n    },\n    "),i.Ub(1463,"span",21),i.uc(1464,'"maxHealth"'),i.Tb(),i.uc(1465,": "),i.Ub(1466,"span",23),i.uc(1467,"100"),i.Tb(),i.uc(1468,",\n    "),i.Ub(1469,"span",21),i.uc(1470,'"health"'),i.Tb(),i.uc(1471,": "),i.Ub(1472,"span",23),i.uc(1473,"100"),i.Tb(),i.uc(1474,",\n    "),i.Ub(1475,"span",21),i.uc(1476,'"defense"'),i.Tb(),i.uc(1477,": "),i.Ub(1478,"span",23),i.uc(1479,"10"),i.Tb(),i.uc(1480,",\n    "),i.Ub(1481,"span",21),i.uc(1482,'"strength"'),i.Tb(),i.uc(1483,": "),i.Ub(1484,"span",23),i.uc(1485,"15"),i.Tb(),i.uc(1486,",\n    "),i.Ub(1487,"span",21),i.uc(1488,'"attackRange"'),i.Tb(),i.uc(1489,": "),i.Ub(1490,"span",23),i.uc(1491,"4"),i.Tb(),i.uc(1492,"\n  }\n}\n"),i.Tb(),i.Tb(),i.Ub(1493,"blockquote"),i.Ub(1494,"p"),i.uc(1495,"Note we indented it this way just for the sake of clarity. In reality, the JSON data will be in one line. Also, it would all be wrapped in quotation marks."),i.Tb(),i.Tb(),i.Ub(1496,"p"),i.uc(1497,"This might look like quite a bit to unpack for some of you but we\u2019ll do our best to explain what this data format represents. Everything in the curly braces (these: "),i.Ub(1498,"code"),i.uc(1499),i.Tb(),i.uc(1500,") represents a Javascript object. An object is just a collection of related data each with a name to refer to each of them by. Data within an object can be anything from text, a true or false value, an array (a list of data), or even other objects. You will notice in these objects, we have some text in quotation marks followed by a colon and some data. The text in the quotes is the name of the data right of the colon. When we convert the JSON data to a real object, we will use those names to access the data. For instance, we have some data in the object called "),i.Ub(1501,"code"),i.uc(1502,"grid"),i.Tb(),i.uc(1503,", and another called "),i.Ub(1504,"code"),i.uc(1505,"unit"),i.Tb(),i.uc(1506,". The data called "),i.Ub(1507,"code"),i.uc(1508,"grid"),i.Tb(),i.uc(1509," is a list containing inner lists, representing what unit, if any, is on each tile. If you haven't noticed "),i.Ub(1510,"code"),i.uc(1511,"grid"),i.Tb(),i.uc(1512," is 20 by 20 (20 inner lists each with 20 items) just like the 20 by 20 in-game grid. Each item in the inner lists represents a tile, more specifically what unit is on that tile. If there isn\u2019t a unit on a tile, then there is a value of "),i.Ub(1513,"code"),i.uc(1514,"null"),i.Tb(),i.uc(1515,", otherwise, you get an object representing that unit. Each inner list represents a column in the game while the items in those inner lists represent what unit is on a tile on that column. You will notice in the above example, only the third list contains objects. In that third list, there are two objects representing units. This would mean on the third column, there are two units, while all the null values in the inner lists mean the other tiles on the grid have no units on them. Within these unit objects, you will see that you are given the exact location on the grid that these units are on. Note that the x and y values range from 0-19, representing 20 rows and 20 columns. Since the numbering starts from 0, the third column will be column number 2, the first column will be number 0, etc (programming languages tend to number stuff starting at 0). Lastly, the "),i.Ub(1516,"code"),i.uc(1517,"unit"),i.Tb(),i.uc(1518," data in the outer object (the object that contains the grid data), is just a representation of the unit you are controlling. Now that you have an idea of what data the game sends, we can go over how to use it. The below code takes the "),i.Ub(1519,"code"),i.uc(1520,"unit"),i.Tb(),i.uc(1521," data and stores it in a variable called "),i.Ub(1522,"em"),i.uc(1523,"you"),i.Tb(),i.uc(1524,"."),i.Tb(),i.Ub(1525,"pre"),i.Ub(1526,"code",9),i.Ub(1527,"span",10),i.uc(1528,"let"),i.Tb(),i.uc(1529," "),i.Ub(1530,"span",11),i.Ub(1531,"span",12),i.uc(1532,"data"),i.Tb(),i.uc(1533," = "),i.Ub(1534,"span",13),i.uc(1535,"JSON"),i.Tb(),i.uc(1536,".parse("),i.Ub(1537,"span",10),i.uc(1538,"turnEvent"),i.Tb(),i.uc(1539,"."),i.Ub(1540,"span",10),i.uc(1541,"data"),i.Tb(),i.uc(1542,");"),i.Tb(),i.uc(1543,"\n"),i.Ub(1544,"span",10),i.uc(1545,"let"),i.Tb(),i.uc(1546," you = "),i.Ub(1547,"span",11),i.Ub(1548,"span",12),i.uc(1549,"data"),i.Tb(),i.uc(1550,".unit;"),i.Tb(),i.uc(1551,"\n"),i.Tb(),i.Tb(),i.Ub(1552,"p"),i.uc(1553,"Then, to get the health of the unit stored as "),i.Ub(1554,"em"),i.uc(1555,"you"),i.Tb(),i.uc(1556," you would simply do this:"),i.Tb(),i.Ub(1557,"pre"),i.Ub(1558,"code",9),i.Ub(1559,"span",24),i.uc(1560,"let health"),i.Tb(),i.uc(1561," = you.health;\n"),i.Tb(),i.Tb(),i.Ub(1562,"p"),i.uc(1563,"To get the x value of the location of the unit you would do the following:"),i.Tb(),i.Ub(1564,"pre"),i.Ub(1565,"code",9),i.Ub(1566,"span",24),i.uc(1567,"let xLocation"),i.Tb(),i.uc(1568," = you.location.x;\n"),i.Tb(),i.Tb(),i.Ub(1569,"p"),i.uc(1570,"To get a specific unit in the grid is a bit more involved than what we just did, but we will go into more detail about it. Here's how you'd get the unit on the third column of the sixth row:"),i.Tb(),i.Ub(1571,"pre"),i.Ub(1572,"code",9),i.Ub(1573,"span",25),i.uc(1574,"let"),i.Tb(),i.uc(1575," data = JSON.parse(turnEvent.data);\n"),i.Ub(1576,"span",25),i.uc(1577,"let"),i.Tb(),i.uc(1578," "),i.Ub(1579,"span",25),i.uc(1580,"grid"),i.Tb(),i.uc(1581," = data."),i.Ub(1582,"span",25),i.uc(1583,"grid"),i.Tb(),i.uc(1584,";\n// Get the "),i.Ub(1585,"span",25),i.uc(1586,"third"),i.Tb(),i.uc(1587," column of the "),i.Ub(1588,"span",25),i.uc(1589,"grid"),i.Tb(),i.uc(1590," "),i.Ub(1591,"span",12),i.uc(1592,"and"),i.Tb(),i.uc(1593," "),i.Ub(1594,"span",25),i.uc(1595,"get"),i.Tb(),i.uc(1596," the "),i.Ub(1597,"span",25),i.uc(1598,"first"),i.Tb(),i.uc(1599," unit found "),i.Ub(1600,"span",12),i.uc(1601,"in"),i.Tb(),i.uc(1602," that column (located on x: "),i.Ub(1603,"span",23),i.uc(1604,"2"),i.Tb(),i.uc(1605,", y: "),i.Ub(1606,"span",23),i.uc(1607,"5"),i.Tb(),i.uc(1608,").\n// Remember we count stuff starting "),i.Ub(1609,"span",25),i.uc(1610,"at"),i.Tb(),i.uc(1611," "),i.Ub(1612,"span",23),i.uc(1613,"0"),i.Tb(),i.uc(1614,", so the "),i.Ub(1615,"span",25),i.uc(1616,"third"),i.Tb(),i.uc(1617," column will be number "),i.Ub(1618,"span",23),i.uc(1619,"2"),i.Tb(),i.uc(1620,", "),i.Ub(1621,"span",12),i.uc(1622,"and"),i.Tb(),i.uc(1623,"\n// the "),i.Ub(1624,"span",25),i.uc(1625,"sixth"),i.Tb(),i.uc(1626," "),i.Ub(1627,"span",25),i.uc(1628,"row"),i.Tb(),i.uc(1629," will be number "),i.Ub(1630,"span",23),i.uc(1631,"5"),i.Tb(),i.uc(1632,"\n"),i.Ub(1633,"span",25),i.uc(1634,"let"),i.Tb(),i.uc(1635," person = "),i.Ub(1636,"span",25),i.uc(1637,"grid"),i.Tb(),i.uc(1638,"["),i.Ub(1639,"span",23),i.uc(1640,"2"),i.Tb(),i.uc(1641,"]["),i.Ub(1642,"span",23),i.uc(1643,"5"),i.Tb(),i.uc(1644,"];\n"),i.Tb(),i.Tb(),i.Ub(1645,"p"),i.uc(1646,"First, we get the grid data within the data object. This grid data is a list of lists (as seen in the JSON data above), which we store as a variable called grid. Then we get the third item of the list (another list) and get the sixth item of that inner list. This would be a single unit object as seen in the JSON data above. We would then store it in a variable called person so we can do operations like what you've seen above. The tables below are a summary of all that exists in the data we send you:"),i.Tb(),i.Ub(1647,"h3"),i.uc(1648,"The Data Sent From Each Turn"),i.Tb(),i.Ub(1649,"table"),i.Ub(1650,"thead"),i.Ub(1651,"tr"),i.Ub(1652,"th"),i.uc(1653,"Data"),i.Tb(),i.Ub(1654,"th"),i.uc(1655,"Definition"),i.Tb(),i.Tb(),i.Tb(),i.Ub(1656,"tbody"),i.Ub(1657,"tr"),i.Ub(1658,"td"),i.uc(1659,"grid"),i.Tb(),i.Ub(1660,"td"),i.uc(1661,"A 20 by 20 list of lists (20 inner lists, each with 20 items) representing the 20 by 20 in-game grid. Each inner list represents an in-game column where each item represents what unit (if any) is on each tile of that column. If there is no unit on a tile, then that tile has a null value."),i.Tb(),i.Tb(),i.Ub(1662,"tr"),i.Ub(1663,"td"),i.uc(1664,"unit"),i.Tb(),i.Ub(1665,"td"),i.uc(1666,"A unit object representing the stats of the unit you are controlling (ex. health, defense, attack range, etc)."),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(1667,"h3"),i.uc(1668,"The Contents of all Unit objects"),i.Tb(),i.Ub(1669,"table"),i.Ub(1670,"thead"),i.Ub(1671,"tr"),i.Ub(1672,"th"),i.uc(1673,"Data"),i.Tb(),i.Ub(1674,"th"),i.uc(1675,"Definition"),i.Tb(),i.Tb(),i.Tb(),i.Ub(1676,"tbody"),i.Ub(1677,"tr"),i.Ub(1678,"td"),i.uc(1679,"id"),i.Tb(),i.Ub(1680,"td"),i.uc(1681,"An id for the unit (number)."),i.Tb(),i.Tb(),i.Ub(1682,"tr"),i.Ub(1683,"td"),i.uc(1684,"team"),i.Tb(),i.Ub(1685,"td"),i.uc(1686,"The team the unit is on (number)."),i.Tb(),i.Tb(),i.Ub(1687,"tr"),i.Ub(1688,"td"),i.uc(1689,"location"),i.Tb(),i.Ub(1690,"td"),i.uc(1691,"An object containing the x (number) and y (number) values of the location of the unit."),i.Tb(),i.Tb(),i.Ub(1692,"tr"),i.Ub(1693,"td"),i.uc(1694,"maxHealth"),i.Tb(),i.Ub(1695,"td"),i.uc(1696,"The maximum health of the unit (number)."),i.Tb(),i.Tb(),i.Ub(1697,"tr"),i.Ub(1698,"td"),i.uc(1699,"health"),i.Tb(),i.Ub(1700,"td"),i.uc(1701,"Current health of the unit (number)."),i.Tb(),i.Tb(),i.Ub(1702,"tr"),i.Ub(1703,"td"),i.uc(1704,"defense"),i.Tb(),i.Ub(1705,"td"),i.uc(1706,"The defense of the unit (A number. How much damage it can take in a single attack before it loses some health)."),i.Tb(),i.Tb(),i.Ub(1707,"tr"),i.Ub(1708,"td"),i.uc(1709,"strength"),i.Tb(),i.Ub(1710,"td"),i.uc(1711,"The strength of the unit (A number. How much damage it can deal in a single attack)."),i.Tb(),i.Tb(),i.Ub(1712,"tr"),i.Ub(1713,"td"),i.uc(1714,"attackRange"),i.Tb(),i.Ub(1715,"td"),i.uc(1716,"How many tiles in any direction a unit can attack (number)."),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(1717,"a",26),i.Ub(1718,"h2"),i.uc(1719,"Sending Back A Response"),i.Tb(),i.Tb(),i.Ub(1720,"p"),i.uc(1721,"Once you\u2019ve decided what you want your unit to do, you have to post a message back to it to tell it about it. You would do this by simply calling the "),i.Ub(1722,"code"),i.uc(1723,"postMessage"),i.Tb(),i.uc(1724," function like so:"),i.Tb(),i.Ub(1725,"pre"),i.Ub(1726,"code",9),i.Ub(1727,"span",27),i.uc(1728,"this"),i.Tb(),i.Ub(1729,"span",28),i.uc(1730,".postMessage"),i.Tb(),i.uc(1731),i.Ub(1732,"span",24),i.uc(1733,"result"),i.Tb(),i.uc(1734,": "),i.Ub(1735,"span",18),i.uc(1736,"'Your action here'"),i.Tb(),i.uc(1737,"});\n"),i.Tb(),i.Tb(),i.Ub(1738,"p"),i.uc(1739,"Remember that the game only accepts a set of recognized actions that you can send back to it. The following lists all the commands that can be sent back to the game. You would simply replace the "),i.Ub(1740,"code"),i.uc(1741,"Your action here"),i.Tb(),i.uc(1742," in the code above with the name of the action in the quotes:"),i.Tb(),i.Ub(1743,"table"),i.Ub(1744,"thead"),i.Ub(1745,"tr"),i.Ub(1746,"th"),i.uc(1747,"Action"),i.Tb(),i.Ub(1748,"th"),i.uc(1749,"Definition"),i.Tb(),i.Tb(),i.Tb(),i.Ub(1750,"tbody"),i.Ub(1751,"tr"),i.Ub(1752,"td"),i.uc(1753,"Attack"),i.Tb(),i.Ub(1754,"td"),i.uc(1755,"Attack the first enemy unit in range if any. Otherwise, just wait."),i.Tb(),i.Tb(),i.Ub(1756,"tr"),i.Ub(1757,"td");i.uc(1758,"Wait"),i.Tb(),i.Ub(1759,"td"),i.uc(1760,"End the turn without acting."),i.Tb(),i.Tb(),i.Ub(1761,"tr"),i.Ub(1762,"td"),i.uc(1763,"West"),i.Tb(),i.Ub(1764,"td"),i.uc(1765,"Walk one tile West. If the tile is occupied by another unit or the area is out of bounds wait."),i.Tb(),i.Tb(),i.Ub(1766,"tr"),i.Ub(1767,"td"),i.uc(1768,"East"),i.Tb(),i.Ub(1769,"td"),i.uc(1770,"Walk one tile East. If the tile is occupied by another unit or the area is out of bounds wait."),i.Tb(),i.Tb(),i.Ub(1771,"tr"),i.Ub(1772,"td"),i.uc(1773,"North"),i.Tb(),i.Ub(1774,"td"),i.uc(1775,"Walk one tile North. If the tile is occupied by another unit or the area is out of bounds wait."),i.Tb(),i.Tb(),i.Ub(1776,"tr"),i.Ub(1777,"td"),i.uc(1778,"South"),i.Tb(),i.Ub(1779,"td"),i.uc(1780,"Walk one tile South. If the tile is occupied by another unit or the area is out of bounds wait."),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(1781,"a",29),i.Ub(1782,"h2"),i.uc(1783,"Conclusion"),i.Tb(),i.Tb(),i.Ub(1784,"p"),i.uc(1785,"In this guide, we went over all you need to know to start coding the behavior of your scripting siege units. With this knowledge, you will be able to write more complex custom behavior to your units to perform better in the game and learn to code in the process. You can find some example code to get you started "),i.Ub(1786,"a",30),i.uc(1787,"here"),i.Tb(),i.uc(1788,". Good luck and have fun!"),i.Tb(),i.Tb(),i.Tb()}2&t&&(i.Db(74),i.wc("","{","\n\n      "),i.Db(3),i.wc(".postMessage(","{","result: "),i.Db(44),i.vc("{"),i.Db(138),i.wc(",\n      ","{","\n        "),i.Db(15),i.wc(":\n          ","{","\n            "),i.Db(60),i.wc(",\n      ","{","\n        "),i.Db(15),i.wc(":\n          ","{","\n            "),i.Db(1086),i.wc(": ","{","\n      "),i.Db(15),i.wc(": ","{","\n      "),i.Db(49),i.wc("","{","}"),i.Db(232),i.wc("(","{",""))},styles:["#main-content[_ngcontent-%COMP%]{background-color:#141c34;color:#fff;width:1188px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between}#docs-content[_ngcontent-%COMP%]{flex-grow:3;flex-basis:85%;padding-top:54px;overflow-x:auto}#book-marks[_ngcontent-%COMP%]{flex-grow:1;flex-basis:15%;padding:54px 10px;margin-right:45px;border-right:1px solid #fff}#book-marks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}#book-marks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2cdd3e}.link[_ngcontent-%COMP%]{text-decoration:none;color:#a4000f}.link[_ngcontent-%COMP%]:hover, code[_ngcontent-%COMP%]{color:#2cdd3e}code[_ngcontent-%COMP%]{font-family:codefont}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;border-collapse:collapse}table[_ngcontent-%COMP%]{width:500px;margin-top:20px;margin-bottom:20px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px}th[_ngcontent-%COMP%]{text-align:center}#main-header[_ngcontent-%COMP%]{color:#2cdd3e;margin:100px auto 57px;width:1228px}#title[_ngcontent-%COMP%]{font-family:codefont;font-size:60px}.page-ref[_ngcontent-%COMP%]{text-decoration:none;color:#fff}img[_ngcontent-%COMP%]{width:100%}"]}),t})();function RR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",6),i.bc("click",function(){i.nc(t);const n=e.$implicit;return i.fc().onSelect(n.id)}),i.uc(1),i.Tb()}if(2&t){const t=e.$implicit;i.Db(1),i.vc(t.prog.Name)}}let UR=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onSelect(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(rd),i.Ob(od))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-prog-select-dialog"]],decls:8,vars:1,consts:[["id","background"],["mat-dialog-title",""],[1,"mat-typography"],["class","option","mat-button","",3,"click",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],["mat-button","",1,"option",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"h1",1),i.uc(2,"Choose your program"),i.Tb(),i.Ub(3,"mat-dialog-content",2),i.tc(4,RR,2,1,"button",3),i.Tb(),i.Ub(5,"mat-dialog-actions",4),i.Ub(6,"button",5),i.bc("click",function(){return e.onSelect(void 0)}),i.uc(7,"Cancel"),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Db(4),i.ic("ngForOf",e.data))},directives:[fd,pd,A,md,cD],styles:[".option[_ngcontent-%COMP%]{margin-right:20px}button[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#2cdd3e}h1[_ngcontent-%COMP%]{font-weight:500}"]}),t})();function LR(t,e){if(1&t&&(i.ec(),i.Pb(0,"circle",3)),2&t){const t=i.fc();i.qc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Eb("r",t._getCircleRadius())}}function NR(t,e){if(1&t&&(i.ec(),i.Pb(0,"circle",3)),2&t){const t=i.fc();i.qc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Eb("r",t._getCircleRadius())}}function MR(t,e){if(1&t&&(i.ec(),i.Pb(0,"circle",3)),2&t){const t=i.fc();i.qc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Eb("r",t._getCircleRadius())}}function jR(t,e){if(1&t&&(i.ec(),i.Pb(0,"circle",3)),2&t){const t=i.fc();i.qc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Eb("r",t._getCircleRadius())}}const FR=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class VR{constructor(t){this._elementRef=t}}const BR=wh(VR,"primary"),HR=new i.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let qR=(()=>{class t extends BR{constructor(e,n,i,r,s){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=xr(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=xr(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,xr(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=ps(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(as),i.Ob(o,8),i.Ob(hh,8),i.Ob(HR))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.Eb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.qc("width",e.diameter,"px")("height",e.diameter,"px"),i.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.ec(),i.Ub(0,"svg",0),i.tc(1,LR,1,9,"circle",1),i.tc(2,NR,1,7,"circle",2),i.Tb()),2&t&&(i.qc("width",e.diameter,"px")("height",e.diameter,"px"),i.ic("ngSwitch","indeterminate"===e.mode),i.Eb("viewBox",e._getViewBox()),i.Db(1),i.ic("ngSwitchCase",!0),i.Db(1),i.ic("ngSwitchCase",!1))},directives:[N,M],styles:[FR],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),zR=(()=>{class t extends qR{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(as),i.Ob(o,8),i.Ob(hh,8),i.Ob(HR))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(i.qc("width",e.diameter,"px")("height",e.diameter,"px"),i.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[i.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.ec(),i.Ub(0,"svg",0),i.tc(1,MR,1,9,"circle",1),i.tc(2,jR,1,7,"circle",2),i.Tb()),2&t&&(i.qc("width",e.diameter,"px")("height",e.diameter,"px"),i.ic("ngSwitch","indeterminate"===e.mode),i.Eb("viewBox",e._getViewBox()),i.Db(1),i.ic("ngSwitchCase",!0),i.Db(1),i.ic("ngSwitchCase",!1))},directives:[N,M],styles:[FR],encapsulation:2,changeDetection:0}),t})(),GR=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[yh,F],yh]}),t})();function YR(t,e){1&t&&(i.Ub(0,"h1"),i.uc(1,"Level Select"),i.Tb())}function WR(t,e){1&t&&(i.Ub(0,"h1"),i.uc(1,"Tutorial Select"),i.Tb())}function KR(t,e){1&t&&(i.Ub(0,"div",5),i.Ub(1,"h1"),i.uc(2,"Loading Level Data"),i.Tb(),i.Pb(3,"mat-spinner"),i.Tb())}function $R(t,e){1&t&&(i.Ub(0,"div"),i.Ub(1,"h1"),i.uc(2,"We encountered a problem, please try again"),i.Tb(),i.Tb())}const XR=function(t){return{highlightElement:t}};function JR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",8),i.Pb(1,"img",9),i.Ub(2,"button",10),i.bc("click",function(){i.nc(t);const n=e.$implicit;return i.fc(2).goToLevel(n.dbid)}),i.uc(3),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit;i.Db(1),i.ic("ngClass",i.kc(2,XR,t.completed)),i.Db(2),i.vc(t.id)}}function QR(t,e){if(1&t&&(i.Ub(0,"div",6),i.tc(1,JR,4,4,"div",7),i.Tb()),2&t){const t=i.fc();i.Db(1),i.ic("ngForOf",t.ldata)}}let ZR=(()=>{class t{constructor(t,e,n,i){this.router=t,this.db=e,this.auth=n,this.dialog=i,this.levelSelect=!0,this.loadingData=!0,this.noData=!1,this.ownedProgs=[],this.ldata=[],n.checkSigninStatus()||t.navigate(["signin"]);var r=this;this.levelSelect="/tutorials"!==t.url,e.getAllLevels(function(i){for(let e of i.docs)"/tutorials"===t.url?e.exists&&e.id.length>2&&0==e.id.indexOf("99")&&r.ldata.push({id:"Tutorial: "+e.id.substring(2,e.id.length),completed:!1,dbid:e.id}):e.exists&&0!=e.id.indexOf("99")&&r.ldata.push({id:"Level: "+e.id,completed:!1,dbid:e.id});e.getUserData(n.getUser().uid,function(e){null==e&&t.navigate(["profile"]);for(let t of e.CompletedLevels)for(let e of r.ldata)console.log("checking "+e.id),r.levelSelect?e.id.substring(7,e.id.length)==t&&(e.completed=!0):"99"+e.id.substring(10,e.id.length)==t&&(e.completed=!0);for(let t of e.Programs)r.db.getProgramData(t.toString(),function(e){r.ownedProgs.push({id:t.toString(),prog:e})});r.loadingData=!1,r.ldata.length<=0&&(r.noData=!0)})})}goToLevel(t){this.dialog.open(UR,{data:this.ownedProgs,panelClass:"defaultDialog"}).afterClosed().subscribe(e=>{null!=e&&this.router.navigate(["play"],{queryParams:{l:t,p:e}})})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(er),i.Ob(VP),i.Ob(BP),i.Ob(hd))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-levelselect"]],hostAttrs:[1,"fullpage"],decls:7,vars:5,consts:[["id","backgroundComponent"],["id","containerElement"],[4,"ngIf"],["id","LoadingDiv",4,"ngIf"],["class","colparent",4,"ngIf"],["id","LoadingDiv"],[1,"colparent"],["class","levelObject",4,"ngFor","ngForOf"],[1,"levelObject"],["src","assets/maps/test map.png","alt","Image not found",3,"ngClass"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.tc(2,YR,2,0,"h1",2),i.tc(3,WR,2,0,"h1",2),i.tc(4,KR,4,0,"div",3),i.tc(5,$R,3,0,"div",2),i.tc(6,QR,2,1,"div",4),i.Tb(),i.Tb()),2&t&&(i.Db(2),i.ic("ngIf",e.levelSelect),i.Db(1),i.ic("ngIf",!e.levelSelect),i.Db(1),i.ic("ngIf",e.loadingData),i.Db(1),i.ic("ngIf",!e.loadingData&&e.noData),i.Db(1),i.ic("ngIf",!e.loadingData&&!e.noData))},directives:[D,zR,A,O,cD],styles:["#backgroundComponent[_ngcontent-%COMP%]{background-color:#0b132b;min-height:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding-top:30px;padding-bottom:100px}#containerElement[_ngcontent-%COMP%]{margin:auto;width:80%}#LoadingDiv[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}#LoadingDiv[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:50px auto auto}h1[_ngcontent-%COMP%]{margin-top:30px;text-align:center}button[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#2cdd3e;font-weight:800;font-family:Roboto;font-size:30px}button[_ngcontent-%COMP%]{margin-top:10px!important}img[_ngcontent-%COMP%]{height:300px;width:200px}.levelObject[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;width:33.333%;display:inline-block}.levelObject[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:50px auto auto;display:block;text-align:center}.highlightElement[_ngcontent-%COMP%]{opacity:.4;filter:alpha(opacity=40)}"]}),t})();const tU=[[["caption"]],[["colgroup"],["col"]]],eU=["caption","colgroup, col"];function nU(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Sr(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const iU=new i.s("CDK_TABLE");let rU=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),sU=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),oU=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class aU{}const cU=nU(aU);let uU=(()=>{class t extends cU{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Sr(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(iU,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,rU,1),i.Hb(n,sU,1),i.Hb(n,oU,1)),2&t){let t;i.lc(t=i.cc())&&(e.cell=t.first),i.lc(t=i.cc())&&(e.headerCell=t.first),i.lc(t=i.cc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[i.Cb([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),i.Ab]}),t})();class lU{constructor(t,e){const n=e.nativeElement.classList;for(const i of t._columnCssClassName)n.add(i)}}let hU=(()=>{class t extends lU{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(uU),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[i.Ab]}),t})(),dU=(()=>{class t extends lU{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(uU),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[i.Ab]}),t})();class fU{constructor(){this.tasks=[],this.endTasks=[]}}const pU=new i.s("_COALESCED_STYLE_SCHEDULER");let mU=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new St.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fU,this._getScheduleObservable().pipe(Wr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new fU;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(wt.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Jt(1))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.B))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),gU=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof yU?t.headerCell.template:this instanceof TU?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N),i.Ob(i.u))},t.\u0275dir=i.Jb({type:t,features:[i.Bb]}),t})();class bU extends gU{}const _U=nU(bU);let yU=(()=>{class t extends _U{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N),i.Ob(i.u),i.Ob(iU,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[i.Ab,i.Bb]}),t})();class vU extends gU{}const wU=nU(vU);let TU=(()=>{class t extends wU{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N),i.Ob(i.u),i.Ob(iU,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[i.Ab,i.Bb]}),t})(),SU=(()=>{class t extends gU{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N),i.Ob(i.u),i.Ob(iU,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[i.Ab]}),t})(),xU=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),CU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&i.Qb(0,0)},directives:[xU],encapsulation:2}),t})(),EU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&i.Qb(0,0)},directives:[xU],encapsulation:2}),t})(),kU=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.N))},t.\u0275dir=i.Jb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const OU=["top","bottom","left","right"];class IU{constructor(t,e,n,i,r=!0,s=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=s}clearStickyPositioning(t,e){const n=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let t=0;t<i.children.length;t++)n.push(i.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const i=t[0],r=i.children.length,s=this._getCellWidths(i),o=this._getStickyStartColumnPositions(s,e),a=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(()=>{const i="rtl"===this.direction,s=i?"right":"left",c=i?"left":"right";for(const u of t)for(let t=0;t<r;t++){const i=u.children[t];e[t]&&this._addStickyStyle(i,s,o[t]),n[t]&&this._addStickyStyle(i,c,a[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,s=[],o=[];for(let a=0,c=0;a<i.length;a++){if(s[a]=c,!r[a])continue;const t=i[a];o[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==i.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<i.length;t++){if(!r[t])continue;const e=s[t];for(const i of o[t])this._addStickyStyle(i,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";OU.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of OU)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let AU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","rowOutlet",""]]}),t})(),PU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),DU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),RU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.S),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),UU=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._onDestroy=new St.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new Ct({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Sr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():t&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),_s(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,i,{$implicit:e.data})}else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),LU(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=LU(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=LU(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=LU(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(t,!1);return i&&this._forceRenderFooterRows(),e||n||i}_switchDataSource(t){this._data=[],_s(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;_s(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof Dt.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Tt.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(Wr(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,i={}){const r=t.viewContainer.createEmbeddedView(e.template,i,n);return this._renderCellTemplateForItem(e,i),r}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))xU.mostRecentCellOutlet&&xU.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new IU(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Object(Tt.a)()).pipe(Wr(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){if(this._noDataRow){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const e=this._noDataRowOutlet.viewContainer;t?e.createEmbeddedView(this._noDataRow.templateRef):e.clear(),this._isShowingNoDataRow=t}}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.u),i.Ob(i.h),i.Ob(i.l),i.Zb("role"),i.Ob(gs,8),i.Ob(o),i.Ob(as),i.Ob(Ts,8),i.Ob(pU,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,kU,1),i.Hb(n,uU,1),i.Hb(n,SU,1),i.Hb(n,yU,1),i.Hb(n,TU,1)),2&t){let t;i.lc(t=i.cc())&&(e._noDataRow=t.first),i.lc(t=i.cc())&&(e._contentColumnDefs=t),i.lc(t=i.cc())&&(e._contentRowDefs=t),i.lc(t=i.cc())&&(e._contentHeaderRowDefs=t),i.lc(t=i.cc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(i.yc(AU,3),i.yc(PU,3),i.yc(DU,3),i.yc(RU,3)),2&t){let t;i.lc(t=i.cc())&&(e._rowOutlet=t.first),i.lc(t=i.cc())&&(e._headerRowOutlet=t.first),i.lc(t=i.cc())&&(e._footerRowOutlet=t.first),i.lc(t=i.cc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[i.Cb([{provide:iU,useExisting:t},{provide:Ts,useClass:ys},{provide:pU,useClass:mU}])],ngContentSelectors:eU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(i.hc(tU),i.gc(0),i.gc(1,1),i.Qb(2,0),i.Qb(3,1),i.Qb(4,2),i.Qb(5,3))},directives:[PU,AU,RU,DU],encapsulation:2}),t})();function LU(t,e){return t.concat(Array.from(e))}let NU=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[Es]]}),t})();const MU=[[["caption"]],[["colgroup"],["col"]]],jU=["caption","colgroup, col"];let FU=(()=>{class t extends UU{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return VU(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[i.Cb([{provide:Ts,useClass:ys},{provide:UU,useExisting:t},{provide:iU,useExisting:t},{provide:pU,useClass:mU}]),i.Ab],ngContentSelectors:jU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(i.hc(MU),i.gc(0),i.gc(1,1),i.Qb(2,0),i.Qb(3,1),i.Qb(4,2),i.Qb(5,3))},directives:[PU,AU,RU,DU],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),t})();const VU=i.Wb(FU);let BU=(()=>{class t extends rU{}return t.\u0275fac=function(e){return HU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matCellDef",""]],features:[i.Cb([{provide:rU,useExisting:t}]),i.Ab]}),t})();const HU=i.Wb(BU);let qU=(()=>{class t extends sU{}return t.\u0275fac=function(e){return zU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matHeaderCellDef",""]],features:[i.Cb([{provide:sU,useExisting:t}]),i.Ab]}),t})();const zU=i.Wb(qU);let GU=(()=>{class t extends uU{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return YU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[i.Cb([{provide:uU,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),i.Ab]}),t})();const YU=i.Wb(GU);let WU=(()=>{class t extends hU{}return t.\u0275fac=function(e){return KU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[i.Ab]}),t})();const KU=i.Wb(WU);let $U=(()=>{class t extends dU{}return t.\u0275fac=function(e){return XU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[i.Ab]}),t})();const XU=i.Wb($U);let JU=(()=>{class t extends yU{}return t.\u0275fac=function(e){return QU(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[i.Cb([{provide:yU,useExisting:t}]),i.Ab]}),t})();const QU=i.Wb(JU);let ZU=(()=>{class t extends SU{}return t.\u0275fac=function(e){return tL(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[i.Cb([{provide:SU,useExisting:t}]),i.Ab]}),t})();const tL=i.Wb(ZU);let eL=(()=>{class t extends CU{}return t.\u0275fac=function(e){return nL(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[i.Cb([{provide:CU,useExisting:t}]),i.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&i.Qb(0,0)},directives:[xU],encapsulation:2}),t})();const nL=i.Wb(eL);let iL=(()=>{class t extends EU{}return t.\u0275fac=function(e){return rL(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[i.Cb([{provide:EU,useExisting:t}]),i.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&i.Qb(0,0)},directives:[xU],encapsulation:2}),t})();const rL=i.Wb(iL);let sL=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[NU,yh],yh]}),t})();class oL extends class{}{constructor(t=[]){super(),this._renderData=new Ct([]),this._filter=new Ct(""),this._internalPageChanges=new St.a,this._renderChangesSubscription=Ee.a.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(Cr(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let r=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof r,a=typeof s;o!==a&&("number"===o&&(r+=""),"number"===a&&(s+=""));let c=0;return null!=r&&null!=s?r>s?c=1:r<s&&(c=-1):null!=r?c=1:null!=s&&(c=-1),c*("asc"==i?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new Ct(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(Os.a)(this._sort.sortChange,this._sort.initialized):Object(Tt.a)(null),e=this._paginator?Object(Os.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Tt.a)(null),n=Nt([this._data,this._filter]).pipe(Object(Gt.a)(([t])=>this._filterData(t))),i=Nt([n,t]).pipe(Object(Gt.a)(([t])=>this._orderData(t))),r=Nt([i,e]).pipe(Object(Gt.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=r.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}const aL=["datalogTable"];function cL(t,e){1&t&&(i.Ub(0,"th",13),i.uc(1," Id. "),i.Tb())}function uL(t,e){if(1&t&&(i.Ub(0,"td",14),i.uc(1),i.Tb()),2&t){const t=e.$implicit;i.Db(1),i.vc(t.id)}}function lL(t,e){1&t&&(i.Ub(0,"th",15),i.uc(1," Action "),i.Tb())}function hL(t,e){if(1&t&&(i.Ub(0,"td",16),i.uc(1),i.Tb()),2&t){const t=e.$implicit;i.Db(1),i.vc(t.msg)}}function dL(t,e){1&t&&i.Pb(0,"tr",17)}function fL(t,e){1&t&&i.Pb(0,"tr",18)}const pL=[{path:"signin",component:kR},{path:"profile",component:PR},{path:"code",component:ER},{path:"levelSelect",component:ZR},{path:"tutorials",component:ZR},{path:"play",component:(()=>{class t{constructor(t,e,n,i,r){if(this.route=t,this.changeDetectorRefs=e,this.db=n,this.Auth=i,this.router=r,this.run=new St.a,this.testmode=!1,this.nullprogramData=null,this.logColumns=["id","msg"],this.logData=new oL,this.actionLog=[],this.actionlogNum=1,this.started=!1,i.checkSigninStatus()){var s=this;n.getUserData(i.getUser().uid,function(t){console.log("Recieved UserData"),s.userData=t}),t.queryParams.subscribe(t=>{this.levData=t.l,this.progData=t.p})}else r.navigate(["/signin"])}startGame(){this.run.next(!0)}newGameAction(t){switch(console.log("called"),t.actionId){case"GameEnd2":this.addActionToLog("You lost the game");break;case"GameEnd1":this.addActionToLog("You won the game"),this.addWinToPlayer();break;case"NoEvent":this.addActionToLog("Nothing Happened");break;case"Attack":this.addActionToLog("Unit "+t.doer.id+" attacked unit "+t.receiver.id),t.hasDied&&this.addActionToLog("Unit "+t.receiver.id+" died");break;case"Wait":this.addActionToLog("Unit "+t.doer.id+" Waited");break;case"North":case"East":case"South":case"West":this.addActionToLog("Unit "+t.doer.id+" moved "+t.actionId);break;default:this.addActionToLog('Unexpected action: "'+t.actionId+'"'+t.doer.id)}this.changeDetectorRefs.detectChanges(),console.log("length "+this.actionLog.length)}addActionToLog(t){this.actionLog.push({id:this.actionlogNum,msg:t}),this.logData.data=this.actionLog,this.actionlogNum++,this.datalogTable.nativeElement.scrollTop=this.datalogTable.nativeElement.scrollHeight}addWinToPlayer(){null!=this.userData?this.userData.CompletedLevels.indexOf(parseInt(this.levData))<0&&(this.userData.CompletedLevels.push(parseInt(this.levData)),this.db.setUserData(this.Auth.getUser().uid,this.userData)):console.log("Database is taking wayyyy too long")}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Nn),i.Ob(i.h),i.Ob(VP),i.Ob(BP),i.Ob(er))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-levelplay"]],viewQuery:function(t,e){if(1&t&&i.yc(aL,1,i.l),2&t){let t;i.lc(t=i.cc())&&(e.datalogTable=t.first)}},decls:18,vars:10,consts:[["id","playspace",3,"testMode","programData","run","gameLevelDataNum","gamePlayerDataNum","gameActionLogger"],["id","ActionLog"],["mat-table","",3,"dataSource"],["datalogTable",""],["matColumnDef","id"],["mat-header-cell","","class","idCol",4,"matHeaderCellDef"],["mat-cell","","class","idCol",4,"matCellDef"],["matColumnDef","msg"],["mat-header-cell","","class","actionCol",4,"matHeaderCellDef"],["mat-cell","","class","actionCol",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","",3,"click"],["mat-header-cell","",1,"idCol"],["mat-cell","",1,"idCol"],["mat-header-cell","",1,"actionCol"],["mat-cell","",1,"actionCol"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(i.Ub(0,"h1"),i.uc(1),i.Tb(),i.Ub(2,"app-level",0),i.bc("gameActionLogger",function(t){return e.newGameAction(t)}),i.Tb(),i.Ub(3,"div",1),i.Ub(4,"h2"),i.uc(5,"Action Log"),i.Tb(),i.Ub(6,"table",2,3),i.Sb(8,4),i.tc(9,cL,2,0,"th",5),i.tc(10,uL,2,1,"td",6),i.Rb(),i.Sb(11,7),i.tc(12,lL,2,0,"th",8),i.tc(13,hL,2,1,"td",9),i.Rb(),i.tc(14,dL,1,0,"tr",10),i.tc(15,fL,1,0,"tr",11),i.Tb(),i.Ub(16,"button",12),i.bc("click",function(){return e.startGame()}),i.uc(17,"Start Game"),i.Tb(),i.Tb()),2&t&&(i.Db(1),i.wc("Level ",e.levData,""),i.Db(1),i.ic("testMode",e.testmode)("programData",e.nullprogramData)("run",e.run)("gameLevelDataNum",e.levData)("gamePlayerDataNum",e.progData),i.Db(4),i.ic("dataSource",e.logData),i.Db(8),i.ic("matHeaderRowDef",e.logColumns)("matHeaderRowDefSticky",!0),i.Db(1),i.ic("matRowDefColumns",e.logColumns))},directives:[nD,FU,GU,qU,BU,JU,ZU,cD,WU,$U,eL,iL],styles:["#playspace[_ngcontent-%COMP%]{display:block;margin:30px 30px 50px;height:600px;width:600px;float:left}#ActionLog[_ngcontent-%COMP%]{float:right;width:600px;margin-right:30px}table[_ngcontent-%COMP%]{display:block;margin:30px auto 50px;width:600px;height:300px;overflow:auto;background-color:#1c2541}.idCol[_ngcontent-%COMP%]{width:80px}.actionCol[_ngcontent-%COMP%], .idCol[_ngcontent-%COMP%]{color:#2cdd3e;font-weight:500}.actionCol[_ngcontent-%COMP%]{width:520px}tr[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:30px;font-weight:500}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2cdd3e;font-family:Roboto;text-align:center;margin-top:40px}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:400}"]}),t})()},{path:"docs",component:DR},{path:"level",component:nD},{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-home"]],decls:94,vars:0,consts:[[1,"bigDave"],["src","assets/logo.png","alt","this is an image",1,"leftElement"],[1,"textBox","rightElement"],["mat-button","","routerLink","./signin"],[1,"spacer"],[1,"textBox","leftElement"],["src","assets/stockimages/code-editor-screenshot.png","alt","this is an image",1,"rightElement"],["id","mission"],[1,"missioncell"],[1,"cellP"],["id","team"],[1,"teamrow"],[1,"teamcol"],[1,"teamcell"],["src","assets/pfp/kd.jpg","alt","this is an image",1,"missionImg"],["href","https://www.linkedin.com/in/kyle-jacob-dulce/"],["href","https://github.com/KyleDulce"],["src","assets/pfp/ja.jpg","alt","this is an image",1,"missionImg"],["href","https://www.linkedin.com/in/john-amiscaray-7333a91b2/"],["href","https://github.com/john-amiscaray"],["src","assets/pfp/ha.png","alt","this is an image",1,"missionImg"],["href","https://www.linkedin.com/in/hanna-frances-b-9a38491b5/"],["href","https://github.com/Hanna-Frances"]],template:function(t,e){1&t&&(i.Ub(0,"body"),i.Ub(1,"h1"),i.uc(2,"SCRIPTING SEIGE"),i.Tb(),i.Ub(3,"div",0),i.Pb(4,"img",1),i.Ub(5,"div",2),i.Ub(6,"span"),i.Ub(7,"h1"),i.uc(8,"Program Your units."),i.Pb(9,"br"),i.uc(10,"Win the war."),i.Tb(),i.Pb(11,"br"),i.Ub(12,"p"),i.uc(13,"Scripting Siege is a free educational game for both beginner and intermediate programmers"),i.Tb(),i.Ub(14,"button",3),i.uc(15,"> PLAY"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Pb(16,"div",4),i.Ub(17,"div",0),i.Ub(18,"div",5),i.Ub(19,"h1"),i.uc(20,"Learn to Code. For Free"),i.Tb(),i.Pb(21,"br"),i.Pb(22,"br"),i.Ub(23,"p"),i.uc(24," Scripting siege is a free educational game for both beginner and intermediate programmers. "),i.Pb(25,"br"),i.Pb(26,"br"),i.uc(27,"Choose between easy to read blockcode or program your units with javascript. "),i.Tb(),i.Tb(),i.Pb(28,"img",6),i.Tb(),i.Ub(29,"h1"),i.uc(30,"OUR MISSION"),i.Tb(),i.Ub(31,"table",7),i.Ub(32,"tr"),i.Ub(33,"td"),i.Ub(34,"div",8),i.Ub(35,"h2"),i.uc(36,"Learn"),i.Tb(),i.Ub(37,"p",9),i.uc(38,"Understand the basics of JavaScript with Scripting seige!"),i.Tb(),i.Tb(),i.Tb(),i.Ub(39,"td"),i.Ub(40,"div",8),i.Ub(41,"h2"),i.uc(42,"Practice"),i.Tb(),i.Ub(43,"p",9),i.uc(44,"Many levels to play with!"),i.Tb(),i.Tb(),i.Tb(),i.Ub(45,"td"),i.Ub(46,"div",8),i.Ub(47,"h2"),i.uc(48,"Improve"),i.Tb(),i.Ub(49,"p",9),i.uc(50,"As your characters get smarter, so do you!"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Pb(51,"div",4),i.Pb(52,"div",4),i.Pb(53,"div",4),i.Pb(54,"div",4),i.Pb(55,"div",4),i.Pb(56,"div",4),i.Ub(57,"h1"),i.uc(58,"OUR TEAM"),i.Tb(),i.Ub(59,"table",10),i.Ub(60,"tr",11),i.Ub(61,"td",12),i.Ub(62,"div",13),i.Pb(63,"img",14),i.Ub(64,"p",9),i.uc(65,"My name is Kyle Dulce and I am a Software Engineering Student at the University of Ottawa. I have a passion for learning about software development and developing software of my own. "),i.Pb(66,"br"),i.Ub(67,"a",15),i.uc(68,"My LinkedIn"),i.Tb(),i.Pb(69,"br"),i.Ub(70,"a",16),i.uc(71,"My Github"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(72,"td",12),i.Ub(73,"div",13),i.Pb(74,"img",17),i.Ub(75,"p",9),i.uc(76,"My name is John Amiscaray, a computer science student at Ryerson University. I am an aspiring software engineer always trying to perfect his skill and look for new opportunities. "),i.Pb(77,"br"),i.Ub(78,"a",18),i.uc(79,"My LinkedIn"),i.Tb(),i.Pb(80,"br"),i.Ub(81,"a",19),i.uc(82,"My Github"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(83,"td",12),i.Ub(84,"div",13),i.Pb(85,"img",20),i.Ub(86,"p",9),i.uc(87,"I'm Hanna Bobis and I am a Computer Science undergraduate at Ryerson University. I did the art and helped with designing the webpage. "),i.Pb(88,"br"),i.Ub(89,"a",21),i.uc(90,"My LinkedIn"),i.Tb(),i.Pb(91,"br"),i.Ub(92,"a",22),i.uc(93,"My Github"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb())},directives:[cD,nr],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-top:50px;font-size:30px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2cdd3e;font-family:Roboto;font-weight:500}h2[_ngcontent-%COMP%]{font-size:25px}p[_ngcontent-%COMP%]{font-family:Roboto;font-weight:200;font-size:20px}a[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#2cdd3e}button[_ngcontent-%COMP%]{color:#038c1f;background-color:#2cdd3e}.bigDave[_ngcontent-%COMP%]{height:500px;width:1000px;margin-left:auto;margin-right:auto}.rightElement[_ngcontent-%COMP%]{display:inline-block;height:500px;vertical-align:middle;text-align:center}.rightElement[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{vertical-align:middle;display:inline}.leftElement[_ngcontent-%COMP%]{display:inline-block;height:500px;vertical-align:middle;text-align:center}.leftElement[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{vertical-align:middle;display:inline}.textBox[_ngcontent-%COMP%]{width:500px;height:500px;margin-top:100px}#mission[_ngcontent-%COMP%]{height:50px}#mission[_ngcontent-%COMP%], #team[_ngcontent-%COMP%]{width:1000px;position:relative}.missioncell[_ngcontent-%COMP%]{text-align:center;padding:30px 10px;background-color:#1c2541;margin:20px;width:30%;border-radius:10px;position:absolute;height:100px}.teamrow[_ngcontent-%COMP%]{position:relative}.teamcol[_ngcontent-%COMP%]{width:248px;padding:0}.teamcell[_ngcontent-%COMP%]{text-align:center;padding:30px 10px;margin:20px;width:300px}.missionImg[_ngcontent-%COMP%]{height:200px;margin-bottom:30px}.spacer[_ngcontent-%COMP%]{height:30px}.cellP[_ngcontent-%COMP%]{font-size:15px;color:#10c6f9}table[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),t})()},{path:"learn-js",component:(()=>{class t{constructor(t,e,n){this.viewPortScroller=t,this.auth=e,this.router=n}ngOnInit(){this.auth.checkSigninStatus()||this.router.navigate([""])}scrollToSection(t){this.viewPortScroller.scrollToAnchor(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(B),i.Ob(BP),i.Ob(er))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-javascript-guid"]],decls:847,vars:27,consts:[["id","main-header"],["id","title"],["id","main-content"],["id","book-marks"],[3,"click"],["id","docs-content"],["id","all-you-need-to-know-about-javascript"],["href","https://youtu.be/PkZNo7MFNFg",1,"link"],["id","getting-started"],["href","https://code.visualstudio.com/",1,"link"],["href","https://code.sololearn.com/web/",1,"link"],["href","https://www.sololearn.com/learning/1024",1,"link"],["id","variables-in-javascript"],[1,"lang-Javascript"],[1,"hljs-attribute"],[1,"hljs-number"],[1,"hljs-comment"],[1,"hljs-built_in"],[1,"lang-javascript"],["id","conditional-statements"],[1,"hljs-keyword"],[1,"hljs-literal"],[1,"hljs-string"],["id","arrays"],["id","for-loops"],["id","functions"],["id","objects"],["id","bonus-tips-to-maintain-your-code"],[1,"hljs-type"],["id","conclusion"],["href","./Getting%20Started%20With%20Coding%20a%20Scripting%20Siege%20Unit.md",1,"link"]],template:function(t,e){if(1&t){i.Ub(0,"header",0),i.Ub(1,"h1",1),i.uc(2,"Everything Javascript"),i.Tb(),i.Tb(),i.Ub(3,"div",2),i.Ub(4,"div",3),i.Ub(5,"a"),i.Ub(6,"h3",4),i.bc("click",function(){return e.scrollToSection("variables-in-javascript")}),i.uc(7,"Variables"),i.Tb(),i.Tb(),i.Ub(8,"a"),i.Ub(9,"h3",4),i.bc("click",function(){return e.scrollToSection("conditional-statements")}),i.uc(10,"Conditional Statements"),i.Tb(),i.Tb(),i.Ub(11,"a"),i.Ub(12,"h3",4),i.bc("click",function(){return e.scrollToSection("arrays")}),i.uc(13,"Arrays"),i.Tb(),i.Tb(),i.Ub(14,"a"),i.Ub(15,"h3",4),i.bc("click",function(){return e.scrollToSection("for-loops")}),i.uc(16,"For Loops"),i.Tb(),i.Tb(),i.Ub(17,"a"),i.Ub(18,"h3",4),i.bc("click",function(){return e.scrollToSection("functions")}),i.uc(19,"Functions"),i.Tb(),i.Tb(),i.Ub(20,"a"),i.Ub(21,"h3",4),i.bc("click",function(){return e.scrollToSection("objects")}),i.uc(22,"Objects"),i.Tb(),i.Tb(),i.Ub(23,"a"),i.Ub(24,"h3",4),i.bc("click",function(){return e.scrollToSection("bonus-tips-to-maintain-your-code")}),i.uc(25,"Bonus Tips"),i.Tb(),i.Tb(),i.Tb(),i.Ub(26,"div",5),i.Ub(27,"h1",6),i.uc(28,"Introduction"),i.Tb(),i.Ub(29,"p"),i.uc(30,"To get started coding your Scripting Siege units in Javascript, you of course need to the basics of the language first! This guide will try to cover the bare basics you'll need to know to write meaningful code to control your units. Keep in mind however that there is a lot to know about Javascript to fit into this guide. We\u2019ve tried our best to give a deep overview of Javascript in a way that\u2019s concise yet understandable. However, if you feel that this guide may be too fast for you, feel free to look for resources to learn at your own pace. There are many good free guides online particularly on Youtube. You could also use them to supplement what you\u2019ve learned from reading this. We highly recommend you do so since there may be some stuff we missed here that could be useful to you. In particular, we recommend this full and free "),i.Ub(31,"a",7),i.uc(32,"Javascript course"),i.Tb(),i.uc(33," by "),i.Ub(34,"em"),i.uc(35,"freecodecamp"),i.Tb(),i.uc(36,"."),i.Tb(),i.Ub(37,"h1",8),i.uc(38,"Getting Started"),i.Tb(),i.Ub(39,"p"),i.uc(40,"One of the beautiful things about Javascript is that it is a very easy language to set up. As long as you have a browser on your computer, you can write and run Javascript code. Open up your browser and right-click any page. Then click inspect element which should open up a console somewhere (this can vary depending on your browser). In that console, you can start writing random Javascript code and instantly see what it does. The reason this exists is because Javascript is the language of the web. Practically all websites or web applications use Javascript in one way or another. For this reason, you\u2019ll typically see Javascript partnered with HTML and CSS (two languages specialized in designing web pages). Yet, Javascript isn\u2019t just limited to the web, it has evolved for you to use it just about anywhere. This is part of the reason it is now one of the most popular languages among developers. Anyways, if you want to get started writing and playing around with Javascript, we recommend using an IDE (integrated development environment). This is basically a fancy text editor to help you code. One of the more popular IDEs for Javascript developers is "),i.Ub(41,"a",9),i.uc(42,"vscode"),i.Tb(),i.uc(43," which is completely free and provides useful tools for you to code more efficiently. Although you can also use an online IDE like the one provided by "),i.Ub(44,"a",10),i.uc(45,"Sololearn"),i.Tb(),i.uc(46,". Sololearn has a "),i.Ub(47,"a",11),i.uc(48,"free Javascript course"),i.Tb(),i.uc(49," you can use to help you better understand the concepts here or learn even further. Anyways, now that you some background knowledge of Javascript, let\u2019s start learning."),i.Tb(),i.Ub(50,"h1",12),i.uc(51,"Variables in Javascript"),i.Tb(),i.Ub(52,"p"),i.uc(53,"You can use variables in Javascript to store information with the desired name for it. The basic syntax for declaring a variable is like so:"),i.Tb(),i.Ub(54,"pre"),i.Ub(55,"code",13),i.Ub(56,"span",14),i.uc(57,"let number"),i.Tb(),i.uc(58," = 19;\n"),i.Tb(),i.Tb(),i.Ub(59,"blockquote"),i.Ub(60,"p"),i.uc(61,"Note that we end the statement with a semicolon. It is a good convention but not required. However, other programming languages will require this."),i.Tb(),i.Tb(),i.Ub(62,"p"),i.uc(63,"Just like in math class, you'll define variables using a "),i.Ub(64,"em"),i.uc(65,"let"),i.Tb(),i.uc(66," statement. After you define the variable you can use it without that "),i.Ub(67,"em"),i.uc(68,"let"),i.Tb(),i.uc(69," word before it. Keep in mind that you cannot have a variable name with spaces, numbers, or some special characters. Also, note that in Javascript "),i.Ub(70,"em"),i.uc(71,"="),i.Tb(),i.uc(72," does not mean equality but instead it is used to assign or reassign a value to a variable. For example, we can do this:"),i.Tb(),i.Ub(73,"pre"),i.Ub(74,"code",13),i.Ub(75,"span",14),i.uc(76,"number"),i.Tb(),i.uc(77," = "),i.Ub(78,"span",15),i.uc(79,"20"),i.Tb(),i.Ub(80,"span",16),i.uc(81,";"),i.Tb(),i.uc(82,"\n"),i.Tb(),i.Tb(),i.Ub(83,"p"),i.uc(84,"To give that number variable a new value of 20. Variables can hold anything from booleans ("),i.Ub(85,"code"),i.uc(86,"true"),i.Tb(),i.uc(87," or "),i.Ub(88,"code"),i.uc(89,"false"),i.Tb(),i.uc(90,"), text (commonly known as strings), numbers, or even objects (we will discuss what those are later). Now if you wanted to increase the value stored in number by 1 you would do something like this:"),i.Tb(),i.Ub(91,"pre"),i.Ub(92,"code",13),i.Ub(93,"span",17),i.uc(94,"number"),i.Tb(),i.uc(95," = "),i.Ub(96,"span",17),i.uc(97,"number"),i.Tb(),i.uc(98," + "),i.Ub(99,"span",15),i.uc(100,"1"),i.Tb(),i.uc(101,";\n"),i.Tb(),i.Tb(),i.Ub(102,"p"),i.uc(103,"Remember that "),i.Ub(104,"em"),i.uc(105,"="),i.Tb(),i.uc(106," does not mean equality but instead we use it to give a variable a new value. So what we are doing here is setting the value of "),i.Ub(107,"code"),i.uc(108,"number"),i.Tb(),i.uc(109," to whatever value is in number plus 1. Javascript gives us a useful shortcut to increase a number variable by 1:"),i.Tb(),i.Ub(110,"pre"),i.Ub(111,"code",13),i.Ub(112,"span",17),i.uc(113,"number"),i.Tb(),i.uc(114,"++;\n"),i.Tb(),i.Tb(),i.Ub(115,"p"),i.uc(116,"You can also use a similar statement to decrease the value of "),i.Ub(117,"code"),i.uc(118,"number"),i.Tb(),i.uc(119," by 1:"),i.Tb(),i.Ub(120,"pre"),i.Ub(121,"code",13),i.Ub(122,"span",17),i.uc(123,"number"),i.Tb(),i.Ub(124,"span",16),i.uc(125,"--;"),i.Tb(),i.uc(126,"\n"),i.Tb(),i.Tb(),i.Ub(127,"p"),i.uc(128,"Although, there is also another shortcut if you want to increase or decrease the value of a variable by a value not equal to 1:"),i.Tb(),i.Ub(129,"pre"),i.Ub(130,"code",18),i.Ub(131,"span",17),i.uc(132,"number"),i.Tb(),i.uc(133," += "),i.Ub(134,"span",15),i.uc(135,"12"),i.Tb(),i.Ub(136,"span",16),i.uc(137,";"),i.Tb(),i.uc(138,"\n"),i.Ub(139,"span",17),i.uc(140,"Number"),i.Tb(),i.uc(141," -= "),i.Ub(142,"span",15),i.uc(143,"12"),i.Tb(),i.Ub(144,"span",16),i.uc(145,";"),i.Tb(),i.uc(146,"\n"),i.Tb(),i.Tb(),i.Ub(147,"h1",19),i.uc(148,"Conditional Statements"),i.Tb(),i.Ub(149,"p"),i.uc(150,"Remember how we mentioned that we can store true or false values in variables? We can use true or false values to create what are called "),i.Ub(151,"em"),i.uc(152,"if statements"),i.Tb(),i.uc(153,". An "),i.Ub(154,"em"),i.uc(155,"if statement"),i.Tb(),i.uc(156," is pretty much some code that tells Javascript "),i.Ub(157,"em"),i.uc(158,"if this is true, then do this"),i.Tb(),i.uc(159,". An if statement can optionally have an else statement following it to give instructions if whatever you were checking is false. As an example, we can do the following:"),i.Tb(),i.Ub(160,"pre"),i.Ub(161,"code",13),i.Ub(162,"span",20),i.uc(163,"let"),i.Tb(),i.uc(164," isRainingOutside = "),i.Ub(165,"span",21),i.uc(166,"true"),i.Tb(),i.uc(167,";\n"),i.Ub(168,"span",20),i.uc(169,"let"),i.Tb(),i.uc(170," result = "),i.Ub(171,"span",22),i.uc(172,"''"),i.Tb(),i.uc(173,";\n"),i.Ub(174,"span",20),i.uc(175,"if"),i.Tb(),i.uc(176),i.Ub(177,"span",22),i.uc(178,"'Bring an umbrella!'"),i.Tb(),i.uc(179),i.Ub(180,"span",20),i.uc(181,"else"),i.Tb(),i.uc(182),i.Ub(183,"span",22),i.uc(184,"'What a nice day!'"),i.Tb(),i.uc(185),i.Tb(),i.Tb(),i.Ub(186,"blockquote"),i.Ub(187,"p"),i.uc(188,"Notice that we gave the result variable a value that is some text in quotation marks. This is how you set a variable to have a string (text) value."),i.Tb(),i.Tb(),i.Ub(189,"p"),i.uc(190,"So what we are doing here is setting "),i.Ub(191,"code"),i.uc(192,"isRainingOutside"),i.Tb(),i.uc(193," to true. Then we tell Javascript, if "),i.Ub(194,"code"),i.uc(195,"isRainingOutside"),i.Tb(),i.uc(196," is true, then set "),i.Ub(197,"code"),i.uc(198,"result"),i.Tb(),i.uc(199," to the value "),i.Ub(200,"code"),i.uc(201,"'Bring an umbrella!'"),i.Tb(),i.uc(202," otherwise, we set it to "),i.Ub(203,"code"),i.uc(204,"'What a nice day!'"),i.Tb(),i.uc(205,". This isn't too useful because we know the value of "),i.Ub(206,"code"),i.uc(207,"isRainingOutside"),i.Tb(),i.uc(208," ahead of time. Yet when you read game data from Scripting Siege this won't be the case. Also, Javascript has what is called "),i.Ub(209,"code"),i.uc(210,"conditional operators"),i.Tb(),i.uc(211," which are used to test certain conditions about data. For example, we can do something like this:"),i.Tb(),i.Ub(212,"pre"),i.Ub(213,"code",13),i.Ub(214,"span",20),i.uc(215,"let"),i.Tb(),i.uc(216," age = "),i.Ub(217,"span",15),i.uc(218,"19"),i.Tb(),i.uc(219,";\n"),i.Ub(220,"span",20),i.uc(221,"let"),i.Tb(),i.uc(222," "),i.Ub(223,"span",21),i.uc(224,"result"),i.Tb(),i.uc(225," = '';\n"),i.Ub(226,"span",20),i.uc(227,"if"),i.Tb(),i.uc(228,"(age >= "),i.Ub(229,"span",15),i.uc(230,"19"),i.Tb(),i.uc(231),i.Ub(232,"span",21),i.uc(233,"result"),i.Tb(),i.uc(234," = "),i.Ub(235,"span",22),i.uc(236,'"Here\'s some alcohol."'),i.Tb(),i.uc(237),i.Ub(238,"span",20),i.uc(239,"else"),i.Tb(),i.uc(240),i.Ub(241,"span",21),i.uc(242,"result"),i.Tb(),i.uc(243," = "),i.Ub(244,"span",22),i.uc(245,"\"Hey that's illegal you can't drink!\""),i.Tb(),i.uc(246),i.Tb(),i.Tb(),i.Ub(247,"blockquote"),i.Ub(248,"p"),i.uc(249,"Notice in the string values we have single quotes inside. If you intend to use text that contains single quotes, you need to wrap it in double-quotes. This way, you don't confuse Javascript into thinking you are trying to make another string."),i.Tb(),i.Tb(),i.Ub(250,"p"),i.uc(251,"Here, we say that if age is greater than or equal to 19 then we give the person some alcohol, otherwise we don't. But let's say the person may or may not like alcohol to begin with, we can't just give them alcohol if they don't want it. We can solve this issue like so:"),i.Tb(),i.Ub(252,"pre"),i.Ub(253,"code",13),i.Ub(254,"span",20),i.uc(255,"let"),i.Tb(),i.uc(256," age = "),i.Ub(257,"span",15),i.uc(258,"19"),i.Tb(),i.uc(259,";\n"),i.Ub(260,"span",20),i.uc(261,"let"),i.Tb(),i.uc(262," likesAlcohol = "),i.Ub(263,"span",21),i.uc(264,"false"),i.Tb(),i.uc(265,";\n"),i.Ub(266,"span",20),i.uc(267,"let"),i.Tb(),i.uc(268," "),i.Ub(269,"span",21),i.uc(270,"result"),i.Tb(),i.uc(271," = '';\n"),i.Ub(272,"span",20),i.uc(273,"if"),i.Tb(),i.uc(274,"(age >= "),i.Ub(275,"span",15),i.uc(276,"19"),i.Tb(),i.uc(277),i.Ub(278,"span",21),i.uc(279,"result"),i.Tb(),i.uc(280," = "),i.Ub(281,"span",22),i.uc(282,'"Here\'s some alcohol."'),i.Tb(),i.uc(283),i.Ub(284,"span",20),i.uc(285,"else"),i.Tb(),i.uc(286," "),i.Ub(287,"span",20),i.uc(288,"if"),i.Tb(),i.uc(289,"(age >= "),i.Ub(290,"span",15),i.uc(291,"19"),i.Tb(),i.uc(292),i.Ub(293,"span",21),i.uc(294,"result"),i.Tb(),i.uc(295," = "),i.Ub(296,"span",22),i.uc(297,'"Oh you don\'t like alcohol my bad."'),i.Tb(),i.uc(298),i.Ub(299,"span",20),i.uc(300,"else"),i.Tb(),i.uc(301),i.Ub(302,"span",21),i.uc(303,"result"),i.Tb(),i.uc(304," = "),i.Ub(305,"span",22),i.uc(306,"\"Hey that's illegal you can't drink!\""),i.Tb(),i.uc(307),i.Tb(),i.Tb(),i.Ub(308,"p"),i.uc(309,"This is a little more involved, but we'll go through it step by step. We first check if their age is greater than or equal to 19, and (&& means and) the "),i.Ub(310,"code"),i.uc(311,"likesAlcohol"),i.Tb(),i.uc(312," variable is true. If this is the case then we set "),i.Ub(313,"code"),i.uc(314,"result"),i.Tb(),i.uc(315," to "),i.Ub(316,"code"),i.uc(317,'"Here\'s some alcohol."'),i.Tb(),i.uc(318,". If this is false, we then check if they're 19 and don't like alcohol (! means not). In which case we set "),i.Ub(319,"code"),i.uc(320,"result"),i.Tb(),i.uc(321," to "),i.Ub(322,"code"),i.uc(323,'"Oh you don\'t like alcohol my bad."'),i.Tb(),i.uc(324," . Otherwise, if that's not true then their age must be less than 19, meaning they are not legal drinking age (at least where we are sorry Americans). If this is true then we set "),i.Ub(325,"code"),i.uc(326,"result"),i.Tb(),i.uc(327," to "),i.Ub(328,"code"),i.uc(329,"\"Hey that's illegal you can't drink!\""),i.Tb(),i.uc(330,". You may be wondering what that "),i.Ub(331,"code"),i.uc(332,"else if"),i.Tb(),i.uc(333," part does. What it does is if the first condition in the "),i.Ub(334,"code"),i.uc(335,"if"),i.Tb(),i.uc(336," statement is not met, then it checks the condition in the "),i.Ub(337,"code"),i.uc(338,"else if"),i.Tb(),i.uc(339,". Otherwise, if neither is true then we do whatever is in the "),i.Ub(340,"code"),i.uc(341,"else"),i.Tb(),i.uc(342," statement. If the first condition is met, then Javascript doesn't even check the "),i.Ub(343,"code"),i.uc(344,"else if"),i.Tb(),i.uc(345," condition. In this example, we only used 1 "),i.Ub(346,"code"),i.uc(347,"else if"),i.Tb(),i.uc(348," statement but you can use as much as you need. Small note, notice how in Javascript "),i.Ub(349,"em"),i.uc(350,"&&"),i.Tb(),i.uc(351," means and, if you wanted to say "),i.Ub(352,"em"),i.uc(353,"or"),i.Tb(),i.uc(354," you would you use "),i.Ub(355,"em"),i.uc(356,"||"),i.Tb(),i.uc(357,". Also, if you want to compare if two things are equal, you would use this operator "),i.Ub(358,"code"),i.uc(359,"==="),i.Tb(),i.uc(360,"."),i.Tb(),i.Ub(361,"h1",23),i.uc(362,"Arrays"),i.Tb(),i.Ub(363,"p"),i.uc(364,"An array in Javascript is simply a list of any values you want. They take this basic syntax:"),i.Tb(),i.Ub(365,"pre"),i.Ub(366,"code",13),i.uc(367,"let nums = ["),i.Ub(368,"span",15),i.uc(369,"9"),i.Tb(),i.uc(370,", "),i.Ub(371,"span",15),i.uc(372,"12"),i.Tb(),i.uc(373,", "),i.Ub(374,"span",15),i.uc(375,"3"),i.Tb(),i.uc(376,", "),i.Ub(377,"span",15),i.uc(378,"4"),i.Tb(),i.uc(379,", "),i.Ub(380,"span",15),i.uc(381,"1"),i.Tb(),i.uc(382,"];\n"),i.Tb(),i.Tb(),i.Ub(383,"p"),i.uc(384,"Javascript numbers each item in the array in order from 0 to the number of items - 1. So in this example, we have 5 items where item 0 is 9, item 1 is 12, item 2 is 3, item 3 is 4, and item 4 is 1. The number associated with the item is known as its index. Using the index we could access individual items using this syntax:"),i.Tb(),i.Ub(385,"pre"),i.Ub(386,"code",13),i.Ub(387,"span",14),i.uc(388,"let number"),i.Tb(),i.uc(389," = nums[1];\n"),i.Tb(),i.Tb(),i.Ub(390,"p"),i.uc(391,"In this case, we will be getting item 1 which has a value of 12. It's also important to understand that an array can also contain a bunch of inner arrays (usually called a 2D array). In Scripting Siege, you will see that we will use these 2D arrays to represent data about the in-game, grid. More precisely, you will encounter an array containing a bunch of inner arrays representing columns in the grid. In each of these inner arrays is data representing all the units on that column. For now, let us give you a simpler example of a 2D array:"),i.Tb(),i.Ub(392,"pre"),i.Ub(393,"code",13),i.uc(394,"let grid = [\n  ["),i.Ub(395,"span",15),i.uc(396,"1"),i.Tb(),i.uc(397,", "),i.Ub(398,"span",15),i.uc(399,"2"),i.Tb(),i.uc(400,", "),i.Ub(401,"span",15),i.uc(402,"3"),i.Tb(),i.uc(403,", "),i.Ub(404,"span",15),i.uc(405,"4"),i.Tb(),i.uc(406,"],\n  ["),i.Ub(407,"span",15),i.uc(408,"5"),i.Tb(),i.uc(409,", "),i.Ub(410,"span",15),i.uc(411,"6"),i.Tb(),i.uc(412,", "),i.Ub(413,"span",15),i.uc(414,"7"),i.Tb(),i.uc(415,", "),i.Ub(416,"span",15),i.uc(417,"8"),i.Tb(),i.uc(418,"],\n  ["),i.Ub(419,"span",15),i.uc(420,"9"),i.Tb(),i.uc(421,", "),i.Ub(422,"span",15),i.uc(423,"10"),i.Tb(),i.uc(424,", "),i.Ub(425,"span",15),i.uc(426,"11"),i.Tb(),i.uc(427,", "),i.Ub(428,"span",15),i.uc(429,"12"),i.Tb(),i.uc(430,"],\n  ["),i.Ub(431,"span",15),i.uc(432,"13"),i.Tb(),i.uc(433,", "),i.Ub(434,"span",15),i.uc(435,"14"),i.Tb(),i.uc(436,", "),i.Ub(437,"span",15),i.uc(438,"15"),i.Tb(),i.uc(439,", "),i.Ub(440,"span",15),i.uc(441,"16"),i.Tb(),i.uc(442,"]\n];\n\nlet item = grid["),i.Ub(443,"span",15),i.uc(444,"0"),i.Tb(),i.uc(445,"]["),i.Ub(446,"span",15),i.uc(447,"1"),i.Tb(),i.uc(448,"];\n"),i.Tb(),i.Tb(),i.Ub(449,"blockquote"),i.Ub(450,"p"),i.uc(451,"Note that the way we formatted the 2D array is just for readability, we could have defined it on one line but doing it this way is easier to read"),i.Tb(),i.Tb(),i.Ub(452,"p"),i.uc(453,"It may look a little funky seeing two consecutive square brackets with indexes in them, yet it is much simpler than it looks. Remember a 2D array is just an array with a bunch of inner arrays. So when we say "),i.Ub(454,"code"),i.uc(455,"grid[0]"),i.Tb(),i.uc(456,", we are getting the inner list at index 0. Then when we add "),i.Ub(457,"code"),i.uc(458,"[1]"),i.Tb(),i.uc(459," to the end of that, we are getting the element at index 1 of that inner array. Or in other words, "),i.Ub(460,"code"),i.uc(461,"grid[0]"),i.Tb(),i.uc(462," is itself an array, so we can retrieve items from particular indexes like so: "),i.Ub(463,"code"),i.uc(464,"grid[0][1]"),i.Tb(),i.uc(465,". So here we are getting the 2nd item of the 1st array within the grid array. This item would have the value 2."),i.Tb(),i.Ub(466,"h1",24),i.uc(467,"For loops"),i.Tb(),i.Ub(468,"p"),i.uc(469,"Next, let's have a look at what a "),i.Ub(470,"em"),i.uc(471,"for loop"),i.Tb(),i.uc(472," is. A for loop is just a way to tell Javascript to repeat some code a certain amount of times. It follows the following syntax:"),i.Tb(),i.Ub(473,"pre"),i.Ub(474,"code",13),i.Ub(475,"span",17),i.uc(476,"let"),i.Tb(),i.uc(477," "),i.Ub(478,"span",17),i.uc(479,"num"),i.Tb(),i.uc(480," = "),i.Ub(481,"span",15),i.uc(482,"0"),i.Tb(),i.uc(483,";\n"),i.Ub(484,"span",20),i.uc(485,"for"),i.Tb(),i.uc(486,"("),i.Ub(487,"span",17),i.uc(488,"let"),i.Tb(),i.uc(489," i = "),i.Ub(490,"span",15),i.uc(491,"0"),i.Tb(),i.uc(492,"; i < "),i.Ub(493,"span",15),i.uc(494,"10"),i.Tb(),i.uc(495),i.Ub(496,"span",17),i.uc(497,"num"),i.Tb(),i.uc(498),i.Tb(),i.Tb(),i.Ub(499,"p"),i.uc(500,"This might look like a bit much but once you start to break it down it's pretty straightforward. In the brackets after the "),i.Ub(501,"em"),i.uc(502,"for"),i.Tb(),i.uc(503," word, we declare a variable called "),i.Ub(504,"code"),i.uc(505,"i"),i.Tb(),i.uc(506," with a value of 0. Then we give a conditional statement, "),i.Ub(507,"code"),i.uc(508,"i < 10"),i.Tb(),i.uc(509),i.Ub(510,"code"),i.uc(511,"i++"),i.Tb(),i.uc(512," meaning we want to increase the"),i.Ub(513,"code"),i.uc(514,"i"),i.Tb(),i.uc(515,"variable by 1 after each time we run code in the curly braces. So in this example, the code in the curly braces will run 10 times, since "),i.Ub(516,"code"),i.uc(517,"i"),i.Tb(),i.uc(518," will go from 0 to 9. Notice we can also use the value of "),i.Ub(519,"code"),i.uc(520,"i"),i.Tb(),i.uc(521," within the curly braces. You'll find that using the value of "),i.Ub(522,"code"),i.uc(523,"i"),i.Tb(),i.uc(524," could be pretty useful once you start coding more. For example, you could use it to look through the items in an array:"),i.Tb(),i.Ub(525,"pre"),i.Ub(526,"code",13),i.uc(527,"let sum = "),i.Ub(528,"span",15),i.uc(529,"0"),i.Tb(),i.uc(530,";\nlet nums = ["),i.Ub(531,"span",15),i.uc(532,"1"),i.Tb(),i.uc(533,", "),i.Ub(534,"span",15),i.uc(535,"2"),i.Tb(),i.uc(536,", "),i.Ub(537,"span",15),i.uc(538,"3"),i.Tb(),i.uc(539,", "),i.Ub(540,"span",15),i.uc(541,"4"),i.Tb(),i.uc(542,", "),i.Ub(543,"span",15),i.uc(544,"5"),i.Tb(),i.uc(545,"];\nfor(let i = "),i.Ub(546,"span",15),i.uc(547,"0"),i.Tb(),i.uc(548),i.Tb(),i.Tb(),i.Ub(549,"p"),i.uc(550,"In this for loop, the i variable goes from 0 to the number of items in "),i.Ub(551,"code"),i.uc(552,"nums"),i.Tb(),i.uc(553," minus 1. This is because the loop's condition "),i.Ub(554,"em"),i.uc(555,"i < nums.length"),i.Tb(),i.uc(556," will no longer be true when i is equal to the number of items in nums ("),i.Ub(557,"code"),i.uc(558,"nums.length"),i.Tb(),i.uc(559,"), so the loop will not run at that point. This is exactly what we want because the indexes in "),i.Ub(560,"code"),i.uc(561,"nums"),i.Tb(),i.uc(562," range from 0 to the number of items in "),i.Ub(563,"code"),i.uc(564,"nums"),i.Tb(),i.uc(565," minus 1. Javascript also gives us an alternate way to look through all the items in an array:");i.Tb(),i.Ub(566,"pre"),i.Ub(567,"code",13),i.Ub(568,"span",17),i.uc(569,"let"),i.Tb(),i.uc(570," "),i.Ub(571,"span",17),i.uc(572,"sum"),i.Tb(),i.uc(573," = "),i.Ub(574,"span",15),i.uc(575,"0"),i.Tb(),i.uc(576,";\n"),i.Ub(577,"span",17),i.uc(578,"let"),i.Tb(),i.uc(579," nums = ["),i.Ub(580,"span",15),i.uc(581,"3"),i.Tb(),i.uc(582,", "),i.Ub(583,"span",15),i.uc(584,"1"),i.Tb(),i.uc(585,", "),i.Ub(586,"span",15),i.uc(587,"9"),i.Tb(),i.uc(588,", "),i.Ub(589,"span",15),i.uc(590,"2"),i.Tb(),i.uc(591,", "),i.Ub(592,"span",15),i.uc(593,"5"),i.Tb(),i.uc(594,"];\n"),i.Ub(595,"span",20),i.uc(596,"for"),i.Tb(),i.uc(597,"("),i.Ub(598,"span",17),i.uc(599,"let"),i.Tb(),i.uc(600," "),i.Ub(601,"span",17),i.uc(602,"num"),i.Tb(),i.uc(603),i.Ub(604,"span",17),i.uc(605,"sum"),i.Tb(),i.uc(606," += "),i.Ub(607,"span",17),i.uc(608,"num"),i.Tb(),i.uc(609),i.Tb(),i.Tb(),i.Ub(610,"p"),i.uc(611,"This time, in the brackets after the "),i.Ub(612,"em"),i.uc(613,"for"),i.Tb(),i.uc(614," word it says "),i.Ub(615,"code"),i.uc(616,"let num of nums"),i.Tb(),i.uc(617,". What this means is that we execute the code ("),i.Ub(618,"code"),i.uc(619,"sum += num"),i.Tb(),i.uc(620,") once for each number in "),i.Ub(621,"code"),i.uc(622,"nums"),i.Tb(),i.uc(623,". Each time we execute the code, the value of num is a unique item in the "),i.Ub(624,"code"),i.uc(625,"nums"),i.Tb(),i.uc(626," array, going in order. In other words, the first time it executes the code "),i.Ub(627,"code"),i.uc(628,"num"),i.Tb(),i.uc(629," is 3, then the next time we execute the code "),i.Ub(630,"code"),i.uc(631,"num"),i.Tb(),i.uc(632," is 1, then "),i.Ub(633,"code"),i.uc(634,"num"),i.Tb(),i.uc(635," is 9, then "),i.Ub(636,"code"),i.uc(637,"num"),i.Tb(),i.uc(638," is 2, then finally in the last time the loop executes "),i.Ub(639,"code"),i.uc(640,"num"),i.Tb(),i.uc(641," is 5."),i.Tb(),i.Ub(642,"h1",25),i.uc(643,"Functions"),i.Tb(),i.Ub(644,"p"),i.uc(645,"In programming, a function is a collection of related code that you can reuse whenever you want. Like functions in math class, they can take input and give back output, although you don't necessarily need to give an output if you don't need to. To create a function, you would do something like this:"),i.Tb(),i.Ub(646,"pre"),i.Ub(647,"code",13),i.uc(648,"function "),i.Ub(649,"span",17),i.uc(650,"sum"),i.Tb(),i.uc(651),i.Ub(652,"span",17),i.uc(653,"let"),i.Tb(),i.uc(654," "),i.Ub(655,"span",17),i.uc(656,"sum"),i.Tb(),i.uc(657," = "),i.Ub(658,"span",15),i.uc(659,"0"),i.Tb(),i.uc(660,";\n  "),i.Ub(661,"span",20),i.uc(662,"for"),i.Tb(),i.uc(663,"("),i.Ub(664,"span",17),i.uc(665,"let"),i.Tb(),i.uc(666," "),i.Ub(667,"span",17),i.uc(668,"num"),i.Tb(),i.uc(669),i.Ub(670,"span",17),i.uc(671,"sum"),i.Tb(),i.uc(672," += "),i.Ub(673,"span",17),i.uc(674,"num"),i.Tb(),i.uc(675),i.Ub(676,"span",17),i.uc(677,"return"),i.Tb(),i.uc(678," "),i.Ub(679,"span",17),i.uc(680,"sum"),i.Tb(),i.uc(681),i.Tb(),i.Tb(),i.Ub(682,"p"),i.uc(683,"Here, our function accepts an input called "),i.Ub(684,"code"),i.uc(685,"nums"),i.Tb(),i.uc(686," which we assume is an array of numbers. If it's not an array an error will probably occur, in which case it won't run. Also, if the array contains items that aren't numbers then you will probably get unexpected behavior. Thus, it is important to make sure you give this function the right input whenever you use it. Going to the contents of the function, we add all the numbers in the array to get the sum. You will notice at the end, we have this line of code: "),i.Ub(687,"code"),i.uc(688,"return sum"),i.Tb(),i.uc(689,". This is saying that the output of our function will be the sum. When we want to use this function, we would do something like this:"),i.Tb(),i.Ub(690,"pre"),i.Ub(691,"code",13),i.uc(692,"let mySum = sum(["),i.Ub(693,"span",15),i.uc(694,"1"),i.Tb(),i.uc(695,", "),i.Ub(696,"span",15),i.uc(697,"2"),i.Tb(),i.uc(698,", "),i.Ub(699,"span",15),i.uc(700,"3"),i.Tb(),i.uc(701,", "),i.Ub(702,"span",15),i.uc(703,"4"),i.Tb(),i.uc(704,"]);\n"),i.Tb(),i.Tb(),i.Ub(705,"p"),i.uc(706,"Here, we use the "),i.Ub(707,"code"),i.uc(708,"sum"),i.Tb(),i.uc(709," function with an array of numbers as an input. Then we store the output of the function in a variable called "),i.Ub(710,"code"),i.uc(711,"mySum"),i.Tb(),i.uc(712,"."),i.Tb(),i.Ub(713,"h1",26),i.uc(714,"Objects"),i.Tb(),i.Ub(715,"p"),i.uc(716,"Next, let's discuss objects in Javascript. An object is just a collection of related variables and functions that you store as a single variable. They are typically used to model a real-world thing. For example, we can create an object to represent a dog:"),i.Tb(),i.Ub(717,"pre"),i.Ub(718,"code",13),i.Ub(719,"span",14),i.uc(720,"let myDoggo"),i.Tb(),i.uc(721),i.Ub(722,"span",22),i.uc(723,"'Steve'"),i.Tb(),i.uc(724,",\n  ownerName: "),i.Ub(725,"span",22),i.uc(726,"'Bobbert'"),i.Tb(),i.uc(727,",\n  collarColor: "),i.Ub(728,"span",22),i.uc(729,"'red'"),i.Tb(),i.uc(730),i.Tb(),i.Tb(),i.Ub(731,"p"),i.uc(732,"Here, we create an object representing a dog and store it as a variable called "),i.Ub(733,"code"),i.uc(734,"myDoggo"),i.Tb(),i.uc(735,". If we want to access variables in the "),i.Ub(736,"code"),i.uc(737,"myDoggo"),i.Tb(),i.uc(738," object we would do something like this:"),i.Tb(),i.Ub(739,"pre"),i.Ub(740,"code",13),i.Ub(741,"span",14),i.uc(742,"let name"),i.Tb(),i.uc(743," = myDoggo.name;\n"),i.Ub(744,"span",14),i.uc(745,"let owner"),i.Tb(),i.uc(746," = myDoggo.ownerName;\n"),i.Ub(747,"span",14),i.uc(748,"let collarColor"),i.Tb(),i.uc(749," = myDoggo.collarColor;\n"),i.Ub(750,"span",14),i.uc(751,"let age"),i.Tb(),i.uc(752," = myDoggo.age;\n"),i.Tb(),i.Tb(),i.Ub(753,"p"),i.uc(754,"An object can even contain functions in them if you need them to. For example, if you had a "),i.Ub(755,"em"),i.uc(756,"bark"),i.Tb(),i.uc(757," function in that dog object, you would use it like so:"),i.Tb(),i.Ub(758,"pre"),i.Ub(759,"code",13),i.uc(760,"myDoggo.bark()"),i.Ub(761,"span",16),i.uc(762,";"),i.Tb(),i.uc(763,"\n"),i.Tb(),i.Tb(),i.Ub(764,"h1",27),i.uc(765,"Bonus Tips to Maintain Your Code"),i.Tb(),i.Ub(766,"p"),i.uc(767,"The more you code, the more you'll realize that things can get pretty wild as you start coding more complex stuff. For example, you'll come to realize you'll very rarely do things right the first time. As well, sometimes it could be easy to forget exactly how some of the code you wrote works. Here, we'll show you some small tips to help you out with both of these issues. To help remember how your code works, programming languages including Javascript have a feature called comments. These are little notes you can write in your code for personal use:"),i.Tb(),i.Ub(768,"pre"),i.Ub(769,"code",13),i.uc(770,"// "),i.Ub(771,"span",28),i.uc(772,"This"),i.Tb(),i.uc(773," "),i.Ub(774,"span",20),i.uc(775,"is"),i.Tb(),i.uc(776," a single-line comment. "),i.Ub(777,"span",28),i.uc(778,"The"),i.Tb(),i.uc(779," code below me declares a variable called number "),i.Ub(780,"span",20),i.uc(781,"with"),i.Tb(),i.uc(782," a value "),i.Ub(783,"span",20),i.uc(784,"of"),i.Tb(),i.uc(785," "),i.Ub(786,"span",15),i.uc(787,"42"),i.Tb(),i.uc(788,".\n"),i.Ub(789,"span",20),i.uc(790,"let"),i.Tb(),i.uc(791," number = "),i.Ub(792,"span",15),i.uc(793,"42"),i.Tb(),i.uc(794,";\n/*\n"),i.Ub(795,"span",28),i.uc(796,"This"),i.Tb(),i.uc(797," "),i.Ub(798,"span",20),i.uc(799,"is"),i.Tb(),i.uc(800," a multi-line comment\nI can "),i.Ub(801,"span",20),i.uc(802,"type"),i.Tb(),i.uc(803," random text "),i.Ub(804,"span",20),i.uc(805,"in"),i.Tb(),i.uc(806," "),i.Ub(807,"span",20),i.uc(808,"as"),i.Tb(),i.uc(809," many\nlines "),i.Ub(810,"span",20),i.uc(811,"as"),i.Tb(),i.uc(812," I see fit\n*/\n"),i.Tb(),i.Tb(),i.Ub(813,"p"),i.uc(814,"Anything wrapped between the "),i.Ub(815,"code"),i.uc(816,"/*"),i.Tb(),i.uc(817," and the "),i.Ub(818,"code"),i.uc(819,"*/"),i.Tb(),i.uc(820," or following a "),i.Ub(821,"code"),i.uc(822,"//"),i.Tb(),i.uc(823," will be ignored because Javascript knows those are just personal notes. Although useful, they won't help you if there is a bug in your code. A small tool that can help you debug your code is the use of print statements. Print statements tell Javascript to print out data to the console in your browser. To do this, you would simply type the following:"),i.Tb(),i.Ub(824,"pre"),i.Ub(825,"code",13),i.uc(826,"let myData = "),i.Ub(827,"span",15),i.uc(828,"42"),i.Tb(),i.Ub(829,"span",16),i.uc(830,";"),i.Tb(),i.uc(831,"\nconsole.log(myData)"),i.Ub(832,"span",16),i.uc(833,";"),i.Tb(),i.uc(834,"\n"),i.Tb(),i.Tb(),i.Ub(835,"p"),i.uc(836,"Note that you can print out practically anything you want this way. So if something goes wrong you can print out the values of certain data to check their state when you run your code. Recall in the beginning we mentioned a Javascript console in your browser. This is where the "),i.Ub(837,"code"),i.uc(838,"console.log"),i.Tb(),i.uc(839," statements print out the data. Javascript will also print out errors in the console if something goes very wrong that would cause it to stop. Although it can be a little frustrating to see it can give useful hints for you to find what went wrong."),i.Tb(),i.Ub(840,"h1",29),i.uc(841,"Conclusion"),i.Tb(),i.Ub(842,"p"),i.uc(843,"In this guide, we went over the fundamental Javascript concepts you need to help you get started coding your units in Scripting Siege. If you understood these concepts you should be ready to start writing your own code that can be used in the game. Just make sure you have a look at the "),i.Ub(844,"a",30),i.uc(845,"documentation"),i.Tb(),i.uc(846," to see how exactly to get started."),i.Tb(),i.Tb(),i.Tb()}2&t&&(i.Db(176),i.wc("(isRainingOutside)","{","\n  result = "),i.Db(3),i.wc(";\n","}",""),i.Db(3),i.wc("","{","\n  result = "),i.Db(3),i.wc(";\n","}","\n"),i.Db(46),i.wc(")","{","\n  "),i.Db(6),i.wc(";\n","}",""),i.Db(3),i.wc("","{","\n  "),i.Db(6),i.wc(";\n","}","\n"),i.Db(31),i.wc(" && likesAlcohol)","{","\n  "),i.Db(6),i.wc(";\n","}",""),i.Db(9),i.wc(" && !likesAlcohol)","{","\n  "),i.Db(6),i.wc(";\n","}",""),i.Db(3),i.wc("","{","\n  "),i.Db(6),i.wc(";\n","}","\n"),i.Db(188),i.wc("; i++)","{","\n  "),i.Db(3),i.wc(" = i;\n","}","\n"),i.Db(11),i.wc(" meaning as long as i is less than 10 keep repeating what is in the curly braces (these: ","{"," ). Then after that, we say "),i.Db(39),i.xc("; i < nums.length; i++)","{","\n  sum += nums[i];\n","}","\n  "),i.Db(55),i.wc(" of nums)","{","\n  "),i.Db(6),i.wc(";\n","}","\n  "),i.Db(42),i.wc("(nums)","{","\n  "),i.Db(18),i.wc(" of nums)","{","\n\n    "),i.Db(6),i.wc(";\n\n  ","}","\n  "),i.Db(6),i.wc(";\n","}","\n  "),i.Db(40),i.wc(" = ","{","\n  name: "),i.Db(9),i.wc(",\n  age: 5\n","}",";\n"))},styles:["#main-content[_ngcontent-%COMP%]{background-color:#141c34;color:#fff;width:1188px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between}#docs-content[_ngcontent-%COMP%]{flex-grow:3;flex-basis:85%;padding-top:54px;overflow-x:auto}#book-marks[_ngcontent-%COMP%]{flex-grow:1;flex-basis:15%;padding:54px 10px;margin-right:45px;border-right:1px solid #fff}#book-marks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}#book-marks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2cdd3e}.link[_ngcontent-%COMP%]{text-decoration:none;color:#a4000f}.link[_ngcontent-%COMP%]:hover, code[_ngcontent-%COMP%]{color:#2cdd3e}code[_ngcontent-%COMP%]{font-family:codefont}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;border-collapse:collapse}table[_ngcontent-%COMP%]{width:500px;margin-top:20px;margin-bottom:20px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px}th[_ngcontent-%COMP%]{text-align:center}#main-header[_ngcontent-%COMP%]{color:#2cdd3e;margin:100px auto 57px;width:1228px}#title[_ngcontent-%COMP%]{font-family:codefont;font-size:60px}.page-ref[_ngcontent-%COMP%]{text-decoration:none;color:#fff}img[_ngcontent-%COMP%]{width:100%}"]}),t})()},{path:"using-the-code-editor",component:(()=>{class t{constructor(t,e,n){this.viewPortScroller=t,this.router=e,this.auth=n}ngOnInit(){this.auth.checkSigninStatus()||this.router.navigate([""])}scrollToSection(t){this.viewPortScroller.scrollToAnchor(t)}goToDocs(){this.router.navigate(["docs"]),window.scroll(0,0)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(B),i.Ob(er),i.Ob(BP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-code-editor-guide"]],decls:71,vars:0,consts:[["id","main-header"],["id","title"],["id","main-content"],["id","book-marks"],[3,"click"],["id","docs-content"],["id","editing-your-block-code"],["src","assets/guides/code-editor-guide/imgs/default%20blocks.PNG"],["src","assets/guides/code-editor-guide/imgs/action%20blocks.PNG"],["id","adding-conditional-logic-to-your-block-code"],["src","assets/guides/code-editor-guide/imgs/If.PNG"],["src","assets/guides/code-editor-guide/imgs/If%20in%20range%20attack.PNG"],["id","testing-your-block-code"],["id","editing-the-grid"],["id","using-javascript-mode"],[1,"link",3,"click"],["id","saving-your-code-and-unit-formation"]],template:function(t,e){1&t&&(i.Ub(0,"header",0),i.Ub(1,"h1",1),i.uc(2,"Using Our Code Editor"),i.Tb(),i.Tb(),i.Ub(3,"div",2),i.Ub(4,"div",3),i.Ub(5,"a",4),i.bc("click",function(){return e.scrollToSection("editing-your-block-code")}),i.Ub(6,"h3"),i.uc(7,"Editing Your Block Code"),i.Tb(),i.Tb(),i.Ub(8,"a",4),i.bc("click",function(){return e.scrollToSection("adding-conditional-logic-to-your-block-code")}),i.Ub(9,"h3"),i.uc(10," Adding Conditional Logic to Your Block Code"),i.Tb(),i.Tb(),i.Ub(11,"a",4),i.bc("click",function(){return e.scrollToSection("testing-your-block-code")}),i.Ub(12,"h3"),i.uc(13,"Testing Your Block Code"),i.Tb(),i.Tb(),i.Ub(14,"a",4),i.bc("click",function(){return e.scrollToSection("editing-the-grid")}),i.Ub(15,"h3"),i.uc(16,"Editing the Grid"),i.Tb(),i.Tb(),i.Ub(17,"a",4),i.bc("click",function(){return e.scrollToSection("using-javascript-mode")}),i.Ub(18,"h3"),i.uc(19,"Using Javascript Mode"),i.Tb(),i.Tb(),i.Ub(20,"a",4),i.bc("click",function(){return e.scrollToSection("saving-your-code-and-unit-formation")}),i.Ub(21,"h3"),i.uc(22,"Saving Your Code and Unit Formation"),i.Tb(),i.Tb(),i.Tb(),i.Ub(23,"div",5),i.Ub(24,"h1"),i.uc(25,"Introduction"),i.Tb(),i.Ub(26,"p"),i.uc(27," The Scripting Siege code editor is where you\u2019ll be doing your coding and testing before entering the game. Getting comfortable with it is an important first step to beginning to learn and have fun with our platform. The editor is split into two different modes representing the two styles of coding we offer, Javascript programming and our pseudo programming language (block code). We will go over how to use each mode to produce functional game code and later test it within the editor. "),i.Tb(),i.Ub(28,"h1",6),i.uc(29,"Editing Your Block Code"),i.Tb(),i.Ub(30,"p"),i.uc(31," First, let\u2019s begin by talking about how to use our pseudo programming language, block code. By default, the editor will be in block mode but you can press the \u201cgo to js\u201d button to go to Javascript mode. Once you are in Javascript mode you can go back to block mode by pressing the \u201cgo to blocks\u201d button that should appear where the \u201cgo to js\u201d button was. On the left-hand side, you should see two blue blocks stacked on top of each other that say \u201cWhen turn\u201d, and \u201cEnd turn\u201d: "),i.Tb(),i.Pb(32,"img",7),i.Ub(33,"p"),i.uc(34," As the text on those blocks suggests, they represent the start of your code (when your unit\u2019s turn begins) and the end of your code (when your unit\u2019s code ends). Below that panel, you will see another panel containing black blocks laid out like so: "),i.Tb(),i.Pb(35,"img",8),i.Ub(36,"p"),i.uc(37," You can drag these blocks between the \u201cWhen turn\u201d and \u201cEnd turn\u201d blocks above to start giving your unit instructions. Note in each turn your unit is limited to performing a single action at a time. You must ensure that in your code your unit will only perform at most one action by the end of the turn. As the names of the tabs suggest, any block under the \u201cAction\u201d tab is considered an action for your unit to execute. Once you\u2019ve dragged a block onto your code, you will notice a trash can icon on it. Clicking it will remove the block from your code if you\u2019ve ever made a mistake. You will notice after placing your block the Javascript console on the lower right updates. This console shows you how your code would look like as actual Javascript code. This will be very useful to help you learn a little more about Javascript along the way and give you an idea of how to code units with real Javascript code. Also, note that you can click the numbered tabs above to work on multiple block code snippets at once. "),i.Tb(),i.Ub(38,"h1",9),i.uc(39,"Adding Conditional Logic to Your Block Code"),i.Tb(),i.Ub(40,"p"),i.uc(41," You will notice in the lower panel with the unplaced blocks there\u2019s a tab titled \u201cConditional\u201d. These contain special blocks that allow you to create conditional logic (if this then do that, otherwise do this). When you place an if block you will notice it will render like this: "),i.Tb(),i.Pb(42,"img",10),i.Ub(43,"p"),i.uc(44," From here, you can select the condition to check for during that turn, negate that condition (check that the condition is not true), or add more conditions with AND and OR logic. If you place a block below the if condition, you will notice that it is indented further right than the if block like so: "),i.Tb(),i.Pb(45,"img",11),i.Ub(46,"p"),i.uc(47," This means that the block below the if block will be executed only if the condition in the if block is met. Once you\u2019re done adding code your unit will execute under the condition, you need to close the \u201cif\u201d statement. In other words, you need to tell our block code interpreter that you\u2019re done adding code it will use if the condition is met. To do so you need to add either an \u201cend if\u201d block, an \u201celse if\u201d block, or an \u201celse\u201d block. The \u201celse if\u201d block is for if you want to add another condition to check if the first condition was not met. Then like the if block you can add code under that condition for if that condition is met. To close the \u201celse if\u201d statement, you would add either another \u201celse if\u201d block to check for more conditions, an \u201cend else if\u201d block, or an \u201celse\u201d block. An \u201celse\u201d block is a block that can close an \u201cif\u201d statement or an \u201celse if\u201d statement. It\u2019s used when you want to add code to be executed if none of the \u201cif\u201d or \u201celse if\u201d conditions in your conditional logic are met. Otherwise, if you don\u2019t need \u201celse\u201d logic, you can add an \u201cend else if\u201d block to close your \u201celse if\u201d statement. Similarly, if you want to close an \u201cif\u201d statement without an \u201celse if\u201d block or an \u201celse\u201d block, you would use an \u201cend if\u201d block. "),i.Tb(),i.Ub(48,"h1",12),i.uc(49,"Testing Your Block Code"),i.Tb(),i.Ub(50,"p"),i.uc(51," Once you\u2019re satisfied with the code you\u2019ve written and want to try it out, right-click your block code. This will first verify that your code is made properly. If there is an error in your code, you will be prompted to fix it with a hint as to where the mistake occurred. Once your code has been verified, you can click a unit on the grid to assign the code to. Note you can only assign code to units that are facing right. Once you added your code a number will appear on the tile the unit is on indicating the tab which contains its code. Then simply click on the run button to test out your code. "),i.Tb(),i.Ub(52,"h1",13),i.uc(53,"Editing the Grid"),i.Tb(),i.Ub(54,"p"),i.uc(55," Our code editor also provides the option to add units to the grid and move them. To move your unit across the grid simply drag it to move it to where you want it to be. To add units on the grid, right-click the tile you want to add a unit on and you will see an option to units or delete units. Note you are limited to 6 of your own units on the grid at a time. "),i.Tb(),i.Ub(56,"h1",14),i.uc(57,"Using Javascript Mode"),i.Tb(),i.Ub(58,"p"),i.uc(59," If you feel comfortable coding your units in Javascript, then you can try using the Javascript mode of our code editor! To re-iterate, you can switch to Javascript mode by clicking the \u201cgo to js\u201d button in the editor. Once there, your code tabs will turn into Javascript consoles. As of right now, you cannot type code into those consoles nor do we have plans to allow that. Instead, you can code Javascript code in the code environment of your choice and upload the code file. When you upload your code it will appear in the console of the currently opened tab. Like the block code editor, you right-click the console to select it and then click the unit to assign it to. Note: that we do not currently verify the Javascript code for usability in the game. There\u2019s no guarantee that your code will even work properly in the game if you made a mistake in it. To find out how to code for your units in Javascript refer to the "),i.Ub(60,"a",15),i.bc("click",function(){return e.goToDocs()}),i.uc(61,"documentation"),i.Tb(),i.uc(62,". "),i.Tb(),i.Ub(63,"h1",16),i.uc(64,"Saving Your Code and Unit Formation"),i.Tb(),i.Ub(65,"p"),i.uc(66," Once you\u2019re satisfied with all the code you\u2019ve written and the placement of your units, you can save the code and formation using the save button. This will prompt you to give a name to refer to your work. Once you\u2019ve saved your code and formation, you can bring it to the game. "),i.Tb(),i.Ub(67,"h1"),i.uc(68,"Conclusion"),i.Tb(),i.Ub(69,"p"),i.uc(70," Now that you have hopefully learned how to use our code editor, you can start having fun and learn Javascript using our platform. Don\u2019t be discouraged if you\u2019re code doesn\u2019t work the way you want it to the first time, the goal here is for you to learn. Over time, you\u2019ll get figure out what strategies work and start understanding programming concepts along the way. Even once you\u2019ve learned the basics there\u2019s a lot of potential for you to practice more with our platform and create a more complex strategy. Happy coding! "),i.Tb(),i.Tb(),i.Tb())},styles:["#main-content[_ngcontent-%COMP%]{background-color:#141c34;color:#fff;width:1188px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between}#docs-content[_ngcontent-%COMP%]{flex-grow:3;flex-basis:85%;padding-top:54px;overflow-x:auto}#book-marks[_ngcontent-%COMP%]{flex-grow:1;flex-basis:15%;padding:54px 10px;margin-right:45px;border-right:1px solid #fff}#book-marks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}#book-marks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2cdd3e}.link[_ngcontent-%COMP%]{text-decoration:none;color:#a4000f}.link[_ngcontent-%COMP%]:hover, code[_ngcontent-%COMP%]{color:#2cdd3e}code[_ngcontent-%COMP%]{font-family:codefont}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #fff;border-collapse:collapse}table[_ngcontent-%COMP%]{width:500px;margin-top:20px;margin-bottom:20px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px}th[_ngcontent-%COMP%]{text-align:center}#main-header[_ngcontent-%COMP%]{color:#2cdd3e;margin:100px auto 57px;width:1228px}#title[_ngcontent-%COMP%]{font-family:codefont;font-size:60px}.page-ref[_ngcontent-%COMP%]{text-decoration:none;color:#fff}img[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let mL=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[pr.forRoot(pL,{relativeLinkResolution:"legacy",anchorScrolling:"enabled"})],pr]}),t})();var gL=n("WMd4");function bL(t,e=Br.a){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new _L(i,e))}class _L{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new yL(t,this.delay,this.scheduler))}}class yL extends Ot.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(yL.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new vL(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(gL.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(gL.a.createComplete()),this.unsubscribe()}}class vL{constructor(t,e){this.time=t,this.notification=e}}const wL=["mat-menu-item",""],TL=["*"];function SL(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",0),i.bc("keydown",function(e){return i.nc(t),i.fc()._handleKeydown(e)})("click",function(){return i.nc(t),i.fc().closed.emit("click")})("@transformMenu.start",function(e){return i.nc(t),i.fc()._onAnimationStart(e)})("@transformMenu.done",function(e){return i.nc(t),i.fc()._onAnimationDone(e)}),i.Ub(1,"div",1),i.gc(2),i.Tb(),i.Tb()}if(2&t){const t=i.fc();i.ic("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),i.Eb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const xL={transformMenu:Ic("transformMenu",[Uc("void",Rc({opacity:0,transform:"scale(0.8)"})),Lc("void => enter",Pc([Mc(".mat-menu-content, .mat-mdc-menu-content",Ac("100ms linear",Rc({opacity:1}))),Ac("120ms cubic-bezier(0, 0, 0.2, 1)",Rc({transform:"scale(1)"}))])),Lc("* => void",Ac("100ms 25ms linear",Rc({opacity:0})))]),fadeInItems:Ic("fadeInItems",[Uc("showing",Rc({opacity:1})),Lc("void => *",[Rc({opacity:0}),Ac("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},CL=new i.s("MatMenuContent"),EL=new i.s("MAT_MENU_PANEL");class kL{}const OL=Th(vh(kL));let IL=(()=>{class t extends OL{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new St.a,this._focused=new St.a,this._highlighted=!1,this._triggersSubmenu=!1,i&&i.addItem&&i.addItem(this)}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++){const e=i[r];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(o),i.Ob(vc),i.Ob(EL,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&i.bc("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(i.Eb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),i.Gb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[i.Ab],attrs:wL,ngContentSelectors:TL,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(i.hc(),i.gc(0),i.Pb(1,"div",0)),2&t&&(i.Db(1),i.ic("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Rh],encapsulation:2,changeDetection:0}),t})();const AL=new i.s("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let PL=0,DL=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new i.F,this._tabSubscription=Ee.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new St.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new i.o,this.close=this.closed,this.panelId="mat-menu-panel-"+PL++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Sr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Sr(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new cc(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(te(this._directDescendantItems),Wt(t=>Object(Os.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(te(this._directDescendantItems),Wt(t=>Object(Os.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:_a(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Jt(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(te(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.B),i.Ob(AL))},t.\u0275dir=i.Jb({type:t,contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,CL,1),i.Hb(n,IL,1),i.Hb(n,IL,0)),2&t){let t;i.lc(t=i.cc())&&(e.lazyContent=t.first),i.lc(t=i.cc())&&(e._allItems=t),i.lc(t=i.cc())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&i.yc(i.N,1),2&t){let t;i.lc(t=i.cc())&&(e.templateRef=t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),RL=(()=>{class t extends DL{}return t.\u0275fac=function(e){return UL(e||t)},t.\u0275dir=i.Jb({type:t,features:[i.Ab]}),t})();const UL=i.Wb(RL);let LL=(()=>{class t extends RL{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.B),i.Ob(AL))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[i.Cb([{provide:EL,useExisting:RL},{provide:RL,useExisting:t}]),i.Ab],ngContentSelectors:TL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(i.hc(),i.tc(0,SL,3,6,"ng-template"))},directives:[O],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[xL.transformMenu,xL.fadeInItems]},changeDetection:0}),t})();const NL=new i.s("mat-menu-scroll-strategy"),ML={provide:NL,deps:[Ga],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},jL=fs({passive:!0});let FL=(()=>{class t{constructor(t,e,n,r,s,o,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ee.a.EMPTY,this._hoverSubscription=Ee.a.EMPTY,this._menuCloseSubscription=Ee.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new i.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,jL),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,jL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof RL&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof RL?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(re(t=>"void"===t.toState),Jt(1),Wr(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Ea({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[i,r],[a,c]=[e,n],u=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",u="bottom"===i?8:-8):this.menu.overlapTrigger||(s="top"===i?"bottom":"top",o="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:u},{originX:n,originY:s,overlayX:c,overlayY:i,offsetY:u},{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:-u},{originX:n,originY:o,overlayX:c,overlayY:r,offsetY:-u}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(Tt.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(re(t=>t!==this._menuItemInstance),re(()=>this._menuOpen)):Object(Tt.a)();return Object(Os.a)(t,n,i,e)}_handleMousedown(t){bc(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(re(t=>t===this._menuItemInstance&&!t.disabled),bL(0,Mr.b)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof RL&&this.menu._isAnimating?this.menu._animationDone.pipe(Jt(1),bL(0,Mr.b),Wr(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new la(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Ga),i.Ob(i.l),i.Ob(i.S),i.Ob(NL),i.Ob(RL,8),i.Ob(IL,10),i.Ob(gs,8),i.Ob(vc))},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&i.bc("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&i.Eb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),VL=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[ML],imports:[yh]}),t})(),BL=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[ML],imports:[[F,yh,Uh,Ja,VL],Cs,yh,VL]}),t})();function HL(t,e){1&t&&(i.Ub(0,"button",17),i.uc(1,"Sign in"),i.Tb())}function qL(t,e){if(1&t&&(i.Ub(0,"button",18),i.uc(1),i.Tb()),2&t){const t=i.fc(),e=i.mc(9);i.ic("matMenuTriggerFor",e),i.Db(1),i.vc(t.username)}}function zL(t,e){1&t&&(i.Ub(0,"button",19),i.uc(1,"Level Select"),i.Tb())}function GL(t,e){1&t&&(i.Ub(0,"button",20),i.uc(1,"Code Now"),i.Tb())}function YL(t,e){if(1&t&&(i.Ub(0,"button",21),i.uc(1,"Guides"),i.Tb()),2&t){i.fc();const t=i.mc(15);i.ic("mat-menu-trigger-for",t)}}let WL=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}logout(){this.auth.logout(),this.router.navigate([""])}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(BP),i.Ob(er))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-pageheader"]],inputs:{loggedIn:"loggedIn",username:"username"},decls:23,vars:5,consts:[[2,"background-color","#0b132b"],["mat-button","","routerLink","",1,"typebutton"],["mat-button","","id","Sign","class","typebutton right-buttons","routerLink","/signin",4,"ngIf"],["mat-button","","id","Username","class","typebutton right-buttons",3,"matMenuTriggerFor",4,"ngIf"],["mat-button","","id","LevelSelect","class","typebutton right-buttons","routerLink","/levelSelect",4,"ngIf"],["mat-button","","id","CodeNow","class","typebutton right-buttons","routerLink","/code",4,"ngIf"],["mat-button","","id","Docs","class","typebutton right-buttons",3,"mat-menu-trigger-for",4,"ngIf"],["xPosition","before"],["profiledropdown","matMenu"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["xPosition","after"],["guidedropdown","matMenu"],["mat-menu-item","","routerLink","/using-the-code-editor"],["mat-menu-item","","routerLink","/learn-js"],["mat-menu-item","","routerLink","/docs"],[2,"margin-bottom","0","background-color","#3a506b","height","5px","border","none"],["mat-button","","id","Sign","routerLink","/signin",1,"typebutton","right-buttons"],["mat-button","","id","Username",1,"typebutton","right-buttons",3,"matMenuTriggerFor"],["mat-button","","id","LevelSelect","routerLink","/levelSelect",1,"typebutton","right-buttons"],["mat-button","","id","CodeNow","routerLink","/code",1,"typebutton","right-buttons"],["mat-button","","id","Docs",1,"typebutton","right-buttons",3,"mat-menu-trigger-for"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"button",1),i.uc(2,"SS"),i.Tb(),i.tc(3,HL,2,0,"button",2),i.tc(4,qL,2,2,"button",3),i.tc(5,zL,2,0,"button",4),i.tc(6,GL,2,0,"button",5),i.tc(7,YL,2,1,"button",6),i.Ub(8,"mat-menu",7,8),i.Ub(10,"button",9),i.uc(11,"Profile"),i.Tb(),i.Ub(12,"button",10),i.bc("click",function(){return e.logout()}),i.uc(13,"Logout"),i.Tb(),i.Tb(),i.Ub(14,"mat-menu",11,12),i.Ub(16,"button",13),i.uc(17,"Using The Scripting Siege Code Editor"),i.Tb(),i.Ub(18,"button",14),i.uc(19,"Learn Javascript"),i.Tb(),i.Ub(20,"button",15),i.uc(21,"Scripting Siege Javascript API docs"),i.Tb(),i.Tb(),i.Pb(22,"hr",16),i.Tb()),2&t&&(i.Db(3),i.ic("ngIf",!e.loggedIn),i.Db(1),i.ic("ngIf",e.loggedIn),i.Db(1),i.ic("ngIf",e.loggedIn),i.Db(1),i.ic("ngIf",e.loggedIn),i.Db(1),i.ic("ngIf",e.loggedIn))},directives:[cD,nr,D,LL,IL,FL],styles:["#Sign[_ngcontent-%COMP%]{display:block;float:right}.typebutton[_ngcontent-%COMP%]{margin:20px 50px;font-family:Roboto;font-size:20px;color:#2cdd3e}.right-buttons[_ngcontent-%COMP%]{display:block;float:right}hr[_ngcontent-%COMP%]{margin:0}"]}),t})(),KL=(()=>{class t{constructor(t){this.auth=t,this.title="googlesolutions"}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(BP))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[3,"loggedIn","username"]],template:function(t,e){1&t&&(i.Pb(0,"app-pageheader",0),i.Pb(1,"router-outlet")),2&t&&i.ic("loggedIn",e.auth.checkSigninStatus())("username",null!==e.auth.getUser()?e.auth.getUser().authDisplayName:"")},directives:[WL,rr],styles:["*[_ngcontent-%COMP%]{height:100%}"]}),t})();const $L={apiKey:"AIzaSyB25gxYu7PkMvnjKhisCzPP62grU_OEMLU",authDomain:"solutions2021-efce9.firebaseapp.com",projectId:"solutions2021-efce9",storageBucket:"solutions2021-efce9.appspot.com",messagingSenderId:"1033043841752",appId:"1:1033043841752:web:d1f78f6778f22f4d423dad"};let XL=(()=>{class t{}return t.\u0275mod=i.Mb({type:t,bootstrap:[KL]}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[vt,mL,fh,Xp,cm.a.initializeApp($L),nA,VI,FP,uD,Jd,To,fD,XD,gd,uR,ID,Af,im,GR,Xp,GR,sL,BL]]}),t})();Object(i.V)(),_t().bootstrapModule(XL).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),s=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);